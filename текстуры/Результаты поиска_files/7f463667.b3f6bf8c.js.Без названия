"use strict";(self.webpackChunkvkweb=self.webpackChunkvkweb||[]).push([[13044],{946076:(t,e,i)=>{i.r(e),i.d(e,{UIGallery:()=>c,UI_GALLERY_CLASSNAME:()=>a.UI_GALLERY_CLASSNAME,UI_GALLERY_CONTENT_CLASSNAME:()=>a.UI_GALLERY_CONTENT_CLASSNAME,UI_GALLERY_INNER_CLASSNAME:()=>a.UI_GALLERY_INNER_CLASSNAME,uiGetGallery:()=>d});var s=i(942451),o=i(7144),l=i(663878),n=i(317412),r=i(879007),_=i(452314),a=i(374036);const h=(0,s.makeSharedState)("ui-gallery",(()=>({galleries:{},incIndex:0})),{version:0});function d(t){const e=(0,_.domData)((0,_.ge)(t),"gallery-id");return e&&h().galleries[e]}class c{_checkSizesAndUpdate(){return 0!==this._width&&0!==this._itemWidth||(this._width=Math.round((0,_.getSize)(this._el)[0]),this._itemWidth=(0,_.getSize)(this._items[0])[0],this._itemFullWidth=this._itemWidth+this._itemOffset),!(0===this._width||0===this._itemWidth)}_initScroll(){(this._opts.scrollX||this._opts.scrollY)&&(this._opts.isModernTransitionsEnabled||(0,n.addEvent)(this._innerCont,"DOMMouseScroll wheel",this._onWheelScroll.bind(this)))}_initArrows(){this._opts.noArrows?(0,_.addClass)(this._el,"ui_gallery_no_arrows"):(this._leftArrow=(0,_.geByClass1)("ui_gallery__arrow_left",this._el),this._rightArrow=(0,_.geByClass1)("ui_gallery__arrow_right",this._el),this._arrowWidth=(0,_.getSize)(this._leftArrow)[0],this._opts.isModernTransitionsEnabled?((0,n.addEvent)(this._leftArrow,"click",this._slide.bind(this,-1,void 0,{eventName:"arrow"})),(0,n.addEvent)(this._rightArrow,"click",this._slide.bind(this,1,void 0,{eventName:"arrow"}))):((0,n.addEvent)(this._leftArrow,"click",this._legacySlide.bind(this,-1,void 0,{eventName:"arrow"})),(0,n.addEvent)(this._rightArrow,"click",this._legacySlide.bind(this,1,void 0,{eventName:"arrow"}))),(0,n.addEvent)(this._leftArrow,"mouseover",this._onArrowMouseOver.bind(this,"left")),(0,n.addEvent)(this._leftArrow,"mouseout",this._onArrowMouseOut.bind(this)),(0,n.addEvent)(this._rightArrow,"mouseover",this._onArrowMouseOver.bind(this,"right")),(0,n.addEvent)(this._rightArrow,"mouseout",this._onArrowMouseOut.bind(this)))}_onWheelScroll(t){let e;if("wheel"==t.type)if(Math.abs(t.deltaY)>Math.abs(t.deltaX)){if(!this._opts.scrollY)return;e=-t.deltaY}else{if(!this._opts.scrollX)return;e=-t.deltaX}else if(void 0!==t.wheelDeltaY){if(!this._opts.scrollY)return;e=t.wheelDeltaY}else if(void 0!==t.wheelDelta)e=t.wheelDelta;else{if(!t.detail||1!==t.axis)return;e=-t.detail}e=this._scroll.rtlSame?-e:e,Math.abs(e)>=120&&(e=74*Math.max(-1,Math.min(1,e))),this._innerCont.scrollLeft-=e,this._checkItemsAfterScroll(this._innerCont.scrollLeft),(0,n.cancelEvent)(t)}_getScrollParams(){this._opts.shouldCheckGalleryViewed&&this._checkSizesAndUpdate();const t=this._width-2*this._arrowWidth,e=this._itemFullWidth>t;return{isItemBiggerThanWidth:e,scrollDistance:e?this._itemFullWidth:t}}_legacySlide(t,e,i){const{scrollDistance:s,isItemBiggerThanWidth:o}=this._getScrollParams();let r=this._innerCont.scrollLeft+(this._scroll.rtlSame?-t:t)*s;const a=this._innerCont.scrollWidth-this._width;this._scroll.negative?(r=Math.min(r,0),r=Math.abs(r)):r=Math.max(0,r),r=Math.min(a,r);const h=this._scroll.negative||this._scroll.rtlSame?-t:t;if(h>0&&r<a){r=Math.floor(r/this._itemFullWidth)*this._itemFullWidth}else if(h<0&&r>0){r=(o?Math.ceil(r/this._itemFullWidth):Math.floor(r/this._itemFullWidth))*this._itemFullWidth}if(this._opts.isFullSizeSlide&&(r=(this._visible.left+t)*this._itemFullWidth),0===r||r===a){const e=this._innerCont.scrollWidth;(0,_.addClass)(this._inner,"ui_gallery__inner_shift_instant"),this._onArrowMouseOut(),r&&(r+=t*(this._innerCont.scrollWidth-e))}this._scroll.negative&&(r=-r),(0,l.animate)(this._innerCont,{scrollLeft:r},{duration:Math.abs(this._innerCont.scrollLeft-r)+50,transition:l.Fx.Transitions.easeOutCubic}),this._checkItemsAfterScroll(r),setTimeout((()=>(0,_.removeClass)(this._inner,"ui_gallery__inner_shift_instant")),0),this._opts?.onSlide?.(t,{eventName:i?.eventName}),e&&(0,n.cancelEvent)(e)}_updateShift(t){let e=this._shift+t;const i=this._inner.scrollWidth-this._inner.clientWidth;e>i&&(e=i),e<0&&(e=0),this._shift=e}_slide(t,e,i){const{scrollDistance:s}=this._getScrollParams();this._updateShift(t*s),this._inner.style.transform=`translate3d(${-1*this._shift}px, 0, 0)`,this._checkItemsAfterScroll(this._shift),this._opts?.onSlide?.(t,{eventName:i?.eventName}),e&&(0,n.cancelEvent)(e)}_checkItemsAfterScroll(t,e){if(this._scroll.negative&&(t=Math.abs(t)),(!this._opts.shouldCheckGalleryViewed||this._visible.isGalleryViewed)&&(!this._opts.shouldCheckGalleryViewed||this._checkSizesAndUpdate())){if(this._opts.markOutside||this._opts.onViewItem){const i=this._itemWidth/3,s=(this._scroll.backward?this._inner.scrollWidth-this._width-t:t)-this._scrollOffset,o=t&&Math.floor(s/this._itemFullWidth),l=o*this._itemFullWidth+2*i;let n;n=this._scroll.backward?t+this._width<this._inner.scrollWidth-l:t>l;const a=Math.min(this._items.length-1,Math.floor((s+this._width)/this._itemFullWidth)),h=a*this._itemFullWidth+2*i;let d;if(d=this._scroll.backward?t>this._inner.scrollWidth-h:t+this._width<h,this._opts.onViewItem){const t=n?Math.min(this._items.length-1,o+1):o,i=d?Math.max(0,a-1):a;if(e||t!==this._visible.left||i!==this._visible.right){for(let s=t;s<=i;s++)(this._visible.left<0||e&&!(0,r.inArray)(this._items[s],this._visible.items)||s<this._visible.left||s>this._visible.right)&&this._opts.onViewItem(this._items[s],s);this._visible.left=t,this._visible.right=i,this._visible.items=this._items.slice(t,i+1)}}this._opts.markOutside&&(e?((0,_.geByClass)("ui_gallery_item_outside",this._inner).forEach((t=>{(0,_.removeClass)(t,"ui_gallery_item_outside")})),this._outside.left=-1,this._outside.right=-1):((o!==this._outside.left||!n)&&this._outside.left>=0&&((0,_.removeClass)(this._items[this._outside.left],"ui_gallery_item_outside"),this._outside.left=-1),(a!==this._outside.right||!d)&&this._outside.right>=0&&((0,_.removeClass)(this._items[this._outside.right],"ui_gallery_item_outside"),this._outside.right=-1)),n&&o!==this._outside.left&&((0,_.addClass)(this._items[o],"ui_gallery_item_outside"),this._outside.left=o),d&&a!==this._outside.right&&((0,_.addClass)(this._items[a],"ui_gallery_item_outside"),this._outside.right=a))}if(!this._opts.noArrows){const e=t>0,i=t+this._width<this._inner.scrollWidth;(0,_.toggleClass)(this._leftArrow,"ui_gallery__arrow_visible",this._scroll.rtl&&!this._scroll.backward?i:e),(0,_.toggleClass)(this._rightArrow,"ui_gallery__arrow_visible",this._scroll.rtl&&!this._scroll.backward?e:i)}(!this._scroll.backward&&this._inner.scrollWidth-t-this._width<1e3||this._scroll.backward&&t<1e3)&&this._onLoadMore()}}_onArrowMouseOver(t){this._inner.classList.add(`ui_gallery__inner_shift_${t}`)}_onArrowMouseOut(){this._inner.classList.remove("ui_gallery__inner_shift_left"),this._inner.classList.remove("ui_gallery__inner_shift_right")}_onLoadMore(){!this._opts.onLoadMore||this._loadingMore||this._finised||(this._loadingMore=!0,this._opts.onLoadMore(this._items.length))}addMore(t,e){t=t||[],this.addItems(t),this._finised=!!e||!t.length,this._loadingMore=!1}addItems(t,e){if((t=t||[]).length){const i=e>=0&&e<this._items.length?this._items[e]:null;t.forEach((t=>{i?(0,_.domInsertBefore)(t,i):this._inner.appendChild(t)})),this.refresh()}}destroy(){(0,n.removeEvent)(this._innerCont),(0,n.removeEvent)(this._leftArrow),(0,n.removeEvent)(this._rightArrow),(0,_.domData)(this._el,"gallery-id",null),delete h().galleries[this._id],this._opts.onDestroy&&this._opts.onDestroy(),(0,_.re)(this._el)}removeItem(t){return(0,o.isNumeric)(t)&&(t=this._items[t]),!(!t||!(0,r.inArray)(t,this._items))&&((0,_.re)(t),this.refresh(),this._items.length||this.destroy(),!0)}refresh(){this._width=Math.round((0,_.getSize)(this._el)[0]),this._items=(0,_.geByClass)("ui_gallery_item",this._el),this._checkItemsAfterScroll(this._innerCont.scrollLeft,!0)}scrollToDirection(t){this._opts.isModernTransitionsEnabled?this._slide(t,void 0,{eventName:"bullet"}):this._legacySlide(t,void 0,{eventName:"bullet"})}getItems(){return this._items}getVisibleItems(){return this._visible.items.map(((t,e)=>[t,this._visible.left+e]))}setGalleryViewed(){this._visible.isGalleryViewed=!0,this._checkItemsAfterScroll(this._innerCont.scrollLeft)}constructor(t,e){if(!t)throw new Error("No element was provided for UIGallery");if(!(t=(0,_.ge)(t)).classList.contains(a.UI_GALLERY_CLASSNAME))throw new Error("Provided incorrect element for UIGallery");const i=d(t);if(i)return i;this._opts=(0,r.extend)({markOutside:!1,scrollY:!0,scrollX:!0,noArrows:!1,isFullSizeSlide:!1,isModernTransitionsEnabled:!1},e),this._id=h().incIndex,h().incIndex+=1,this._el=t,this._width=Math.round((0,_.getSize)(this._el)[0]),this._items=(0,_.geByClass)("ui_gallery_item",this._el),this._itemWidth=(0,_.getSize)(this._items[0])[0],this._itemOffset=(0,r.intval)((0,_.getStyle)(this._items[0],vk.rtl?"marginLeft":"marginRight")),this._scrollOffset=(0,r.intval)((0,_.getStyle)(this._items[0],"marginLeft")),this._itemFullWidth=this._itemWidth+this._itemOffset,this._innerCont=(0,_.geByClass1)(a.UI_GALLERY_CONTENT_CLASSNAME,this._el),this._inner=(0,_.geByClass1)(a.UI_GALLERY_INNER_CLASSNAME,this._el),this._opts.isModernTransitionsEnabled&&(this._shift=0,this._inner.classList.add("ui_gallery__inner--withTransitions")),this._scroll=function(){const t={rtl:!1,backward:!1,delta:1,negative:!1,rtlSame:!1};if(!vk.rtl)return t;if(!cur._scrollInfo){const e=(0,_.se)('<div style="position: fixed; left: -1000px; width: 0; overflow: scroll">x</div>'),i=document.querySelector("#content");i?.appendChild(e);const s=e.scrollLeft;t.rtl=vk.rtl,t.backward=s>0,e.scrollLeft=1e3,t.delta=e.scrollLeft===s?-1:1,t.negative=!t.backward&&t.delta<0,t.rtlSame=t.rtl&&!t.backward&&!t.negative,(0,_.re)(e),cur._scrollInfo=t}return cur._scrollInfo}(),this._loadingMore=!1,this._finised=!1,this._visible={left:-1,right:-1,items:[],isGalleryViewed:!1},this._outside={left:-1,right:-1,timer:null},this._initScroll(),this._initArrows(),(0,_.domData)(this._el,"gallery-id",this._id),h().galleries[this._id]=this,this._checkItemsAfterScroll(this._innerCont.scrollLeft,!0)}}},614019:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var _web_legacy_ui_ui_actions_menu_utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(740739),_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(317412),_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(452314),_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(879007),_web_lib_scroll__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(688701),_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(618913),_web_legacy_ui_ui_scroll__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(473253);const uiActionsMenu={keyToggle:function(t,e){if(!(0,_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_1__.checkKeyboardEvent)(e))return!1;const i=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domClosest)("_ui_menu_wrap",t);i&&uiActionsMenu.toggle(i,!(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.hasClass)(i,"shown"))},keyboardToggle:function(t,e,i){if(!(0,_web_legacy_ui_ui_actions_menu_utils__WEBPACK_IMPORTED_MODULE_0__.isKeyboardActivationEvent)(e))return!1;const s=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domClosest)("_ui_menu_wrap",t);s&&uiActionsMenu.toggle(s,!(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.hasClass)(s,"shown")),i?.preventKeyboardClickEvent&&e?.preventDefault?.()},toggle:function(el,s,options){const dummyMenu=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(el,"dummyMenu");dummyMenu&&(el=dummyMenu),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.toggleClass)(el,"shown",s);const onhide=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.attr)(el,"onHide");if(onhide&&!(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.hasClass)(el,"shown"))try{eval(onhide)}catch(t){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_5__.logEvalError)(t,onhide)}if(options&&options.onToggle){const script=options.onToggle.replace("{isShow}",""+s);try{eval(script)}catch(t){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_5__.logEvalError)(t,script)}}},show:function(t,e,i){let s=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(t,"hidetimer");s&&(clearTimeout(s),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(t,"hidetimer",0));const o=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(t,"origMenu");if(o&&(s=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(o,"hidetimer"))&&(clearTimeout(s),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(t,"hidetimer",0)),i&&i.delay){cur.uiActionsMenuShowTimeout&&clearTimeout(cur.uiActionsMenuShowTimeout);const s=i.delay;return delete i.delay,void(cur.uiActionsMenuShowTimeout=setTimeout(uiActionsMenu.show.pbind(t,e,i),s))}if(cur.uiActionsMenuShowTimeout&&(clearTimeout(cur.uiActionsMenuShowTimeout),delete cur.uiActionsMenuShowTimeout),i&&i.appendParentCls){let e,s,o=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.geByClass1)("_ui_menu",t);if(o){s=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domClosest)(i.appendParentCls,o),e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domClosest)("_ui_menu_wrap",t);const l=Object.entries(i.wrapAttrs||{}).reduce(((t,[e,i])=>(t.push(`${e}="${i}"`),t)),[]).join(" "),n=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.se)(`<div class="${e.className} ui_actions_menu_dummy_wrap" onmouseover="uiActionsMenu.show(this);" onmouseout="uiActionsMenu.hide(this);" ${l}></div>`);if(n.appendChild(o),s.appendChild(n),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(t,"dummyMenu",n),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(n,"origMenu",t),t=n,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(o,"top",(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_3__.intval)((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getStyle)(o,"top"))),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(o,"left",(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_3__.intval)((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getStyle)(o,"left"))),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(o,"right",(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_3__.intval)((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getStyle)(o,"right"))),i.processHoverCls){const s=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domClosest)(i.processHoverCls,e);(0,_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_1__.addEvent)(t,"mouseover",_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.addClass.pbind(s,"hover")),(0,_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_1__.addEvent)(t,"mouseout",_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.removeClass.pbind(s,"hover"))}}else t=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(t,"dummyMenu");const l=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(t,"origMenu");o=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.geByClass1)("_ui_menu",t),e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domClosest)("_ui_menu_wrap",l),s=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domClosest)(i.appendParentCls,o),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.setStyle)(o,{display:"block"});const n=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getXY)(s),r=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getXY)(e),_=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(o,"top"),a=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(o,"left"),h=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(o,"right"),d={top:r[1]-n[1]+_};h?d.right=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getSize)(s)[0]+n[0]-r[0]-(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getSize)(e)[0]+h:d.left=r[0]-n[0]+a,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.setStyle)(o,d)}const l=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.geByClass1)("_ui_menu",t);if(i&&i.autopos&&l&&!(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.hasClass)(t,"shown")){(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.removeClass)(t,"ui_actions_menu_left");const e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getXY)(t)[1],s=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getSize)(t)[1],o=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getSize)(l)[1],n=i.dy||10,r=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getXY)(l)[0];(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.removeClass)(t,"ui_actions_menu_top"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.addClass)(t,"no_transition"),e+s+n+o>(0,_web_lib_scroll__WEBPACK_IMPORTED_MODULE_4__.scrollGetY)()+(window.lastWindowHeight||0)&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.addClass)(t,"ui_actions_menu_top"),e-n-o<(0,_web_lib_scroll__WEBPACK_IMPORTED_MODULE_4__.scrollGetY)()+(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.getSize)("page_header_wrap")[1]&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.removeClass)(t,"ui_actions_menu_top"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.toggleClass)(t,"ui_actions_menu_left",r<0),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.removeClass)(t,"no_transition")}i&&i.hasOwnProperty("alwaysTop")&&l&&!(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.hasClass)(t,"shown")&&((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.removeClass)(t,"ui_actions_menu_top"),i.alwaysTop&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.addClass)(t,"ui_actions_menu_top")),i&&i.scroll&&i.maxHeight&&(l.style.maxHeight=((0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_3__.intval)(i.maxHeight)||200)+"px",l.__uiScroll__||new _web_legacy_ui_ui_scroll__WEBPACK_IMPORTED_MODULE_6__.default(l)),uiActionsMenu.toggle(t,!0,i)},hide:function(t,e,i){cur.uiActionsMenuShowTimeout&&(clearTimeout(cur.uiActionsMenuShowTimeout),delete cur.uiActionsMenuShowTimeout);let s=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(t,"hidedelay");s?(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(t,"hidedelay",!1):s=200;(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(t,"hidetimer")||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(t,"hidetimer",setTimeout((function(){uiActionsMenu.toggle(t,!1,i),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(t,"hidetimer",0)}),s))},hideDelay:function(t,e){(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.data)(t,"hidedelay",e)}},__WEBPACK_DEFAULT_EXPORT__=uiActionsMenu},564931:(t,e,i)=>{i.d(e,{default:()=>a});var s=i(452314),o=i(879007),l=i(317412),n=i(743288),r=i(614019),_=i(645024);const a=class{onScroll(){const t=(0,s.domPN)(this.box.bodyNode),e=this.moreEl,i=this.scrollNode,o=i.scrollHeight,l=i.scrollTop,n=i.offsetHeight||i.clientHeight;(0,s.toggleClass)(t,"olist_topsh",l>0),(0,s.toggleClass)(t,"olist_botsh",l+n<o),e&&e.offsetTop&&e.onclick&&l+n+200>=o&&e.onclick()}onMouseEvent(t){let e=t.originalTarget||t.target;if((0,s.hasClass)(e,"olist_item_wrap")||(e=(0,s.gpeByClass)("olist_item_wrap",e)),!e||e===document.body)return;if((0,s.hasClass)(e,"olist_item_loading"))return(0,l.cancelEvent)(t);if((0,l.checkEvent)(t))return!0;this.box.changed=!0;const i=e.id.match(/-?\d+/)[0],o=!this.invertedSelection&&this.selected[i]||this.invertedSelection&&!this.selected[i];if((0,s.toggleClass)(e,"olist_item_wrap_on",!o),this.selected[i]=!o||this.invertedSelection,this.selCnt+=!o||this.invertedSelection?1:-1,this.selTabUpdate(),this.onListClick&&this.onListClick(e,o),this.scrollNode.scrollTop<50){const t=this.filter;setTimeout((()=>(0,s.elfocus)(t)),100)}return(0,l.cancelEvent)(t)}onOlistSelect(t,e){r.default.toggle(this.olistFilter,!1);let i=this.selCnt,s=this.selected;switch(e.ctrlKey||e.metaKey||e.shiftKey||(s={},i=0),t){case"all":s={},i=0,(0,o.each)(this.owners,(function(){s[this[0]]=1,i++}));break;case"none":s={},i=0;break;case"people":(0,o.each)(this.owners,(function(){this[0]>0&&!s[this[0]]&&(s[this[0]]=1,i++)}));break;case"groups":(0,o.each)(this.owners,(function(){this[0]<0&&!s[this[0]]&&(s[this[0]]=1,i++)}));break;default:const e=1<<(0,o.intval)(t.replace("list",""));(0,o.each)(this.owners,(function(){this[4]&e&&!s[this[0]]&&(s[this[0]]=1,i++)}))}return this.selCnt=i,this.selected=s,this.selTabUpdate(),this.renderList(),!1}onOlistFilters(t,e){r.default.show(t,e);const i=e=>{r.default.toggle(t,!1),(0,l.removeEvent)(document,"mousedown",i)};return(0,l.addEvent)(document,"mousedown",i),e&&(0,l.cancelEvent)(e)}selTabUpdate(){if(this.isAlbumEdit)return void(this.onTabUpdate&&this.onTabUpdate());if(!this.tabs)return;const t=this.selCnt,e=this.owners.length-t,i=(0,s.geByClass1)("olist_tab_sel",this.tabs),o=(0,s.geByClass1)("olist_tab_unsel",this.tabs);(0,s.val)((0,s.geByClass1)("ui_tab_count",i),t||""),(0,s.val)((0,s.geByClass1)("ui_tab_count",o),e||""),this.onTabUpdate&&this.onTabUpdate()}renderList(t,e,i){e=e||0,i=i||this.sel;const n=e?60:120,r=this;t&&(t=t.replace(/\u2013|\u2014/g,"-"));let a=t?this.indexer.search(t):this.owners;r.unsortedIndex==i&&r.getUnsorted&&(a=r.getUnsorted(a));const h=this.selected,d=r.invertedSelection?!(this.sel<0):this.sel<0,c=r.tpl;if(i&&r.unsortedIndex!=i){const t=[];(0,o.each)(a,(function(){const i=this[r.idIndex];if((!d&&h[i]||d&&!h[i])&&(t.push(this),t.length>e+n))return!1})),a=t}const u=a.length;a=a.slice(e,e+n);let p,m=[];if(t){t=(0,o.clean)(t);let e=(0,o.escapeRE)(t);const i=(0,_.parseLatin)(t);null!=i&&(e=e+"|"+(0,o.escapeRE)(i)),p=new RegExp("(?![^&;]+;)(?!<[^<>]*)((\\(*)("+e+"))(?![^<>]*>)(?![^&;]+;)","gi")}const b=r.rsTpl?r.rsTpl:function(t,e,i,s,o){const l=!i&&s[t[0]]||i&&!s[t[0]];let n=t[1];if(e){n=-1==e.indexOf(" ")?n.split(" "):[n];let t="";for(const e in n)n.hasOwnProperty(e)&&(t+=(e>0?" ":"")+n[e].replace(o,"$2<em>$3</em>"));n=t}return{id:t[0],name:n,photo:t[2],classname:l?" olist_item_wrap_on":"",link:t[3]||(t[0]>0?"id"+t[0]:"club"+-t[0])}};(0,o.each)(a,(function(){m.push((0,s.rs)(c,b(this,t,r.invertedSelection,h,p)))})),e||m.length||m.push('<div class="no_rows">'+(t?_.getLang("global_search_not_found").replace("{search}",t):r.noSelMsg)+"</div>"),(0,s.re)(this.moreEl),m=m.join(" "),e?this.olistEl.appendChild((0,s.cf)(m)):(0,s.val)(this.olistEl,m),u>e+n&&(this.olistEl.appendChild(this.moreEl),this.moreEl.onclick=function(i){return r.renderList(t,e+n),(0,l.cancelEvent)(i)}),r.box&&r.box.scroll&&r.box.scroll.update(!1,!0),r.onScroll()}constructor(t,e,i,r){0===i.length&&(i={}),r=r||{},this.indexer=new vkIndexer(e,r.getName?r.getName:function(t){let e=t[1];if(r.nameClass){const t=(0,s.se)(e);t&&(e=(0,s.val)((0,s.geByClass1)(r.nameClass,t))||e)}return e}),this.owners=e,this.tpl=r.tpl,this.rsTpl=r.rsTpl,this.idIndex=r.idIndex||0,this.selected=i,this.getUnsorted=r.getUnsorted,this.unsortedIndex=r.unsortedIndex||0,this.box=t,this.filter=r.filter,r.onTabUpdate&&(this.onTabUpdate=r.onTabUpdate),r.onListClick&&(this.onListClick=r.onListClick);const a=this;t.setButtons(_.getLang("global_save"),(function(i){const s={},l=[],n=[];(0,o.each)(e,(function(){!a.invertedSelection&&a.selected[this[a.idIndex]]||a.invertedSelection&&!a.selected[this[a.idIndex]]?(s[this[a.idIndex]]=this,l.push(this[a.idIndex])):n.push(this[a.idIndex])})),!1!==cur.onOListSave(l,n,s,r.ret||{},i)&&t.hide(200)}),_.getLang("global_cancel")),r.box_options&&t.setOptions(r.box_options),this.scrollNode=(0,s.geByClass1)("privacy_olist",t.bodyNode),this.moreEl=(0,s.geByClass1)("olist_more",t.bodyNode,"a"),this.olistEl=(0,s.geByClass1)("olist",t.bodyNode,"div"),this.olistFilter=(0,s.ge)("olist_filter_actions"),this.sel=r.sel||0,this.tabs=(0,s.geByClass1)("ui_tabs",t.bodyNode),this.noSelMsg=r.noSelMsg||_.getLang("friends_no_user_selected"),this.invertedSelection=!1;const h=(0,s.geByClass1)("olist_tab_sel",this.tabs);this.selCnt=(0,o.intval)((0,s.val)((0,s.geByClass1)("ui_tab_count",h)));const d=this.filter?this.filter:this.filter=(0,s.ge)("olist_filter");setTimeout((()=>(0,s.elfocus)(d)),100),this.moreEl&&((0,s.isVisible)(this.moreEl)?this.moreEl.onclick=function(t){return a.renderList("",60),(0,l.cancelEvent)(t)}:((0,s.re)(this.moreEl),(0,s.show)(this.moreEl))),(0,l.addEvent)(this.olistEl,"click",this.onMouseEvent.bind(this)),(0,l.addEvent)(this.scrollNode,"scroll",this.onScroll.bind(this));const c=a.sel?a.sel>0?"sel":"unsel":"all";let u=(0,s.geByClass1)("olist_tab_"+c,a.tabs);u=u&&(0,s.geByClass1)("ui_tab",u),(cur.onOListTabChange=function(t,e){t&&n.default.switchTab(t),void 0===e&&(e=void 0===a.selPrev?0:a.selPrev),a.selPrev=a.sel,a.sel=e,a.renderList((0,s.val)(d),0,e),setTimeout((()=>(0,s.elfocus)(d)),100)})(u,a.sel),cur.onOlistChange=a.renderList.bind(this),cur.onOlistSelect=a.onOlistSelect.bind(this),cur.onOlistFilters=a.onOlistFilters.bind(this)}}},473253:(t,e,i)=>{i.r(e),i.d(e,{UiScroll:()=>h,default:()=>d});var s=i(714209),o=i(7144),l=i(879007),n=i(452314),r=i(317412),_=i(663878),a=i(849423);class h{init(){if(this.options.stopScrollPropagation&&this.fixBlocker(),!this.inited){if(!this.el.container.scrollWidth||this.disabled)return;this.fixSize(!0),this.options.autoresize&&this.startResizeListening(),this.options.global||cur.destroy.push(this.destroy.bind(this)),this.inited=!0}return this.update(!0),this.api}addEvent(t,e,i,s){return this.removeEvents.push([t,e,i]),(0,r.addEvent)(t,e,i,void 0,void 0,s?{passive:!0}:void 0),i}destroy(){if(this.disabled=!0,this.fixSize(),this.animation&&this.animation.stop(),this.moreTimeout&&clearTimeout(this.moreTimeout),this.dragstopHandler&&(0,r.removeEvent)(document,"mouseup contextmenu",this.dragstopHandler),this.dragHandler&&(0,r.removeEvent)(document,"mousemove",this.dragHandler),(0,l.each)(this.removeEvents,(function(t,e){r.removeEvent.apply(null,e)})),this.el.overflow.parentNode==this.el.container){const t=(0,n.cf)();for(;this.el.content.firstChild;)t.appendChild(this.el.content.firstChild);this.el.container.appendChild(t)}return(0,n.removeData)(this.el.container,"ui-scroll"),this.el.container.className=this.el.container.className.replace(/\bui_scroll_.+?\b/g," "),(0,l.each)(this.removeElements,(function(t,e){(0,n.re)(e)})),this.el.container.scrollTop=this.api.data.scrollTop,delete this.el.container.__uiScroll__,this.api}updateAbove(t){if((0,l.isFunction)(t)){this.animation&&this.animation.stop();const e=this.el.outer.scrollHeight-this.el.outer.scrollTop-this.el.overflow.offsetHeight;t(),this.el.outer.scrollTop=this.el.outer.scrollHeight-this.el.overflow.offsetHeight-e}return this.api}updateBelow(t){if((0,l.isFunction)(t)){this.animation&&this.animation.stop();const e=this.options.preserveEdgeBelow&&this.api.data.scrollBottom<=this.options.preserveEdgeBelowThreshold;t(),e&&this.scrollBottom(!1)}return this.api}fixBlocker(){s.browser.chrome&&!this.options.noForceReFlow&&this.forceReFlow(),this.el.blocker.scrollTop=this.blockerScrollTop}forceReFlow(){this.el.blocker.style.display="inline-block",this.el.blocker.offsetHeight,this.el.blocker.style.display=""}fixSize(t){this.options.native||(t&&null==this.fixSizeDefault&&(this.fixSizeDefault=this.el.container.style.width),(0,n.setStyle)(this.el.container,"width",t?(0,n.getSize)(this.el.container,!0)[0]||this.fixSizeDefault||"":this.fixSizeDefault||""))}emitEvent(t){this.disabled||this.inited&&this.emitter.emitEvent(t,[this.api])}static scrollEventDelta(t){let e=0;const i=void 0!==t.deltaMode?t.deltaMode:"MozMousePixelScroll"==t.type?0:1;return"wheel"==t.type?e=t.deltaY:void 0!==t.wheelDeltaX&&void 0!==t.wheelDeltaY?(e=1/40*-t.wheelDeltaY,s.browser.mac&&s.browser.opera&&(e*=.1)):void 0!==t.wheelDelta?e=1/40*-t.wheelDelta:t.detail&&2===t.axis&&(e=t.detail),e*(1==i?15:2==i?450:1)}isScrollEventUnused(t){return h.scrollEventDelta(t)>0?!this.api.data.scrollBottom:!this.api.data.scrollTop}resize(t){if(!t&&this.options.preserveEdgeBelow){const e=this.options.preserveEdgeBelow&&this.api.data.scrollBottom<=this.options.preserveEdgeBelowThreshold;this.update(!0)&&(this.emitEvent("resize"),e&&this.scrollBottom(),this.options.stopScrollPropagation&&!t&&this.fixBlocker())}else this.update(!0)&&(this.options.stopScrollPropagation&&!t&&this.fixBlocker(),this.emitEvent("resize"))}disable(t){return this.disabled=!!t,t?(this.animation&&this.animation.stop(),this.fixSize()):(this.fixSize(!0),this.options.stopScrollPropagation&&this.fixBlocker(),this.update(!0)),(0,n.toggleClass)(this.el.container,"ui_scroll_disabled",this.disabled),this.api}dragstart(t){if(!(this.disabled||this.dragging||this.options.native))return t||(t=window.event),this.dragging=!0,this.animation&&this.animation.stop(),this.options.reversed&&(this.noMore=!0),(0,r.addEvent)(document,"mouseup contextmenu",this.dragstartHandler=this.dragstop.bind(this)),(0,r.addEvent)(document,"mousemove",this.dragHandler=this.drag.bind(this)),this.dragScroll=this.options.reversed?this.api.data.scrollBottom:this.api.data.scrollTop,this.dragY=t.screenY,(0,r.cancelEvent)(t),this.emitEvent("dragstart"),this.api}dragstop(t){if(!this.disabled&&this.dragging&&!this.options.native){if(t||(t=window.event),this.dragging=!1,this.dragstopHandler&&(0,r.removeEvent)(document,"mouseup contextmenu",this.dragstopHandler),this.dragHandler&&(0,r.removeEvent)(document,"mousemove",this.dragHandler),(0,n.setStyle)(document.body,"cursor",""),(0,n.removeClass)(this.el.container,"ui_scroll_dragging"),this.dragged)this.noMore&&(this.noMore=!1,this.more());else{this.options.reversed&&(this.noMore=!0);const e=(t.pageY-(0,n.getXY)(this.el.barOuter)[1]-this.barInnerHeight/2)*(Math.max(this.options.minContentHeight,this.api.data.scrollHeight)-this.api.data.viewportHeight)/(this.barOuterHeight-this.barInnerHeight);this.scrollTop(!1,e,0,function(){this.noMore&&(this.noMore=!1,this.more())}.bind(this))}return this.dragged=!1,t&&"contextmenu"!==t.type&&(0,r.cancelEvent)(t),this.emitEvent("dragstop"),this.api}}drag(t){if(this.disabled||!this.dragging||this.options.native)return;t||(t=window.event);const e=(t.screenY-this.dragY)*(this.api.data.scrollHeight/this.el.barOuter.scrollHeight);return this.el.outer.scrollTop=this.options.reversed?this.el.outer.scrollHeight-this.el.overflow.offsetHeight-this.dragScroll+e:this.dragScroll+e,this.dragged||(this.dragged=!0,(0,n.setStyle)(document.body,"cursor","pointer"),(0,n.addClass)(this.el.container,"ui_scroll_dragging")),(0,r.cancelEvent)(t),this.emitEvent("drag"),this.api}scroll(t,e,i){return this.animation&&this.animation.stop(),this.el.outer.scrollTop==t&&this.update(!0),e?(e="number"!=typeof e||!isFinite(e)||e%1?300:Math.abs(e),this.animation=new _.Fx.Base({scrollTop:this.el.outer.scrollTop},{transition:_.Fx.Transitions.easeOutCubic,onStep:function(t){this.el.outer.scrollTop=t.scrollTop}.bind(this),duration:e,onComplete:(0,l.isFunction)(i)?i.pbind(this.api):void 0}).start({scrollTop:this.el.outer.scrollTop},{scrollTop:t})):(this.el.outer.scrollTop=t,(0,l.isFunction)(i)&&i(this.api)),this.api}scrollTop(t,e,i,s){if(t&&this.options.stopScrollPropagation&&this.fixBlocker(),!this.disabled&&!this.dragging)return this.scroll((0,l.intval)(e),i,s)}scrollBottom(t,e,i,s){if(t&&this.options.stopScrollPropagation&&this.fixBlocker(),!this.disabled&&!this.dragging)return this.scroll(this.el.outer.scrollHeight-this.el.overflow.offsetHeight-(0,l.intval)(e),i,s)}scrollBy(t,e,i){if(!this.disabled&&!this.dragging)return this.scroll(this.el.outer.scrollTop+(0,l.intval)(t),e,i)}scrollIntoView(t,e,i,s){if(t&&this.options.stopScrollPropagation&&this.fixBlocker(),(e=(0,a.getScrollElement)(e))&&e.compareDocumentPosition&&e.compareDocumentPosition(this.el.content)&Node.DOCUMENT_POSITION_CONTAINS){const t=(0,n.getXY)(e)[1],o=(0,n.getXY)(this.el.overflow)[1],r=(0,n.getSize)(e)[1];if(t<=o&&t+r>=o+this.api.data.viewportHeight||t>=o&&t+r<=o+this.api.data.viewportHeight)(0,l.isFunction)(s)&&(i?setTimeout(s.bind(this.api),0):s(this.api));else if(r>this.api.data.viewportHeight||t<o)this.scrollTop(!1,t-o+this.api.data.scrollTop-(this.options.shadows?(0,n.getSize)(this.el.shadowTop)[1]:0),i,s);else{const e=this.options.shadows?(0,n.getSize)(this.el.shadowBottom)[1]:0;this.scrollTop(!1,t-o+this.api.data.scrollTop+r-this.api.data.viewportHeight+e,i,s)}}return this.api}update(t){let e,i;this.el.container&&!this.el.container.updateScroll&&(this.el.container.updateScroll=this.update.bind(this,!1));const s=this.el.outer.scrollTop;if(this.inited&&!this.disabled&&(t&&(e=this.el.inner.offsetHeight,this.api.data.viewportHeight!==(this.api.data.viewportHeight=this.el.overflow.offsetHeight)||this.api.data.scrollHeight!==e)||this.api.data.scrollTop!==s)){if(t&&(this.api.data.scrollHeight=e),this.api.data.scrollTop=Math.max(0,Math.min(this.api.data.scrollHeight-this.api.data.viewportHeight,Math.max(0,s))),this.api.data.scrollBottom=Math.max(0,this.api.data.scrollHeight-this.api.data.scrollTop-this.api.data.viewportHeight),!this.options.native){if(e=Math.max(this.options.minContentHeight,this.api.data.scrollHeight),i=e<=this.api.data.viewportHeight,!i){const i=this.el.barOuter.offsetHeight;(t||this.barOuterHeight!==i)&&(this.barOuterHeight=i,this.barInnerHeight=Math.max(this.options.barMinHeight,this.barOuterHeight*this.api.data.viewportHeight/e),this.el.barInner.style.height=this.barInnerHeight+"px"),(0,a.nextFrame)((()=>{const t=(this.barOuterHeight-this.barInnerHeight)*this.api.data.scrollTop/(e-this.api.data.viewportHeight);this.el.barInner.style.transform=`translateY(${t}px)`}))}this.options.shadows&&(this.shadowTop!=(this.api.data.scrollTop&&!i)&&(0,n.toggleClass)(this.el.container,"ui_scroll_shadow_top_visible",this.shadowTop=this.api.data.scrollTop&&!i),this.shadowBottom!=(this.api.data.scrollBottom&&!i)&&(0,n.toggleClass)(this.el.container,"ui_scroll_shadow_bottom_visible",this.shadowBottom=this.api.data.scrollBottom&&!i)),this.unnecessary!==i&&((0,n.toggleClass)(this.el.container,"ui_scroll_unnecessary",i),this.unnecessary=i,this.options.stopScrollPropagation&&this.fixBlocker(),i&&this.barInnerHeight&&this.barOuterHeight&&(0,a.nextFrame)(function(t){this.el.barInner.style.height=100*this.barInnerHeight/this.barOuterHeight+"%";const i=(this.barOuterHeight-this.barInnerHeight)*this.api.data.scrollTop/(e-this.api.data.viewportHeight)*100/this.barInnerHeight;this.el.barInner.style.transform=`translateY(${i}%)`}.bind(this)))}return this.emitEvent("update"),(!this.options.reversed||s>=0)&&this.more(),!0}return!1}more(){const t=this.options.reversed?this.api.data.scrollTop:this.api.data.scrollBottom,e=null!==this.options.onmoreThreshold?this.options.onmoreThreshold:2*this.api.data.viewportHeight;!this.noMore&&t<=e&&this.emitEvent("more")}constructor(t,e){if(!(t=(0,a.getScrollElement)(t)))throw new Error("uiScroll container is undefined");t.__uiScroll__&&t.__uiScroll__.destroy(),this.options=(0,l.extend)({global:!1,native:!1,theme:"default",reversed:!1,autoresize:!0,preserveEdgeBelow:!1,barMinHeight:30,preserveEdgeBelowThreshold:20,stopScrollPropagation:!0,stopScrollPropagationAlways:!1,minContentHeight:0,onmoreThreshold:null,hidden:!1,shadows:!1,scrollElements:[],onresize:null,onscroll:null,onscrollstart:null,onscrollstop:null,ondrag:null,ondragstart:null,ondragstop:null,onupdate:null,onmore:null,noForceReFlow:!1},e),this.options.native&&(this.options.shadows=!1),s.browser.mobile&&(this.options.stopScrollPropagation=!1),(0,o.isArray)(this.options.scrollElements)||(this.options.scrollElements=[]),this.removeEvents=[],this.removeElements=[],this.dragging=!1,this.dragged=!1,this.released=!0,this.noMore=!1,this.dragY=null,this.dragScroll=null,this.shadowTop=!1,this.shadowBottom=!1,this.unnecessary=!1,this.disabled=!1,this.stopped=!0,this.stoppedTimeout=null,this.fixSizeDefault=null,this.animation=null,this.barOuterHeight=null,this.barInnerHeight=null,this.currentFrame=null,this.blockerScrollTop=500,this.emitter=new EventEmitter,(0,l.isFunction)(this.options.onresize)&&this.emitter.addListener("resize",this.options.onresize),(0,l.isFunction)(this.options.onscroll)&&this.emitter.addListener("scroll",this.options.onscroll),(0,l.isFunction)(this.options.onscrollstart)&&this.emitter.addListener("scrollstart",this.options.onscrollstart),(0,l.isFunction)(this.options.onscrollstop)&&this.emitter.addListener("scrollstop",this.options.onscrollstop),(0,l.isFunction)(this.options.ondrag)&&this.emitter.addListener("drag",this.options.ondrag),(0,l.isFunction)(this.options.ondragstart)&&this.emitter.addListener("dragstart",this.options.ondragstart),(0,l.isFunction)(this.options.ondragstop)&&this.emitter.addListener("dragstop",this.options.ondragstop),(0,l.isFunction)(this.options.onupdate)&&this.emitter.addListener("update",this.options.onupdate),(0,l.isFunction)(this.options.onmore)&&this.emitter.addListener("more",this.options.onmore),this.el={container:t,overflow:(0,n.ce)("div",{className:"ui_scroll_overflow"}),outer:(0,n.ce)("div",{className:"ui_scroll_outer"},{margin:this.options.stopScrollPropagation?this.blockerScrollTop+"px 0":void 0}),inner:(0,n.ce)("div",{className:"ui_scroll_inner tt_noappend"}),shadowTop:(0,n.ce)("div",{className:"ui_scroll_shadow_top"}),shadowBottom:(0,n.ce)("div",{className:"ui_scroll_shadow_bottom"}),content:(0,n.ce)("div",{className:"ui_scroll_content clear_fix"}),barContainer:(0,n.ce)("div",{className:"ui_scroll_bar_container"}),barOuter:(0,n.ce)("div",{className:"ui_scroll_bar_outer"}),barInner:(0,n.ce)("div",{className:"ui_scroll_bar_inner"})},(0,n.data)(this.el.container,"ui-scroll",this);const i=(0,n.cf)(),_=["ui_scroll_container"];for((0,l.each)((0,o.isArray)(this.options.theme)?this.options.theme:(0,l.trim)(this.options.theme+"").split(/\s+/),(function(t,e){e&&_.push("ui_scroll_"+e+"_theme")})),(0,n.addClass)(this.el.container,_.join(" ")),this.options.hidden&&(0,n.addClass)(this.el.container,"ui_scroll_hidden");this.el.container.firstChild;)this.el.content.appendChild(this.el.container.firstChild);if(this.el.outer.appendChild(this.el.inner),this.el.inner.appendChild(this.el.content),this.options.stopScrollPropagation?(this.el.blocker=(0,n.ce)("div",{className:"ui_scroll_blocker"}),this.addEvent(this.el.blocker,"scroll",this.fixBlocker.bind(this),!0),this.el.blocker.appendChild(this.el.outer),this.el.overflow.appendChild(this.el.blocker)):this.el.overflow.appendChild(this.el.outer),i.appendChild(this.el.overflow),this.options.native?(0,n.addClass)(this.el.container,"ui_scroll_native"):(this.el.barOuter.appendChild(this.el.barInner),this.el.barContainer.appendChild(this.el.barOuter),i.appendChild(this.el.barContainer),this.options.shadows&&(this.el.overflow.appendChild(this.el.shadowTop),this.el.overflow.appendChild(this.el.shadowBottom)),s.browser.mobile||this.options.scrollElements.push(this.el.barContainer)),this.options.autoresize){const t=(0,a.addResizeSensor)(this.el.inner,this.resize.bind(this,!0)),e=(0,a.addResizeSensor)(this.el.overflow,this.resize.bind(this,!1));this.removeElements.push(t[0]),this.removeElements.push(e[0]),this.startResizeListening=function(){t[1](),e[1]()}}this.removeElements.push(this.el.overflow,this.el.barContainer),this.el.container.appendChild(i),this.options.reversed&&(this.el.outer.scrollTop=this.el.outer.scrollHeight),this.el.container.__uiScroll__=this.api={container:this.el.container,scroller:this.el.outer,content:this.el.content,emitter:this.emitter,ondragstart:this.dragstart.bind(this),ondragstop:this.dragstop.bind(this),ondrag:this.drag.bind(this),destroy:this.destroy.bind(this),disable:this.disable.bind(this,!0),enable:this.disable.bind(this,!1),scrollTop:this.scrollTop.bind(this,!0),scrollBottom:this.scrollBottom.bind(this,!0),scrollBy:this.scrollBy.bind(this),scrollIntoView:this.scrollIntoView.bind(this,!0),update:this.init.bind(this),updateAbove:this.updateAbove.bind(this),updateBelow:this.updateBelow.bind(this),data:{scrollTop:null,scrollBottom:null,scrollHeight:null,viewportHeight:null}},this.init();const d="onwheel"in this.el.outer?"wheel":void 0!==document.onmousewheel?"mousewheel":s.browser.mozilla?"MozMousePixelScroll":"DOMMouseScroll";return this.addEvent(this.el.container,d,function(t){this.animation&&this.animation.stop(),!this.disabled&&this.options.stopScrollPropagation&&(this.unnecessary?this.options.stopScrollPropagationAlways&&(0,r.cancelEvent)(t):this.isScrollEventUnused(t)?(0,r.cancelEvent)(t):(0,r.stopEvent)(t))}.bind(this),!this.options.stopScrollPropagation),this.options.native||this.addEvent(this.el.barContainer,"mousedown",this.dragstart.bind(this)),(0,l.each)(this.options.scrollElements,function(t,e){this.addEvent(e,d,function(t){this.disabled||this.unnecessary||(this.scrollBy(h.scrollEventDelta(t)),!this.options.stopScrollPropagation&&this.isScrollEventUnused(t)||(0,r.cancelEvent)(t))}.bind(this))}.bind(this)),this.options.reversed&&this.addEvent(this.el.container,"mousedown touchstart pointerdown",function(t){this.released=!1,this.noMore=!0;const e=this.addEvent(document,"mouseup contextmenu touchend pointerup",function(t){(0,r.removeEvent)(document,"mouseup contextmenu touchend pointerup",e),this.released=!0,this.noMore&&this.stopped&&!this.dragging&&(this.noMore=!1,this.more())}.bind(this))}.bind(this)),this.addEvent(this.el.outer,"scroll",function(){this.update()&&(this.stopped?(this.stopped=!1,this.emitEvent("scrollstart")):this.options.native||!1!==this.stopped||(this.stopped=0,(0,n.addClass)(this.el.container,"ui_scroll_scrolled")),this.emitEvent("scroll"),this.stoppedTimeout&&clearTimeout(this.stoppedTimeout),this.stoppedTimeout=setTimeout(function(){this.stopped||(this.stopped=!0,this.options.native||(0,n.removeClass)(this.el.container,"ui_scroll_scrolled"),this.emitEvent("scrollstop"),this.noMore&&this.released&&!this.dragging&&(this.noMore=!1,this.more()))}.bind(this),200))}.bind(this)),this.api}}h.addResizeSensor=a.addResizeSensor;const d=h},849423:(t,e,i)=>{i.d(e,{addResizeSensor:()=>d,getScrollElement:()=>h,nextFrame:()=>a});var s=i(879007),o=i(452314),l=i(714209);let n;const r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||(t=>setTimeout(t,1)),_=window.cancelAnimationFrame||window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout;function a(t){n&&_(n),n=r(t)}function h(t){return(0,s.isString)(t)&&"_"===t[0]?(0,o.geByClass1)(t):(0,o.ge)(t)}function d(t,e){if((t=h(t))&&(0,s.isFunction)(e)){if(l.browser.msie9||l.browser.opera&&l.browser.version<13){let i=!1,n=!1;const r=(0,o.ce)("object",{type:"text/html",className:"ui_scroll_resize_object",data:"about:blank",onload:function(){n=!0,i&&_()}});function _(){if(!r.contentDocument)return setTimeout(_,100);r.contentDocument.defaultView.removeEventListener("resize",e),r.contentDocument.defaultView.addEventListener("resize",e),e()}return t.appendChild(r),t.__resizeSensor__=[r,function(){i=!0,n&&_()}]}{const a=(0,o.ce)("div",{className:"ui_scroll_resize_sensor"}),d=(0,o.ce)("div",{className:"ui_scroll_resize_sensor ui_scroll_resize_expand"}),c=(0,o.ce)("div",{className:"ui_scroll_resize_sensor ui_scroll_resize_shrink"}),u=(0,o.ce)("div"),p=(0,o.ce)("div");let m=null;return d.appendChild(u),c.appendChild(p),a.appendChild(d),a.appendChild(c),t.appendChild(a),t.__resizeSensor__=[a,d.onscroll=c.onscroll=function(){const i=(t.offsetWidth||1e4)+10,s=(t.offsetHeight||1e4)+10;u.style.width=i+"px",u.style.height=s+"px",d.scrollLeft=i,d.scrollTop=s,c.scrollLeft=i,c.scrollTop=s,m!==(m=i+" "+s)&&e()}]}}}},743288:(t,e,i)=>{i.d(e,{default:()=>d});var s=i(452314),o=i(879007),l=i(714209),n=i(317412),r=i(248782),_=i(946076),a=i(171444);const h={initTabs:function(t,e,i=!0){if(l.browser.msie&&(0,o.intval)(l.browser.version)<10)return;if(l.browser.opera&&(0,o.intval)(l.browser.version)<15)return;if((0,s.hasClass)(t,"ui_tabs_sliding"))return;const n=(0,s.getSize)(e)[0],r=e.offsetLeft,_=(0,s.geByClass1)("_ui_tabs_slider",t);if(_&&!(0,s.domData)(t,"inited")){const t={width:n+"px",marginLeft:r};(0,s.setStyle)(_,t)}i&&h.tryInitTabsScroll(t)},tryInitTabsScroll:function(t){const e=t.querySelector(".js-tabs-scroll:not(.js-tabs-scroll-inited)");if(!e)return;e.classList.add("js-tabs-scroll-inited");const i=new _.UIGallery(e,{scrollY:!1}),s=(0,r.debounce)((()=>{i.refresh()}),200);window.addEventListener("resize",s),(0,a.pushNavDestroy)((()=>{i.destroy(),window.removeEventListener("resize",s)}))},tryInit:function(t,e=!0){if((0,s.domData)(t,"inited"))return;const i=(0,s.geByClass1)("ui_tab_group_sel",t)||(0,s.geByClass1)("ui_tab_sel",t);i&&h.initTabs(t,i,e),(0,s.domData)(t,"inited",1)},goTab:function(t,e,i,o=!1){if((0,n.checkEvent)(e))return!0;const l=(0,s.gpeByClass)("ui_tabs",t);return!(!i&&(0,s.geByClass1)("ui_tab_sel",l)==t)&&(h.switchTab(t),h.showProgress(l),nav.go(t,e,{tab:t,noframe:o}))},switchTab:function(t,e){let i=(0,s.gpeByClass)("ui_tabs",t);const l=(0,s.geByClass1)("ui_tab_sel",i);let n=null,r=null;const _=(0,s.hasClass)(l,"ui_tab_group_item")?r=(0,s.gpeByClass)("ui_tab_group",l):l,a=(0,s.hasClass)(t,"ui_tab_group_item")?n=(0,s.gpeByClass)("ui_tab_group",t):t;if(t!=l){if(t!=a&&(h.toggleGroup(a,!1),h.resetLabel(a,t)),_){h.initTabs(i,_),e=e||{};const t=(0,s.geByClass1)("_ui_tabs_slider",i);if(t){e.noAnim||a===_||((0,s.addClass)(i,"ui_tabs_sliding"),clearTimeout(cur.tabSlidingTO),cur.tabSlidingTO=setTimeout(s.removeClass.pbind(i,"ui_tabs_sliding"),300));const l=(0,o.intval)(t.style.marginLeft),n={width:(0,s.getSize)(a)[0]+"px"};n[cssTransformProp]="translateX("+(a.offsetLeft-l)+"px)",(0,s.setStyle)(t,n)}l!=_&&a!=_&&h.resetLabel(_),_!=l&&(0,s.removeClass)(_,"ui_tab_group_sel"),(0,s.removeClass)(l,"ui_tab_sel"),"tab"===(0,s.attr)(l,"role")&&(0,s.attr)(l,"aria-selected","false")}if(a!=t&&(0,s.addClass)(a,"ui_tab_group_sel"),(0,s.addClass)(t,"ui_tab_sel"),r&&(0,s.removeClass)(r,"ui_tab_hide_separator"),"tab"===(0,s.attr)(t,"role")&&(0,s.attr)(t,"aria-selected","true"),n){i=(0,s.geByClass1)("ui_tab_group_items",n,"div").children;let t=null;(0,o.each)(i,(function(e,i){"SPAN"===i.tagName?t=i:(0,s.hasClass)((0,s.domFC)(i),"ui_tab_sel")||(0,s.hasClass)(i,"unshown")||(t=null)})),t&&(0,s.addClass)(n,"ui_tab_hide_separator")}}return!1},resetLabel:function(t,e){const i=(0,s.geByClass1)("ui_tab_group_label",t,"span");i&&(i.innerHTML=(e||i).getAttribute("data-default-label"))},toggleGroup:function(t,e){const i=(0,s.data)(t,"visibletimer");i&&clearTimeout(i),(0,s.data)(t,"visibletimer",setTimeout(s.toggleClass.pbind(t,"visible",e),e?0:100)),(0,s.toggleClass)(t,"shown",e)},showGroup:function(t){const e=(0,s.data)(t,"hidetimer");e&&(clearTimeout(e),(0,s.data)(t,"hidetimer",0)),h.toggleGroup(t,!0)},hideGroup:function(t){(0,s.data)(t,"hidetimer")||(0,s.data)(t,"hidetimer",setTimeout((function(){h.toggleGroup(t,!1),(0,s.data)(t,"hidetimer",0)}),200))},showProgress:function(t){(0,s.hasClass)(t,"ui_tabs")||(t=(0,s.gpeByClass)("ui_tabs",t)),(0,s.addClass)(t,"ui_tabs_loading")},hideProgress:function(t){(0,s.hasClass)(t,"ui_tabs")||(t=(0,s.gpeByClass)("ui_tabs",t)),(0,s.removeClass)(t,"ui_tabs_loading")},showSearch:function(t,e){if(cur.viewAsBox)return cur.viewAsBox();if((0,n.checkEvent)(e))return!0;const i=(0,s.gpeByClass)("ui_tabs",t),o=(0,s.domByClass)(i,"_field");return(0,s.addClass)(i,"ui_tabs_search_opened"),uiSearch.focus(o),!1},hideSearch:function(t,e){if((0,n.checkEvent)(e))return!0;const i=(0,s.gpeByClass)("ui_tabs",t);return(0,s.removeClass)(i,"ui_tabs_search_opened"),!1},scrollToActiveTab(t){const e=document.querySelector(`#${t}`);if(!e)return;const i=e.querySelector(".ui_tab_sel, .ui_tab_group_sel"),s=e.querySelector(`.${_.UI_GALLERY_CONTENT_CLASSNAME}`);if(!i||!s)return;const o=i.offsetLeft,l=o+i.offsetWidth,n=s.scrollLeft,r=s.clientWidth,a=n+r,h=o-20,d=l+20;h<n?s.scrollTo({left:h}):d>a&&s.scrollTo({left:d-r})},showSort(){const t=document.querySelector(".js-ui_tab_sort_wrap");t&&t.classList.remove("ui_tab_search_wrap_hidden")},hideSort(){const t=document.querySelector(".js-ui_tab_sort_wrap");t&&t.classList.add("ui_tab_search_wrap_hidden")}},d=h},740739:(t,e,i)=>{i.d(e,{isKeyboardActivationEvent:()=>o});var s=i(317412);const o=t=>!!(window.KeyboardEvent&&t instanceof window.KeyboardEvent)&&(!(t.ctrlKey||t.altKey||t.metaKey)&&!![s.KEY.ENTER,s.KEY.SPACE].includes(t.keyCode))}}]);try{stManager.done("dist/web/chunks/7f463667.b3f6bf8c.js")}catch(t){}