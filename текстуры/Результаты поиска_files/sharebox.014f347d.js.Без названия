(()=>{"use strict";var e,t,n,r,i,o,s={704235:(e,t,n)=>{n.d(t,{default:()=>r});const r="attribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform vec2 u_resolution;\n\nvarying vec2 v_texCoord;\n\nvoid main() {\n\t// convert the rectangle from pixels to 0.0 to 1.0\n\tvec2 zeroToOne = a_position / u_resolution;\n\n\t// convert from 0->1 to 0->2\n\tvec2 zeroToTwo = zeroToOne * 2.0;\n\n\t// convert from 0->2 to -1->+1 (clipspace)\n\tvec2 clipSpace = zeroToTwo - 1.0;\n\n\tgl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n\n\t// pass the texCoord to the fragment shader\n\t// The GPU will interpolate this value between points.\n\tv_texCoord = a_texCoord;\n}\n"},224465:(e,t,n)=>{n.d(t,{default:()=>r});const r="precision mediump float;\n\nvarying vec2 v_texCoord;\n\nuniform sampler2D u_image0; // image\nuniform sampler2D u_image1; // contrast_negative.png\nuniform sampler2D u_image2; // contrast_positive.png\nuniform sampler2D u_image3; // exposure_negative.png\nuniform sampler2D u_image4; // exposure_positive.png\nuniform sampler2D u_image5; // warm_negative_lut.png\nuniform sampler2D u_image6; // warm_positive_lit.png\nuniform sampler2D u_image7; // color table\n\nuniform float u_exposure;\nuniform float u_contrast;\nuniform float u_saturation;\nuniform float u_warmth;\nuniform float u_amount;\n\nvec3 ContrastSaturationBrightness(vec3 color, float brt, float sat, float con) {\n\tconst float AvgLumR = 0.5;\n\tconst float AvgLumG = 0.5;\n\tconst float AvgLumB = 0.5;\n\n\tconst vec3 LumCoeff = vec3(0.2125, 0.7154, 0.0721);\n\n\tvec3 AvgLumin = vec3(AvgLumR, AvgLumG, AvgLumB);\n\tvec3 brtColor = color * brt;\n\tvec3 intensity = vec3(dot(brtColor, LumCoeff));\n\tvec3 satColor = mix(intensity, brtColor, sat);\n\tvec3 conColor = mix(AvgLumin, satColor, con);\n\n\treturn conColor;\n}\n\nfloat BF_SoftLight(float base, float blend) {\n\treturn 2.0 * base * blend + base * base * (1.0 - 2.0 * blend);\n}\n\nvec3 BF_SoftLight(vec3 base, vec3 blend) {\n\treturn vec3(BF_SoftLight(base.r, blend.r), BF_SoftLight(base.g, blend.g), BF_SoftLight(base.b, blend.b));\n}\n\nvec3 Exposure(vec3 view, float intensity) {\n\tvec3 exposure1;\n\texposure1.r = texture2D(u_image3, vec2(view.r, 0.5)).r;\n\texposure1.g = texture2D(u_image3, vec2(view.g, 0.5)).g;\n\texposure1.b = texture2D(u_image3, vec2(view.b, 0.5)).b;\n\n\tvec3 exposure2;\n\texposure2.r = texture2D(u_image4, vec2(view.r, 0.5)).r;\n\texposure2.g = texture2D(u_image4, vec2(view.g, 0.5)).g;\n\texposure2.b = texture2D(u_image4, vec2(view.b, 0.5)).b;\n\n\tvec3 result;\n\tif (intensity >= 0.0) {\n\t\tresult = mix(view, exposure2, intensity);\n\t} else {\n\t\tresult = mix(view, exposure1, -intensity);\n\t}\n\n\treturn result;\n}\n\nvec3 Contrast(vec3 view, float intensity) {\n\tvec3 contrast1;\n\tcontrast1.r = texture2D(u_image1, vec2(view.r, 0.5)).r;\n\tcontrast1.g = texture2D(u_image1, vec2(view.g, 0.5)).g;\n\tcontrast1.b = texture2D(u_image1, vec2(view.b, 0.5)).b;\n\n\tvec3 contrast2;\n\tcontrast2.r = texture2D(u_image2, vec2(view.r, 0.5)).r;\n\tcontrast2.g = texture2D(u_image2, vec2(view.g, 0.5)).g;\n\tcontrast2.b = texture2D(u_image2, vec2(view.b, 0.5)).b;\n\n\tvec3 result;\n\tif (intensity >= 0.0) {\n\t\tresult = mix(view, contrast2, intensity);\n\t} else {\n\t\tresult = mix(view, contrast1, -intensity);\n\t}\n\n\treturn result;\n}\n\nvec3 ColorTemp(vec3 view, float intensity) {\n\tfloat blueColor = view.b * 63.0;\n\n\tvec2 quad1;\n\tquad1.y = floor(floor(blueColor) / 8.0);\n\tquad1.x = floor(blueColor) - (quad1.y * 8.0);\n\n\tvec2 quad2;\n\tquad2.y = floor(ceil(blueColor) / 8.0);\n\tquad2.x = ceil(blueColor) - (quad2.y * 8.0);\n\n\tvec2 texPos1;\n\ttexPos1.x = (quad1.x * 0.125) + 0.5 / 960.0 + ((0.125 - 1.0 / 960.0) * view.r);\n\ttexPos1.y = (quad1.y * 0.125) + 0.5 / 960.0 + ((0.125 - 1.0 / 960.0) * view.g);\n\n\tvec2 texPos2;\n\ttexPos2.x = (quad2.x * 0.125) + 0.5 / 960.0 + ((0.125 - 1.0 / 960.0) * view.r);\n\ttexPos2.y = (quad2.y * 0.125) + 0.5 / 960.0 + ((0.125 - 1.0 / 960.0) * view.g);\n\n\tvec3 coldColor1 = texture2D(u_image5, texPos1).rgb;\n\tvec3 coldColor2 = texture2D(u_image5, texPos2).rgb;\n\tvec3 coldColor = mix(coldColor1, coldColor2, fract(blueColor));\n\n\tvec3 warmColor1 = texture2D(u_image6, texPos1).rgb;\n\tvec3 warmColor2 = texture2D(u_image6, texPos2).rgb;\n\tvec3 warmColor = mix(warmColor1, warmColor2, fract(blueColor));\n\n\tvec3 result;\n\n\tif (intensity >= 0.0) {\n\t\tresult = mix(view, warmColor, intensity);\n\t} else {\n\t\tresult = mix(view, coldColor, -intensity);\n\t}\n\n\treturn result;\n}\n\nvec3 Saturation(vec3 view, float intensity) {\n\treturn ContrastSaturationBrightness(view, 1.0, intensity, 1.0);\n}\n\nvec3 Lut(vec3 view, sampler2D tex, float intensity) {\n\tfloat blueColor = view.b * 63.0;\n\n\tvec2 quad1;\n\tquad1.y = floor(floor(blueColor) / 8.0);\n\tquad1.x = floor(blueColor) - (quad1.y * 8.0);\n\n\tvec2 quad2;\n\tquad2.y = floor(ceil(blueColor) / 8.0);\n\tquad2.x = ceil(blueColor) - (quad2.y * 8.0);\n\n\tvec2 texPos1;\n\ttexPos1.x = (quad1.x * 0.125) + 0.5 / 512.0 + ((0.125 - 1.0 / 512.0) * view.r);\n\ttexPos1.y = (quad1.y * 0.125) + 0.5 / 512.0 + ((0.125 - 1.0 / 512.0) * view.g);\n\n\tvec2 texPos2;\n\ttexPos2.x = (quad2.x * 0.125) + 0.5 / 512.0 + ((0.125 - 1.0 / 512.0) * view.r);\n\ttexPos2.y = (quad2.y * 0.125) + 0.5 / 512.0 + ((0.125 - 1.0 / 512.0) * view.g);\n\n\tvec3 newColor1 = texture2D(tex, texPos1).rgb;\n\tvec3 newColor2 = texture2D(tex, texPos2).rgb;\n\n\tvec3 newColor = mix(newColor1, newColor2, fract(blueColor));\n\tvec3 color = mix(view, newColor, intensity);\n\n\treturn color;\n}\n\n// [-1.0; 1.0]\nvec3 pExposure(vec3 view, float intensity) {\n\tintensity = clamp(intensity, -1.0, 1.0);\n\treturn Exposure(view, intensity);\n}\n\n// [-1.0; 1.0]\nvec3 pContrast(vec3 view, float intensity) {\n\tintensity = clamp(intensity, -1.0, 1.0);\n\treturn Contrast(view, intensity);\n}\n\n// [-1.0; 1.0]\nvec3 pColorTemp(vec3 view, float intensity) {\n\tintensity = clamp(intensity, -1.0, 1.0);\n\treturn ColorTemp(view, intensity);\n}\n\n// [-1.0; 1.0]\nvec3 pSaturation(vec3 view, float intensity) {\n\tvec2 range = vec2(0.0, 1.6);\n\tintensity = clamp(intensity, -1.0, 1.0);\n\tintensity = (intensity >= 0.0) ? 1.0 + (range.y - 1.0) * intensity : range.x + (1.0 - range.x) * (intensity + 1.0);\n\treturn Saturation(view, intensity);\n}\n\n// [0.0; 1.0]\nvec3 pLut(vec3 view,sampler2D tex, float intensity) {\n\tvec2 range = vec2(0.0, 1.0);\n\tintensity = clamp(intensity, 0.0, 1.0);\n\treturn Lut(view, tex, intensity);\n}\n\nvoid main() {\n\t// Хак для того, чтобы перевернуть текстуру\n\tvec2 texelCoord = v_texCoord;\n\ttexelCoord.y = 1. - texelCoord.y;\n\n\tvec4 texture = texture2D(u_image0, texelCoord);\n\n\ttexture.rgb = pColorTemp(texture.rgb, u_warmth);\n\ttexture.rgb = pLut(texture.rgb, u_image7, u_amount);\n\ttexture.rgb = pExposure(texture.rgb, u_exposure);\n\ttexture.rgb = pContrast(texture.rgb, u_contrast);\n\ttexture.rgb = pSaturation(texture.rgb, u_saturation);\n\n\tgl_FragColor = texture;\n}\n"},951584:(e,t,n)=>{n.d(t,{default:()=>r});const r="precision mediump float;\n\nuniform sampler2D u_image0; // blurred image\nuniform sampler2D u_image1; // original image\nuniform vec2 u_position;\nuniform float u_radius;\n\nvarying vec2 v_texCoord;\n\nvoid main() {\n\t// Хак для того, чтобы перевернуть текстуру\n\tvec2 texelCoord = v_texCoord;\n\ttexelCoord.y = 1. - texelCoord.y;\n\n\tvec4 color = texture2D(u_image0, texelCoord);\n\tfloat distanceFromCenter = distance(u_position, texelCoord);\n\n\tcolor = mix(texture2D(u_image1, texelCoord), color, clamp(smoothstep(u_radius / 3.0, u_radius, distanceFromCenter), 0.0, 1.0));\n\tgl_FragColor = color;\n}\n"},731437:(e,t,n)=>{n.d(t,{default:()=>r});const r="precision mediump float;\n\nuniform sampler2D u_image0; // blurred image\nuniform sampler2D u_image1; // original image\nuniform vec2 u_position;\nuniform float u_radius;\n\nvarying vec2 v_texCoord;\n\nvoid main() {\n\t// Хак для того, чтобы перевернуть текстуру\n\tvec2 texelCoord = v_texCoord;\n\ttexelCoord.y = 1. - texelCoord.y;\n\n\tvec4 color = texture2D(u_image0, texelCoord);\n\tvec2 realPosition = u_position;\n\trealPosition.x = texelCoord.x;\n\n\tfloat distanceFromCenter = distance(realPosition, texelCoord);\n\tcolor = mix(texture2D(u_image1, texelCoord), color, clamp(smoothstep(u_radius / 4.0, u_radius / 2.0, distanceFromCenter), 0.0, 1.0));\n\n\tgl_FragColor = color;\n}\n"},31709:(e,t,n)=>{n.d(t,{default:()=>r});const r="precision mediump float;\n\nuniform sampler2D u_texture;\nvarying vec2 v_texCoord;\n\nvoid main() {\n\tvec4 color = texture2D(u_texture, vec2(v_texCoord.x, 1.0 - v_texCoord.y));\n\tgl_FragColor = color;\n}\n"},267776:(e,t,n)=>{n.d(t,{default:()=>r});const r="precision mediump float;\n\nvarying vec2 v_texCoord;\n\nuniform sampler2D u_image0;\n\nuniform float u_vignette;\nuniform float u_sharpness;\nuniform float u_grain;\n\nuniform vec2 u_sourceSize;\n\nvec4 rnm(in vec2 tc) {\n\tfloat timer = 0.4;\n\tfloat noise = sin(dot(tc + vec2(timer, timer), vec2(12.9898, 78.233))) * 43758.5453;\n\n\tfloat noiseR = fract(noise) * 2.0 - 1.0;\n\tfloat noiseG = fract(noise * 1.2154) * 2.0 - 1.0;\n\tfloat noiseB = fract(noise * 1.3453) * 2.0 - 1.0;\n\tfloat noiseA = fract(noise * 1.3647) * 2.0 - 1.0;\n\n\treturn vec4(noiseR,noiseG,noiseB,noiseA);\n}\n\nfloat fade(in float t) {\n\treturn t * t * t * (t * (t * 6.0 - 15.0) + 10.0);\n}\n\nfloat pnoise3D(in vec3 p) {\n\tvec3 pi = 0.00195313 * floor(p) + 0.00195313;\n\tvec3 pf = fract(p); // Fractional part for interpolation\n\n\t// Noise contributions from (x=0, y=0), z=0 and z=1\n\tfloat perm00 = rnm(pi.xy).a ;\n\tvec3  grad000 = rnm(vec2(perm00, pi.z)).rgb * 4.0 - 1.0;\n\tfloat n000 = dot(grad000, pf);\n\tvec3  grad001 = rnm(vec2(perm00, pi.z + 0.00195313)).rgb * 4.0 - 1.0;\n\tfloat n001 = dot(grad001, pf - vec3(0.0, 0.0, 1.0));\n\n\t// Noise contributions from (x=0, y=1), z=0 and z=1\n\tfloat perm01 = rnm(pi.xy + vec2(0.0, 0.00195313)).a ;\n\tvec3  grad010 = rnm(vec2(perm01, pi.z)).rgb * 4.0 - 1.0;\n\tfloat n010 = dot(grad010, pf - vec3(0.0, 1.0, 0.0));\n\tvec3  grad011 = rnm(vec2(perm01, pi.z + 0.00195313)).rgb * 4.0 - 1.0;\n\tfloat n011 = dot(grad011, pf - vec3(0.0, 1.0, 1.0));\n\n\t// Noise contributions from (x=1, y=0), z=0 and z=1\n\tfloat perm10 = rnm(pi.xy + vec2(0.00195313, 0.0)).a ;\n\tvec3  grad100 = rnm(vec2(perm10, pi.z)).rgb * 4.0 - 1.0;\n\tfloat n100 = dot(grad100, pf - vec3(1.0, 0.0, 0.0));\n\tvec3  grad101 = rnm(vec2(perm10, pi.z + 0.00195313)).rgb * 4.0 - 1.0;\n\tfloat n101 = dot(grad101, pf - vec3(1.0, 0.0, 1.0));\n\n\t// Noise contributions from (x=1, y=1), z=0 and z=1\n\tfloat perm11 = rnm(pi.xy + vec2(0.00195313, 0.00195313)).a ;\n\tvec3  grad110 = rnm(vec2(perm11, pi.z)).rgb * 4.0 - 1.0;\n\tfloat n110 = dot(grad110, pf - vec3(1.0, 1.0, 0.0));\n\tvec3  grad111 = rnm(vec2(perm11, pi.z + 0.00195313)).rgb * 4.0 - 1.0;\n\tfloat n111 = dot(grad111, pf - vec3(1.0, 1.0, 1.0));\n\n\t// Blend contributions along x\n\tvec4 n_x = mix(vec4(n000, n001, n010, n011), vec4(n100, n101, n110, n111), fade(pf.x));\n\n\t// Blend contributions along y\n\tvec2 n_xy = mix(n_x.xy, n_x.zw, fade(pf.y));\n\n\t// Blend contributions along z\n\tfloat n_xyz = mix(n_xy.x, n_xy.y, fade(pf.z));\n\n\t// We're done, return the final noise value.\n\treturn n_xyz;\n}\n\n//2d coordinate orientation thing\nvec2 coordRot(in vec2 tc, in float angle) {\n\tfloat aspect = u_sourceSize.x / u_sourceSize.y;\n\tvec2 uv = (tc * 2.0) - 1.0;\n\tfloat rotX = (uv.x * aspect * cos(angle)) - (uv.y * sin(angle));\n\tfloat rotY = (uv.y * cos(angle)) + (uv.x * aspect * sin(angle));\n\trotX = ((rotX / aspect) * 0.5 + 0.5);\n\trotY = rotY * 0.5 + 0.5;\n\treturn vec2(rotX, rotY);\n}\n\nvec3 BF_Multiply(vec3 base, vec3 blend) {\n\treturn base * blend;\n}\n\nfloat BF_Screen(float base, float blend) {\n\treturn 1.0 - ((1.0 - base) * (1.0 - blend));\n}\n\nvec3 BF_Screen(vec3 base, vec3 blend) {\n\treturn 1.0 - ((1.0 - base) * (1.0 - blend));\n}\n\nvec3 Sharpness(vec3 view, float intensity) {\n\tvec2 uv = v_texCoord;\n\tvec2 step = 1.0 / u_sourceSize;\n\n\tvec3 texA = texture2D(u_image0, uv + vec2(-step.x, -step.y) * 1.0).rgb;\n\tvec3 texB = texture2D(u_image0, uv + vec2( step.x, -step.y) * 1.0).rgb;\n\tvec3 texC = texture2D(u_image0, uv + vec2(-step.x,  step.y) * 1.0).rgb;\n\tvec3 texD = texture2D(u_image0, uv + vec2( step.x,  step.y) * 1.0).rgb;\n\n\tvec3 around = 0.25 * (texA + texB + texC + texD);\n\tvec3 center  = texture2D(u_image0, uv ).rgb;\n\tvec3 col = center + (center - around) * intensity;\n\n\treturn col;\n}\n\nvec3 Grain(vec3 view, float intensity) {\n\tvec2 texCoord = v_texCoord;\n\n\tfloat timer = 0.4;\n\tfloat coloramount = 0.4;\n\tfloat grainsize = 2.0;\n\tfloat lumamount = 0.3;\n\n\tbool colored = true;\n\n\tvec3 rotOffset = vec3(1.425, 3.892, 5.835); // rotation offset values\n\tvec2 rotCoordsR = coordRot(texCoord, timer + rotOffset.x);\n\tvec3 noise = vec3(pnoise3D(vec3(rotCoordsR * vec2(u_sourceSize.x / grainsize, u_sourceSize.y / grainsize), 0.0)));\n\n\tif (colored) {\n\t\tvec2 rotCoordsG = coordRot(texCoord, timer + rotOffset.y);\n\t\tvec2 rotCoordsB = coordRot(texCoord, timer + rotOffset.z);\n\t\tnoise.g = mix(noise.r, pnoise3D(vec3(rotCoordsG * vec2(u_sourceSize.x / grainsize, u_sourceSize.y / grainsize), 1.0)), coloramount);\n\t\tnoise.b = mix(noise.r, pnoise3D(vec3(rotCoordsB * vec2(u_sourceSize.x / grainsize, u_sourceSize.y / grainsize), 2.0)), coloramount);\n\t}\n\n\tvec3 col = view.rgb;\n\tvec3 lumcoeff = vec3(0.299, 0.587, 0.114);\n\tfloat luminance = lumamount * dot(col, lumcoeff);\n\tfloat lum = smoothstep(0.2, 0.0, luminance);\n\n\tlum += luminance;\n\tnoise = mix(noise, vec3(0.0), pow(lum, 4.0));\n\tcol = col + noise * intensity;\n\n\treturn col;\n}\n\nvec3 Vignette(vec3 view, float intensity) {\n\tfloat inten = abs(intensity);\n\tfloat dist = distance(v_texCoord, vec2(0.5, 0.5));\n\tfloat size = 0.5 - inten * 0.4;\n\tfloat amount = inten * inten * 0.1 + 0.5 * inten;\n\tfloat vignette = smoothstep(0.8, size * 0.799, dist * (amount + size));\n\treturn (intensity >= 0.0) ? view * vignette : BF_Screen(view,vec3(1.0-vignette));\n}\n\n// [-1; 1]\nvec3 pSharpness(vec3 view, float intensity) {\n\tvec2 range = vec2(0.0, 1.5);\n\tintensity = clamp(intensity, 0.0, 1.0);\n\tintensity = (intensity >= 0.0) ? range.y * intensity : -range.x * (intensity+1.0) + range.x;\n\treturn Sharpness(view, intensity);\n}\n\n// [0; 1]\nvec3 pGrain(vec3 view, float intensity) {\n\tvec2 range = vec2(0.0, 0.2);\n\n\tintensity = clamp(intensity, 0.0, 1.0);\n\tintensity = (intensity >= 0.0) ? range.y * intensity : -range.x * (intensity + 1.0) + range.x;\n\treturn Grain(view, intensity);\n}\n\n// [-1; 1]\nvec3 pVignette(vec3 view, float intensity) {\n\tvec2 range = vec2(-1.0, 1.0);\n\tintensity = clamp(intensity, -1.0, 1.0);\n\tintensity = (intensity >= 0.0) ? range.y * intensity : -range.x * (intensity + 1.0) + range.x;\n\treturn Vignette(view, intensity);\n}\n\nvoid main() {\n\tvec4 texture = texture2D(u_image0, v_texCoord);\n\n\ttexture.rgb = pSharpness(texture.rgb, u_sharpness);\n\ttexture.rgb = pVignette(texture.rgb, u_vignette);\n\ttexture.rgb = pGrain(texture.rgb, u_grain);\n\n\tgl_FragColor = texture;\n}\n"},744084:(e,t,n)=>{n.d(t,{default:()=>r});const r="precision mediump float;\n\nuniform sampler2D u_image0; // original image\nuniform vec2 u_delta;\n\nvarying vec2 v_texCoord;\n\nvoid main() {\n\tvec4 color = vec4(0.0);\n\tfloat total = 0.0;\n\tfloat offset = fract(sin(dot(gl_FragCoord.xyz, vec3(12.9898, 78.233, 151.7182))) * 43758.5453);\n\n\tfor (float t = -30.0; t <= 30.0; t++) {\n\t\tfloat percent = (t + offset - 0.5) / 30.0;\n\t\tfloat weight = 1.0 - abs(percent);\n\t\tvec4 sampleColor = texture2D(u_image0, v_texCoord + u_delta * percent);\n\t\tsampleColor.rgb *= sampleColor.a;\n\n\t\tcolor += sampleColor * weight;\n\t\ttotal += weight;\n\t}\n\n\tcolor = color / total;\n\tcolor.rgb /= color.a + 0.00001;\n\tgl_FragColor = color;\n}\n"},506539:(e,t,n)=>{function r(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20"><path fill="currentColor" d="M10 10.75a.75.75 0 0 1 .75.75v2a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 1 .75-.75Z"/><path fill="currentColor" fill-rule="evenodd" d="M6 7.03V5a4 4 0 0 1 8 0v2.03c.59.03 1 .12 1.36.3a3 3 0 0 1 1.31 1.3c.33.65.33 1.49.33 3.17v1.4c0 1.68 0 2.52-.33 3.16a3 3 0 0 1-1.3 1.31c-.65.33-1.49.33-3.17.33H7.8c-1.68 0-2.52 0-3.16-.33a3 3 0 0 1-1.31-1.3C3 15.71 3 14.87 3 13.2v-1.4c0-1.68 0-2.52.33-3.16a3 3 0 0 1 1.3-1.31c.36-.18.78-.27 1.37-.3Zm4-4.53A2.5 2.5 0 0 1 12.5 5v2h-5V5A2.5 2.5 0 0 1 10 2.5Zm-2.2 6c-.86 0-1.42 0-1.85.04-.4.03-.56.09-.63.12a1.5 1.5 0 0 0-.66.66c-.03.07-.1.22-.12.63-.04.43-.04.99-.04 1.85v1.4c0 .86 0 1.42.04 1.85.03.4.09.56.12.63.15.28.38.51.66.66.07.03.22.1.63.12.43.04.99.04 1.85.04h4.4c.86 0 1.42 0 1.85-.04.4-.03.56-.09.63-.12a1.5 1.5 0 0 0 .66-.66c.03-.07.1-.22.12-.63.04-.43.04-.99.04-1.85v-1.4c0-.86 0-1.42-.04-1.85-.03-.4-.09-.56-.12-.63a1.5 1.5 0 0 0-.66-.66c-.07-.03-.22-.1-.63-.12-.43-.04-.99-.04-1.85-.04H7.8Z" clip-rule="evenodd"/></svg>',name:"lock_outline_20"}}n.d(t,{getIcon20LockOutline:()=>r})},892518:(e,t,n)=>{function r(){return{icon:'<svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="M10.75 11.5a.75.75 0 0 0-1.5 0v2a.75.75 0 0 0 1.5 0z"/><path clip-rule="evenodd" d="M6 4.95C6 2.75 7.8 1 10 1c1.9 0 3.5 1.3 3.9 3.08a.75.75 0 0 1-1.47.33A2.47 2.47 0 0 0 10 2.5c-1.4 0-2.5 1.1-2.5 2.45V7h5.26c.6 0 1.08 0 1.48.03.4.04.8.1 1.15.3.55.27 1 .73 1.29 1.28.18.36.25.74.29 1.15.03.4.03.89.03 1.48v2.52c0 .6 0 1.08-.03 1.48-.04.4-.1.8-.3 1.15-.27.55-.73 1-1.28 1.29-.36.18-.74.25-1.15.29-.4.03-.89.03-1.48.03H7.24c-.6 0-1.08 0-1.48-.03-.4-.04-.8-.1-1.15-.3-.55-.27-1-.73-1.29-1.28a3.02 3.02 0 0 1-.29-1.15C3 14.84 3 14.35 3 13.76v-2.52c0-.6 0-1.08.03-1.48.04-.4.1-.8.3-1.15.27-.55.73-1 1.28-1.29A3.02 3.02 0 0 1 6 7.02zm-.11 3.58c-.32.02-.49.07-.6.13-.27.14-.5.36-.63.63-.06.11-.1.28-.13.6-.03.33-.03.75-.03 1.38v2.46c0 .63 0 1.05.03 1.38.02.32.07.49.13.6.14.27.36.5.63.63.11.06.28.1.6.13.33.03.75.03 1.38.03h5.46c.63 0 1.05 0 1.38-.03.32-.02.49-.07.6-.13.27-.14.5-.36.63-.63.06-.11.1-.28.13-.6.03-.33.03-.75.03-1.38v-2.46c0-.63 0-1.05-.03-1.38a1.57 1.57 0 0 0-.13-.6c-.14-.27-.36-.5-.63-.63-.11-.06-.28-.1-.6-.13-.33-.03-.75-.03-1.38-.03H7.27c-.63 0-1.05 0-1.38.03z" fill-rule="evenodd"/></g></svg>',name:"unlock_outline_20"}}n.d(t,{getIcon20UnlockOutline:()=>r})},317675:(e,t,n)=>{n.d(t,{AdsEvents:()=>h});var r=n(933052),i=n(248782),o=n(452314),s=n(434487),a=n(514640),c=n(327527),l=n(671300);let u=[];const d=(0,i.debounce)((()=>{if(0===u.length)return;const e=u.splice(0,u.length);(0,r.api)("adsint.registerAdEvents",{events:JSON.stringify(e)}).catch((t=>{for(;e.length;)u.unshift(e.pop())}))}),1e3);const h={register:(e,t)=>{(e=>["like","unlike","share","music_pause","music_play","music_track_to_profile","music_playlist_to_profile","music_track_share","music_playlist_share","music_track_share_to_story","music_playlist_share_to_story"].includes(e))(e)&&(e=>!!e)(t)&&(u.push({event_type:e,ad_data:t}),d())},handleShareEvent:(e,t,n)=>{const r=e&&e.dataset&&e.dataset.ad;if(!r||!t)return null;let i="share";0===t.indexOf("audio")&&(window.Wall&&Wall.triggerAdStat(e,"audio_click"),0===t.indexOf("audio_playlist")?i=2==n?"music_playlist_share_to_story":"music_playlist_share":0===t.indexOf("audio")&&(i=2==n?"music_track_share_to_story":"music_track_share")),h.register(i,r)}};(0,s.onDomReady)((()=>{const e="adsEvents",t=(0,c.getAudioPlayer)();if(!t||t.subscribers&&t.subscribers.filter((t=>t.context===e)).length>0)return;const n={[a.AudioPlayerEventType.PLAY]:"music_play",[a.AudioPlayerEventType.PAUSE]:"music_pause",[a.AudioPlayerEventType.MUSIC_AUDIOS_ADD]:"music_track_to_profile",[a.AudioPlayerEventType.MUSIC_PLAYLISTS_ADD]:"music_playlist_to_profile"},r=e=>{if(n[e]){const r=l.AudioUtils.audioTupleToAudioObject(t.getCurrentAudio()),i=r?document.querySelector("._audio_row_"+r.fullId+"."+l.AudioUtils.AUDIO_CURRENT_CLS):null,s=(0,o.domClosest)("post",i);let a=s&&s.dataset&&s.dataset.ad;a||(a=(e=>{if(!e)return null;const t=0===e.indexOf("feed:")?e.replace("feed:","post"):null,n=t&&document.getElementById(t);return n&&n.dataset&&n.dataset.ad})(t._getPlayingContext())),a&&(window.Wall&&Wall.triggerAdStat(s,"audio_click"),h.register(n[e],a))}};t.on(e,a.AudioPlayerEventType.PLAY,(()=>r(a.AudioPlayerEventType.PLAY))),t.on(e,a.AudioPlayerEventType.PAUSE,(()=>r(a.AudioPlayerEventType.PAUSE))),t.on(e,a.AudioPlayerEventType.MUSIC_AUDIOS_ADD,(()=>r(a.AudioPlayerEventType.MUSIC_AUDIOS_ADD))),t.on(e,a.AudioPlayerEventType.MUSIC_PLAYLISTS_ADD,(()=>r(a.AudioPlayerEventType.MUSIC_PLAYLISTS_ADD)))}))},666717:(e,t,n)=>{n.d(t,{Likes:()=>S});var r=n(452314),i=n(317412),o=n(810903),s=n(879007),a=n(663878),c=n(927984),l=n(7144),u=n(20025),d=n(388078),h=n(610989),_=n(630298),p=n(849225),g=n(142718),m=n(335291),b=n(662e3),f=n(100193),v=n(958258),w=n(400281),k=n(681589),y=n(489944),x=n(745195),T=n(964587),C=n(302495),E=n(695290),A=n(476726);const S={toggle(e,t,n,o){if((0,i.cancelEvent)(t),(0,l.isObject)(window.cur)&&(0,l.isFunction)(cur.viewAsBox))return cur.viewAsBox();if(vk.widget&&!vk.id)return window.Widgets.oauth();const s=(0,r.hasClass)(e,"active");(0,r.addClass)(e,"animate"),this.clientUpdate(n,p.LikeButtonTypes.like,s?-1:1,!s),this.handleAuthorLikeInReply(n,e,s);const{objectType:a}=(0,_.parseLikeObjectId)(n),c=(0,_.isObjectTypeIsVideo)(a),u=c?(0,w.getVideoTrackCode)():void 0,d={act:s?"a_do_unlike":"a_do_like",object:n,hash:o,list:cur.pvListId,wall:2,from:this._getReference(n),from_widget:vk.widget?1:0,track_code:u,event_subtype:(0,T.getFeedEventSubtype)()},h=()=>{const t=()=>{(0,r.toggleClass)(e,"active",s),this.clientUpdate(n,p.LikeButtonTypes.like,s?1:-1,s),this.handleAuthorLikeInReply(n,e,!s)};return(0,A.partConfigEnabled)("video_modal_unauth_like_bugfix")?(setTimeout(t,500),!1):(t(),!1)};window.ajax.post("like.php",d,{onDone:t=>{if(t.unauth_action_box)return h(),void f.UnauthActionBox.show(t.unauth_action_box,{onLogin:c?window.VideoShowcase?.login:void 0});this.update(n,t);const r=n.match(/^(wall|market)(.*)/);r&&cur.onLike&&cur.onLike(e,r[1],r[2],s),this.handleAuthorLikeInReply(n,e,s,t)},onFail:h});(0,l.intval)((0,r.domData)(e,"count"))>0?S.showLikes(e,n,{fast:!0}):e.tt&&e.tt.destroy&&e.tt.destroy()},_getReference:e=>cur.pvShown?"photo_viewer":e===cur.wallLayer?"wkview":window.mvcur&&window.mvcur.mvShown?"videoview":cur.wallType?"feed"===cur.wallType?"news"===cur.section?`feed_${cur.subsection?cur.subsection:cur.section}`:"recommended"===cur.section?"feed_recommended"+("recent"!==cur.subsection?"_"+cur.subsection:""):(0,s.inArray)(cur.section,["friends","groups","videos","photos"])?"feed_"+(cur.subsection?"_"+cur.subsection:""):`feed_${cur.section}`:"top"===cur.wallType?"wall_top":"wall_"+(cur.onepost?"one":(cur.wallType||"").indexOf("full_")?"page":"full"):cur.module,share(e,t={},n=void 0){if(vk.widget&&!vk.id)return window.Widgets.oauth();if((0,l.isObject)(window.cur)&&(0,l.isFunction)(cur.viewAsBox))return cur.viewAsBox();if(window.cur){const e=(0,k.getTrackCodeFromPost)(n);window.cur.shareButtonTrackCode=e}const{objectType:r,objectId:i}=(0,_.parseLikeObjectId)(e),o=(0,_.isObjectTypeIsVideo)(r);(vk.widget?window.showBox:u.showBox)("like.php",{act:"publish_box",object:e,from_widget:vk.widget?1:0,...t},{onDone:(e,t)=>{t.unauth_action_box&&(e.hide(),f.UnauthActionBox.show(t.unauth_action_box,{onLogin:o?window.VideoShowcase?.login:void 0}))},stat:[window.jsc("web/page.js"),"page.css",window.jsc("web/wide_dd.js"),"wide_dd.css",window.jsc("web/sharebox.js")]}),"wall"===r&&window.Wall&&window.Wall.triggerAdPostStat(i,"share_post"),"clip"===r&&(0,C.logSearchClipClick)(E.SearchClickActionMap.SHARE_OUT),cur.RpcMethods&&(cur.RpcMethods.likeFullUpdate=t=>S.update(e,window.cleanObj(t)))},clientUpdate(e,t,n,i){const o=this._getButtonsByType(e,t);if(!o.length)return;const s=(0,l.intval)((0,r.domData)(o[0],"count"))+n;this._updateDom(e,t,s,i),this.updateExternalIndex(e,{type:t,count:s,isActive:i})},update(e,t){if(!isNaN(parseInt(t.like_num))){const n=(0,l.isUndefined)(t.like_my)?void 0:!!(0,l.intval)(t.like_my);this._updateDom(e,p.LikeButtonTypes.like,t.like_num,n,t.like_title,t.like_from_group),this.updateExternalIndex(e,{type:p.LikeButtonTypes.like,count:t.like_num,isActive:n})}if(!isNaN(parseInt(t.share_num))){const n=(0,l.isUndefined)(t.share_my)?void 0:!!(0,l.intval)(t.share_my);this._updateDom(e,p.LikeButtonTypes.share,t.share_num,n,t.share_title),this.updateExternalIndex(e,{type:p.LikeButtonTypes.share,count:t.share_num})}if((0,s.isNumeric)(t.views_num)&&this._updateDom(e,p.LikeButtonTypes.views,t.views_num,void 0,t.views_title),(0,s.isNumeric)(t.comment_num)&&this._updateDom(e,p.LikeButtonTypes.comment,t.comment_num),t[g.REACTIONS_COUNTS_RESPONSE_FIELD]){const n=!!t.isQueueUpdate;(0,b.triggerReactionsUpdate)(e,t[g.REACTIONS_COUNTS_RESPONSE_FIELD],void 0,{isQueueUpdate:n,isUserAction:!1,previewVisibility:m.previewVisibilityUseCurrent})}},updateComments(e,t){this.update(e,{comment_num:t})},_updateDom(e,t,n,i,o,c){const u=this._getButtonsByType(e,t),d=t===p.LikeButtonTypes.views;if(!u?.length)return;let g="";d?g=n:n>0&&(g=vk.widget?(0,s.formatCount)(n):(0,h.langNumeric)(n,"%s",!0)),d||(n=(0,l.intval)(n));for(let e=0;e<u.length;e++){const s=u[e];if((0,r.hasClass)(s,"no_counter"))continue;const m=d?u[e]:(0,_.getElementLikeButtonCount)(u[e]);if((0,a.animateCount)(m,g,{str:"auto",noWrapWidth:!d,noSpaceIfEmpty:!0}),(0,r.toggleClass)(s,"empty",n<=0),"boolean"==typeof i&&(0,r.toggleClass)(s,"active",i),(0,r.attr)(u[e],"data-count",n),(0,r.attr)(s,"data-combine")){const e=i?h.getLang("global_dislike"):`${h.getLang("global_like")}${n?" "+n:""}`;(0,r.attr)(s,"title")!==e&&(0,r.attr)(s,"title",e)}(0,v.updateAriaLabelCounter)(s,n,t),d&&s?.closest?.(".like_views")?.setAttribute("title",o||"");const b=u[e].tt;if(b){const e=(0,r.domByClass)(b.container,"_content"),a=(0,r.domByClass)(b.container,"_value"),u=(0,r.domByClass)(b.container,"_title"),d=(0,r.domByClass)(b.container,"like_tt_group_like"),h=(0,l.intval)((0,r.val)(a));if((0,r.val)(a,n),o&&(0,r.val)(u,o),(0,l.isObject)(b)&&(b.likeInvalidated=!0),(h!==n&&h<7||!1===o)&&(t===p.LikeButtonTypes.like?s.needReinitLikesTT=!0:t===p.LikeButtonTypes.share&&(s.needReinitShareTT=!0)),t===p.LikeButtonTypes.like&&(0,r.toggleClass)(e,"me_hidden",!i),!1===o&&b.destroy&&b.destroy(),void 0!==c&&d){const e="like_tt_group_like_hidden";c?d.classList.remove(e):d.classList.add(e)}}}},_getButtonsByType:(e,t)=>(0,r.domQuery)(`._like_${e} ._${t}, ._like_${e} [data-like-button-type="${t}"]`),showLikes(e,t,n={}){if(!e||!(e instanceof HTMLElement)||e.postDontShowLikes)return;if(vk.widget&&vk.show_external_auth_box)return;let i=n.views?{views:1}:n.share?{published:1}:{};n.listId&&(i.list=n.listId),n.like_hash&&(i.like_hash=n.like_hash),n.like_stats_params&&Object.assign(i,n.like_stats_params);const a=!!(0,r.geByClass1)("share",(0,r.gpeByClass)("like_wrap",e));let c=document.body,u=!1;const d=getComputedStyle(e),h=(0,l.intval)(d.getPropertyValue("padding-left").replace("px","")),p=(0,l.intval)(d.getPropertyValue("padding-top").replace("px","")),g=(0,_.getElementLikeButtonIcon)(e);let m=40;"wpost"===n.from&&(m=24);const b=[m-(0,r.getSize)(g)[0]/2-h,10-p];let f=n.cl||"";if(n.share)f+="likes_tt_share";else if(f+="likes_tt_like","widget_community"===n.from)b[0]=6;else if("wcomments"===n.from||"widget_comments"===cur.wallType){const t=16,n=10;b[0]=(0,r.getSize)(e)[0]+t-(0,r.getSize)(g)[0]/2-n}else"photo_carousel"===n.from&&(b[1]=10);if(!!n?.isFromReactionsPreview){const t=e.querySelector("._ReactionsPreview__itemsContainer");if(t){const e=t.querySelector(".ReactionsPreviewItem"),n=(0,r.getXYRect)(e,!1),i=(n.width||0)/2;let o=i;c=t;n.left+n.width/2>window.innerWidth/2&&(u=!0,o=t.offsetWidth-i),b[0]=-o+m}}let v,w;n.share?(v="needReinitLikesTT",w="resetLikesTTTimer"):(v="needReinitShareTT",w="resetShareTTTimer"),clearTimeout(e[w]),(0,o.showTooltip)(e,{url:"/like.php",params:(0,s.extend)({act:"a_get_stats",object:t,has_share:a?1:""},i),appendEl:c,slide:15,shift:b,ajaxdt:n.fast?0:100,showdt:n.fast?0:400,hidedt:200,dir:"auto",checkLeft:!0,needLeft:u,reverseOffset:80,noZIndex:!0,hasover:!0,tip:{over:()=>{S.showLikes(e,t,n)}},typeClass:"like_tt",className:f,onHide:()=>{clearTimeout(e[w]),e[v]&&(e[w]=setTimeout((()=>{delete e[v],e.tt&&e.tt.destroy&&e.tt.destroy()}),200))}})},showShare:function(e,t,n){S.showLikes(e,t,(0,s.extend)(n,{share:1}))},updateViews:(e,t)=>{vk.widget&&vk.show_external_auth_box||window.ajax.post("like.php",{act:"a_get_stats",object:e,views:1},{cache:1,onDone(t,n){const i=(0,r.ce)("div",{innerHTML:n});S._updateDom(e,p.LikeButtonTypes.views,t,void 0,i.innerText||i.textContent)}})},makeTemplate(e,t){if(!e)return"";(t=(0,s.extend)({buttons_prepend:"",object_raw:"",likes_count:"",liked:!1,share_count:"",shared:"",views_count:"",share_opts:{},like_opts:{},class_name:"",like_cont_class:"",like_class_name:"",[g.REACTIONS_COUNTS_RESPONSE_FIELD]:"",reactions_class_name:""},t)).like_active=t.liked?"active":"",t.share_active=t.shared?"active":"",t.comment_active="",t.likes_formatted_count=t.likes_count>0?(0,h.langNumeric)(t.likes_count,"%s",!0):"",t.share_formatted_count=t.share_count>0?(0,h.langNumeric)(t.share_count,"%s",!0):"",t.share_opts=this._convertOptsToString(t.share_opts),t.like_opts=this._convertOptsToString(t.like_opts),t.like_class_name+=t.likes_count>0?"":" empty",t.share_class_name=t.share_count>0?"":"empty";const n=t[g.REACTIONS_COUNTS_RESPONSE_FIELD],i=!!n&&Object.values(n).some((e=>!!e));return t.reactions_class_name+=i?"":" PostBottomAction--empty",(0,r.rs)(e,t)},_convertOptsToString:e=>JSON.stringify(e).replace(/\"/g,"'"),updateExternalIndex(e,t={}){const{objectType:n,objectId:r}=(0,_.parseLikeObjectId)(e);switch(n){case"photo":if(!cur.pvShown||!cur.pvCurPhoto||cur.pvCurPhoto.id!==r)return;const e=cur.pvListId,n=cur.pvIndex,i=cur.pvData[e][n];t.type===p.LikeButtonTypes.like?(i.likes=t.count,i.liked=t.isActive,cur.pvCommsLikes[i.id][1]=t.count):t.type===p.LikeButtonTypes.share&&(i.shares=t.count);break;case"video":if(window.mvcur&&window.mvcur.mvShown&&window.mvcur.videoRaw===r&&t.type===p.LikeButtonTypes.like){const e=window.Videoview.getMvData();e.likes=t.count,void 0!==t.isActive&&(e.liked=t.isActive,window.Videoview.playerOnLiked(t.isActive),window.Videoview.recache())}break;case"clip":t.type===p.LikeButtonTypes.like&&window.Videoview.playerOnLiked(t.isActive)}},showLikesList(e,t){cur.viewAsBox||(0,r.hasClass)((0,r.gpeByClass)("like_btn",e),"no_counter")||(0,c.showWiki)({w:"likes/"+(0,s.clean)(t)},!1,!1,{queue:1})},showSharesList(e,t){cur.viewAsBox||(0,r.hasClass)((0,r.gpeByClass)("like_btn",e),"no_counter")||(0,c.showWiki)({w:"shares/"+(0,s.clean)(t)},!1,!1,{queue:1})},handleAuthorLikeInReply(e,t,n,r){const{objectId:i}=(0,_.parseLikeObjectId)(e),o=(0,y.getPostElemByChildEl)(t),s=Number(o?.dataset?.postAuthorId),a=o?.querySelector(`.reply#post${i}`)?.querySelector(".HighlightingAuthorLike");if(!a||!d.Ranges.isUserId(s)||vk.id!==s)return;const c="HighlightingAuthorLike--hidden";(r?r.like_my:!n)?(a.classList.remove(c),r&&(0,x.renderAuthorUserOnboardingTooltip)(a)):a.classList.add(c)}}},553807:(e,t,n)=>{n.d(t,{ShareBox:()=>S});var r=n(666717),i=n(610989),o=n(663878),s=n(507035),a=n(655883),c=n(850101),l=n(879007),u=n(452314),d=n(7144),h=n(388078),_=n(476726),p=n(248298),g=n(258643),m=n(490712),b=n(892518),f=n(506539),v=n(250493),w=n(80407),k=n(384621),y=n(710837),x=n(426056),T=n(973807),C=n(317675),E=n(63489),A=n(964587);const S={radioBtnOptions:{WALL:0,COMMUNITY:1,STORY:2,IM:3},mrg:e=>vk.rtl?{marginRight:e}:{marginLeft:e},mediaChange(){const e=cur.sbField&&(0,u.data)(cur.sbField,"composer");if(e&&e.addMedia){const t=(radioBtns.like_share||{}).val||0;(0,u.toggle)((0,u.geByClass1)("add_media_type_"+e.addMedia.lnkId+"_postpone",e.addMedia.menu.menuNode,"a"),1==t||0==t&&cur.sbShareOwn)}},show(e,t){const n=cur.postTo;cur.postTo=!1,cur.shareBoxWidth=450;const r={hideButtons:!0,grey:!0,noRefreshCoords:!0,bodyStyle:"padding: 0;"};window?.mvcur?.options?.shortVideo||window?.mvcur?.mvData?.shortVideo||(r.width=cur.shareBoxWidth),e.setOptions(r),e.removeButtons(),radioBtns.like_share={els:[(0,u.ge)("like_share_my"),(0,u.ge)("like_share_club"),(0,u.ge)("like_share_story"),(0,u.ge)("like_share_mail")],val:t.rbVal},(0,l.each)(radioBtns.like_share.els,(function(e,t){const n=(0,u.domNS)(t);(0,u.hasClass)(t,"disabled")&&n&&((0,u.addClass)(n,"like_share_disabled"),((0,u.geByTag1)("input",n)||{}).readOnly=!0)}));const o=window.cur?.shareButtonTrackCode||window.cur?.wallPostTrackCode,a=window.cur?.listId;window.cur&&"shareButtonTrackCode"in window.cur&&delete window.cur.shareButtonTrackCode,window.cur&&"wallPostTrackCode"in window.cur&&delete window.cur.wallPostTrackCode,window.cur&&"listId"in window.cur&&delete window.cur.listId,cur.shareAction="",cur.sbField=(0,u.ge)("like_share_text"),cur.sbField.getValue=Emoji.val.pbind(cur.sbField),(0,l.extend)(cur,{sbSettingsBtnEl:(0,u.ge)("like_share_settings_btn"),sbFriendsOnlyEl:(0,u.ge)("like_share_friends_only"),sbPostCheckboxEl:(0,u.ge)("like_share_post_checkbox"),sbPostButtonEl:(0,u.ge)("like_share_send"),sbAva:(0,u.ge)("like_share_ava"),sbTo:[0],sbShareHash:t.shHash,sbMailHash:t.imHash,sbObj:t.shObj,sbList:t.shList||"",sbShareOwn:t.shOwn,sbShParam:t.shParam,sbLabels:t.labels,shNewUi:t.shNewUi,shButtonLabelBackup:null,sbSend:function(){if(g.FlatButton.isLocked((0,u.ge)("like_share_send")))return;(0,u.hide)("like_share_error");const n=radioBtns.like_share.val;let r=S.radioBtnOptions.WALL;const i=cur.sbField&&(0,u.data)(cur.sbField,"composer"),s=i?Composer.getSendParams(i):{message:(0,l.trim)((0,u.val)(cur.sbField))};cur.sbShParam&&(s.share_param=cur.sbShParam);let h=e.getOptions();switch(C.AdsEvents.handleShareEvent((0,u.domClosest)("post",h.shareButtonElement),cur.sbObj,n),n){case S.radioBtnOptions.COMMUNITY:{const e=cur.wdd&&cur.wdd.like_club_dd;if(!e||!e.selCount)return(0,u.elfocus)("like_club_inp");for(let t in e.selected)e.selected.hasOwnProperty(t)&&(r=(0,l.intval)(t.replace(/_$/,"")))}case S.radioBtnOptions.WALL:if(vk.widget&&4!==vk.widget)window.allowCallback=function(){ajax.post("like.php",Wall.fixPostParams((0,l.extend)(s,{act:"a_do_publish",from:"box",to:r,hash:cur.sbShareHash,object:cur.sbObj,list:cur.sbList,ref:cur.section,ret_data:1,track_code:o,event_subtype:(0,A.getFeedEventSubtype)()})),S.options()),cur.shareAction="publish"},Widgets.popupBoxOpen("like.php",{act:"a_allow_publish_box",to:r,object:cur.sbObj,list:cur.sbList},"vk_allow",{height:171});else{let e=0,n=0;(0,u.isVisible)(cur.sbSettingsBtnEl)&&(e=(0,u.isVisible)("like_share_mark_as_ads")&&(0,p.isChecked)("like_share_mark_as_ads")?1:0,n=(0,p.isChecked)("like_share_mute_notifications")||e),ajax.post("like.php",Wall.fixPostParams((0,l.extend)(s,{act:"a_do_publish",from:"box",to:r,hash:cur.sbShareHash,object:cur.sbObj,list:cur.sbList,ref:t.shRef||cur.section,ret_data:1,friends_only:(0,u.isVisible)(cur.sbFriendsOnlyEl)&&(0,p.isChecked)(cur.sbFriendsOnlyEl)?1:0,close_comments:(0,u.isVisible)(cur.sbSettingsBtnEl)&&(0,p.isChecked)((0,u.ge)("like_share_close_comments"))?1:0,mark_as_ads:e,mute_notifications:n,event_subtype:(0,A.getFeedEventSubtype)(),track_code:o})),S.options()),cur.shareAction="publish"}break;case S.radioBtnOptions.STORY:{const e=cur.sbObj.startsWith("vmoji")?"[a-z0-9]+":"-?\\d+",n=new RegExp(`^(vmoji|wall|wall_reply|question|audio|audio_playlist)(-?\\d+)_(${e})(:[_a-z0-9]+)?$`),r=cur.sbObj.match(n);if(!r)return;const[,i]=r;let o=()=>{};const s=()=>{(0,d.isFunction)(cur.sbOnShare)&&cur.sbOnShare({selectedSharingValue:S.radioBtnOptions.STORY})};let a;switch(i){case"wall":a=new v.WallAttachOptions(cur.sbObj);break;case"wall_reply":a=new w.WallReplyAttachOptions(JSON.parse(t.shParam));break;case"question":{const{avatar_url:e,sticker_text:n}=JSON.parse(t.shParam);a=new k.QuestionAttachOptions(e,n);break}case"audio":a=new y.AudioAttachOptions(JSON.parse(t.shParam));break;case"audio_playlist":a=new T.AudioPlaylistAttachOptions(JSON.parse(t.shParam));break;case"vmoji":const{text:e,url:n,sticker_image:r}=JSON.parse(t.shParam);a=new E.VmojiOptions(e,n,r);break;default:a=new x.DefaultAttachOptions}(0,c.curBox)().hide();const l=(0,u.isVisible)(window.boxLayerWrap);(0,c.boxRefreshCoords)(window.boxLoader),(0,u.show)(window.boxLoader),l||(0,u.show)(window.boxLayerWrap),a.toStoryPublisherOptions().then((e=>{(0,u.hide)(window.boxLoader),l||(0,u.hide)(window.boxLayerWrap),window.cur.sbOpenStoryBox?.(),o=()=>{window.cur.sbCloseStoryBox?.()},window.StoryPublisher?.init(e,s,o)}));break}case S.radioBtnOptions.IM:{const e=cur.wdd&&cur.wdd.like_mail_dd,t=(0,l.extend)(s,{act:"a_send_box",from:"box",to_ids:[],entrypoint:"share",chas:cur.sbMailHash,ajax:1,title:(0,u.isVisible)("like_share_title_wrap")&&(0,u.val)("like_share_title")||"",media:cur.sbObj+(cur.sbList?"/"+cur.sbList:""),ret_data:1,ref:[cur.module,cur.section,cur.subsection].filter((e=>e)).join("_")||null,track_code:o,event_subtype:(0,A.getFeedEventSubtype)(),list:a});if(!e||!e.selCount)return(0,u.elfocus)("like_im_inp");for(let n in e.selected)e.selected.hasOwnProperty(n)&&t.to_ids.push(n.replace(/_$/,""));t.to_ids=t.to_ids.join(","),ajax.post("al_im.php",Wall.fixPostParams(t),S.options()),cur.shareAction="im_send";break}}const _=cur.sbObj.match(/^wall_reply(-?\d+)_(\d+)$/);if(_){let e="";switch(n){case S.radioBtnOptions.WALL:e="share_to_wall";break;case S.radioBtnOptions.COMMUNITY:e="share_to_community";break;case S.radioBtnOptions.STORY:e="share_to_story";break;case S.radioBtnOptions.IM:e="share_to_message"}e&&(0,m.statlogsValueEvent)("reply_sharing_analytics",{event_type:e,owner_id:_[1],reply_id:_[2]})}},sbCheckLen:function(e){(0,s.checkTextLength)(4096,e,"like_share_warn");const t=cur.wdd&&cur.wdd.like_mail_dd,n=t&&t.full&&1==t.selCount;(0,u.toggle)("like_share_title_wrap",t&&radioBtns.like_share.val==S.radioBtnOptions.IM&&(e.lastLen>200&&!n||(0,u.val)("like_share_title")))},sbReInitMediaSelector:function(e){let r=((0,u.data)(cur.sbField,"composer")||{}).addMedia;const o=r&&r.getMedias(!0),s=((t.shMediaOpts||{}).limits||[])[e]||0;cur.sbField&&(Wall.deinitComposer(cur.sbField),Wall.deinitHashtagComposer(cur.sbField)),Emoji.init(cur.sbField,{ttDiff:-48,rPointer:!0,ref:"share",noEnterSend:!0,noStickers:!0,controlsCont:cur.sbField.parentNode,checkEditable:function(){cur.sbCheckLen(cur.sbField)}}),Wall.initComposer(cur.sbField,{lang:{introText:i.getLang("profile_mention_start_typing"),noResult:i.getLang("profile_mention_not_found")},media:(0,u.isVisible)("like_share_add_media")?{lnk:(0,u.ge)("like_share_add_media"),preview:(0,u.ge)("like_share_media_preview"),gearEl:(0,u.ge)("like_share_settings_btn"),actionsEl:!1,types:t.shTypes,options:{limit:s,disabledTypes:["album","share","link","page","article","poll"],toggleLnk:!0,nocl:1,toId:n,onAddMediaChange:S.mediaChange,onMediaChange:S.mediaChange}}:void 0}),Wall.initHashtagComposer(cur.sbField),(0,d.isArray)(o)&&o.length&&(r=((0,u.data)(cur.sbField,"composer")||{}).addMedia,o.slice(0,s).forEach((function(e){r.chooseMedia(e[0],e[1],e[5],null,!0)}))),S.mediaChange()}}),cur.sbHidden=!0,setTimeout(u.elfocus.pbind(cur.sbField),0),e.setOptions({onClean:function(){Wall.deinitComposer(cur.sbField),Wall.deinitHashtagComposer(cur.sbField),delete cur.sbOnShare,delete cur.sbField,cur.postTo=n,window.WideDropdown&&(WideDropdown.deinit("like_club_dd"),WideDropdown.deinit("like_mail_dd")),(0,d.isFunction)(window.cur.sbOnCleanBox)&&window.cur.sbOnCleanBox()}}),window._mbFriends||ajax.post("hints.php",{act:"a_json_friends",from:"imwrite",str:""},{onDone:function(e){window._sbFriends=e;cur.wdd&&cur.wdd.like_mail_dd&&(e=O(e),WideDropdown.items("like_mail_dd",e))}}),(0,u.hasClass)((0,u.ge)("like_share_club"),"disabled")||WideDropdown.init("like_club_dd",{defaultItems:t.clubs,noResult:i.getLang("like_club_not_found"),img:cur.sbAva,noAnim:!0,introText:i.getLang("like_club_choose"),onChange:function(e){(0,c.curBox)().changed=!0,S.rbChanged((0,u.ge)("like_share_club"),S.radioBtnOptions.COMMUNITY,!0);const t=cur.wdd.like_club_dd.selCount;let n=!0;return 1==e&&setTimeout(u.elfocus.pbind(cur.sbField),0),t<1&&!cur.sbHidden?(S.toggleAva(!1),n=1):t>0&&cur.sbHidden&&(S.toggleAva(!0),n=1),cur.sbCheckLen(cur.sbField),n}}),(0,u.hasClass)((0,u.ge)("like_share_mail"),"disabled")||WideDropdown.init("like_mail_dd",{defaultItems:window._mbFriends,url:"hints.php",noAnim:!0,params:{act:"a_json_friends",from:"imwrite"},onDataLoaded:O,noResult:i.getLang("mail_not_found"),img:cur.sbAva,introText:cur.sbLabels.mail_choose_recipient,onChange:function(e){(0,c.curBox)().changed=!0,S.rbChanged((0,u.ge)("like_share_mail"),S.radioBtnOptions.IM,!0);const t=cur.wdd.like_mail_dd,n=t.selCount;let r=!0;return 1==e&&setTimeout(u.elfocus.pbind(cur.sbField),0),n<1&&!cur.sbHidden?(S.toggleAva(!1),r=0):n>0&&cur.sbHidden&&(S.toggleAva(!0),r=1),cur.sbCheckLen(cur.sbField),S.updateButtonLabel(S.radioBtnOptions.IM,t.selCount),r},allowMultiselectAll:!!cur.shNewUi}),(0,l.each)((0,u.geByClass)("_like_share_about_select",(0,c.curBox)().bodyNode),(function(){(0,u.hide)(this)}));const h=radioBtns.like_share.els,_=radioBtns.like_share.val;cur.storyLayer&&(0,u.hide)("like_share_add_media"),S.rbChanged(h[_],_)},toggleFriendsVisibilityAccess(e){const t=(0,p.isChecked)(e),n=e.querySelector(".PostOption__iconWrapper");n.innerHTML=t?(0,b.getIcon20UnlockOutline)().icon:(0,f.getIcon20LockOutline)().icon,(0,p.checkbox)(e,!t)},toggleAva(e){const t=o.Fx.Transitions.easeOutCubic,n=150,r="ease-out";return e?((0,u.show)(cur.sbAva),(0,a.cssAnim)(cur.sbAva,(0,l.extend)({opacity:1},S.mrg(0)),{duration:n,transition:t,func:r}),(0,a.cssAnim)((0,u.ge)("dark_box_topic"),S.mrg(26),{duration:n,transition:t,func:r}),cur.sbHidden=!1,1):((0,a.cssAnim)(cur.sbAva,(0,l.extend)({opacity:0},S.mrg(-26)),{duration:n,transition:t,func:r},u.hide.pbind(cur.sbAva)),(0,a.cssAnim)((0,u.ge)("dark_box_topic"),S.mrg(0),{duration:n,transition:t,func:r}),cur.sbHidden=!0,0)},rbChanged(e,t,n){if(n||cur.sbReInitMediaSelector(t),cur.sbPostCheckboxEl){cur.sbFriendsOnlyEl&&(t===S.radioBtnOptions.WALL?cur.sbFriendsOnlyEl.classList.remove("like_share_friends_only_hidden"):cur.sbFriendsOnlyEl.classList.add("like_share_friends_only_hidden"));const e=(0,u.ge)("like_share_mark_as_ads"),n=(0,u.ge)("like_share_mute_notifications");if(t===S.radioBtnOptions.WALL){if((0,u.hide)(e),(0,p.isChecked)(e)){const e=+(0,u.domData)(n,"prev-state");(0,p.disable)(n,0),(0,u.toggleClass)(n,"on",e)}}else(0,u.show)(e),(0,p.isChecked)(e)&&((0,p.disable)(n,1),(0,u.toggleClass)(n,"on",1));t===S.radioBtnOptions.IM?cur.sbPostCheckboxEl.classList.add("like_share_post_checkbox_hidden"):cur.sbPostCheckboxEl.classList.remove("like_share_post_checkbox_hidden"),t===S.radioBtnOptions.STORY?(0,u.hide)("like_share_title_header","like_share_emoji_wrap","like_share_add_media","like_share_post_checkbox"):(0,u.show)("like_share_title_header","like_share_emoji_wrap","like_share_add_media","like_share_post_checkbox")}(0,p.radiobtn)(e,t,"like_share"),cur.sbLabels&&cur.sbLabels.title_for_all&&(0,u.val)("dark_box_topic",t===S.radioBtnOptions.IM?cur.sbLabels.title_for_mail:cur.sbLabels.title_for_all),(0,u.val)("like_share_title_header",t===S.radioBtnOptions.IM?i.getLang("likes_select_message"):i.getLang("like_select_comment")),(0,l.each)((0,u.geByClass)("_like_share_about_select",(0,c.curBox)().bodyNode),(function(){(0,u.hide)(this)})),(0,u.show)((0,u.domNS)(e));const r=cur.sbField&&(0,u.data)(cur.sbField,"composer");if(r&&r.addMedia){const e=r.addMedia,n=e.menu;let i;if(t===S.radioBtnOptions.COMMUNITY||t===S.radioBtnOptions.WALL&&cur.sbShareOwn){if(e.limit>(e.getMedias(!0)||[]).length){const e=[];i=t===S.radioBtnOptions.COMMUNITY,(0,l.each)(n.types,(function(t,n){"mark_as_ads"===n[0]&&(i&&r.addMedia.markAsAds||!i)||e.push(n)})),n.setItems(e)}(0,u.show)((0,u.geByClass1)("add_media_type_"+r.addMedia.lnkId+"_postpone",r.addMedia.menu.menuNode,"a")),cur.sbPostponeDate&&"postpone"==r.addMedia.chosenMedia[0]&&r.addMedia.chosenMediaData&&(r.addMedia.chosenMediaData.date=cur.sbPostponeDate,r.addMedia.chooseMedia("postpone",r.addMedia.chosenMedia[1],r.addMedia.chosenMediaData),(0,u.hide)((0,u.domFC)((0,u.ge)("like_share_add_media"))),cur.sbPostponeDate=!1),r.addMedia.postponePreview&&(0,u.show)((0,u.domPN)(r.addMedia.postponePreview)),r.addMedia.markAsAds&&(i?(0,u.show)((0,u.domPN)((0,u.geByClass1)("page_preview_mark_as_ads_wrap",(0,u.ge)("like_share_media_preview")))):(0,u.hide)((0,u.domPN)((0,u.geByClass1)("page_preview_mark_as_ads_wrap",(0,u.ge)("like_share_media_preview")))))}else{if(e.limit>(e.getMedias(!0)||[]).length){const e=[];(0,l.each)(n.types,(function(t,n){"postpone"!==n[0]&&"mark_as_ads"!==n[0]&&e.push(n)})),n.setItems(e)}(0,u.hide)((0,u.geByClass1)("add_media_type_"+r.addMedia.lnkId+"_postpone",r.addMedia.menu.menuNode,"a")),r.addMedia.chosenMedia&&"postpone"==r.addMedia.chosenMedia[0]&&(cur.sbPostponeDate=(0,u.val)("postpone_date"+r.addMedia.lnkId),(0,u.val)("like_share_media_preview",""),(0,u.show)((0,u.domFC)((0,u.ge)("like_share_add_media")))),r.addMedia.postponePreview&&(0,u.hide)((0,u.domPN)(r.addMedia.postponePreview)),r.addMedia.markAsAds&&(0,u.hide)((0,u.domPN)((0,u.geByClass1)("page_preview_mark_as_ads_wrap",(0,u.ge)("like_share_media_preview"))))}}if(!0===n)return;switch(t){case S.radioBtnOptions.WALL:if(!cur.sbHidden){const e=o.Fx.Transitions.easeOutCubic,t=150,n="ease-out";(0,a.cssAnim)(cur.sbAva,(0,l.extend)({opacity:0},S.mrg(-26)),{duration:t,transition:e,func:n},u.hide.pbind(cur.sbAva)),(0,a.cssAnim)((0,u.ge)("dark_box_topic"),S.mrg(0),{duration:t,transition:e,func:n}),cur.sbHidden=!0}(0,u.elfocus)(cur.sbField);break;case S.radioBtnOptions.COMMUNITY:case S.radioBtnOptions.IM:{const e=t==S.radioBtnOptions.COMMUNITY?"like_club_dd":"like_mail_dd";cur.wdd[e].selCount?(0,u.elfocus)(cur.sbField):WideDropdown.focus(e),WideDropdown.updimgs(e);break}}const s=cur.wdd.like_mail_dd?cur.wdd.like_mail_dd.selCount:0;S.updateButtonLabel(t,s)},options:()=>({showProgress:g.FlatButton.lock.pbind((0,u.ge)("like_share_send")),hideProgress:g.FlatButton.unlock.pbind((0,u.ge)("like_share_send")),onDone:function(e,t){cur.likeData=t,(0,d.isFunction)(cur.sbOnShare)&&cur.sbOnShare({selectedSharingValue:S.getSelectedSharingValue()});const n=S.getSelectedUsers();(0,c.curBox)().hide(),(0,c.showDoneBox)(e),!cur.sbObj.indexOf(":")&&(0,d.isObject)(t)&&r.Likes.update(cur.sbObj,t),cur.storyLayer&&"im_send"===cur.shareAction&&cur.storyLayer.sendNavigationStatEvents("share_to_message"),window.Videoview&&/^video\-?\d+_\d+$/.test(cur.sbObj)&&Videoview.onVideoShared(cur.shareAction,cur.sbObj,cur.sbList),cur.app&&(0,d.isFunction)(cur.app.vkMiniAppShareSuccess)&&cur.app.vkMiniAppShareSuccess(t,n),/^(market)(.*)/.test(cur.sbObj)&&cur.onShare&&cur.onShare(cur.sbObj,t),delete cur.shareAction},onFail:function(e){return(0,u.ge)("like_share_error").innerHTML='<div class="msg_text">'+e+"</div>",(0,u.show)("like_share_error"),!0}}),updateButtonLabel(e,t){cur.shNewUi&&(cur.shButtonLabelBackup||(cur.shButtonLabelBackup=(0,u.ge)("like_share_send").textContent),e===S.radioBtnOptions.IM?t>1?g.FlatButton.setLabel((0,u.ge)("like_share_send"),i.getLang("mail_send_separate")):g.FlatButton.setLabel((0,u.ge)("like_share_send"),i.getLang("mail_send2")):e===S.radioBtnOptions.STORY?g.FlatButton.setLabel((0,u.ge)("like_share_send"),i.getLang("like_go_to_story_editor")):g.FlatButton.setLabel((0,u.ge)("like_share_send"),cur.shButtonLabelBackup))},getSelectedSharingValue:()=>(window.radioBtns.like_share||{}).val||0,getSelectedUsers(){if(!(0,_.partConfigEnabled)("mini_apps_share_enrich_web"))return;const e=cur?.wdd?.like_mail_dd?.selected||{};return Object.values(e).reduce(((e,t)=>{const n=t[0];if(h.Ranges.isUserId(n)&&n!==window.vk.id){const[r,i]=t[1].split(" "),o=t[3],s=+t[6];e.push({id:n,first_name:r,last_name:i,photo:o,sex:s})}return e}),[])}};function O(e){return e.forEach((function(e){e[9]&&e[9].is_casper&&(e[1]='<span class="chat_title_casper"><span class="chat_title_casper_text">'+e[1]+"</span></span>")})),e}},579605:(e,t,n)=>{n.d(t,{loadImage:()=>r});const r=(e,t)=>new Promise(((n,r)=>{const i=new Image;i.crossOrigin=e.startsWith("data:")?null:"Anonymous",t&&(i.dataset.name=t),i.onerror=()=>{const t=e?.startsWith("data:")?"<dataURL>":e;r(new Error(`Failed to load image's URL: ${t}`))},i.onload=()=>{n(i)},i.src=e}))},427717:(e,t,n)=>{n.d(t,{ERRORS:()=>r});const r={NOT_FOUND_WEBGL_CONTEXT:"WebGL context not found",TEXTURE_CREATE_FAILED:"Create texture failed",SHADER_COMPILE_FAILED:"Shader compile failed",PROGRAM_CREATE_FAILED:"Create program failed",PROGRAM_CREATE_FRAMEBUFFER_FAILED:"Create framebuffer failed",PROGRAM_FRAMEBUFFER_INCOMPLETE:"Incomplete framebuffer",FILTER_NOT_FOUND:"Filter not found",FILTER_LOADING_TEXTURES_FAILED:"Filter loading textures failed"}},80157:(e,t,n)=>{n.d(t,{Renderer:()=>w});var r=n(194815),i=n(200031),o=n(427717),s=n(704235),a=n(224465),c=n(267776),l=n(31709),u=n(744084),d=n(951584),h=n(731437),_=n(801013),p=n(149543),g=n(906110);const m={preserveDrawingBuffer:!0,premultipliedAlpha:!1},b=document.createElement("canvas"),f=b.getContext("webgl",m)||b.getContext("experimental-webgl",m),v={};class w{static getOrCreateTexture(e,t,n){const r=n?`${t.src}_auto`:t.src;if(!v[r]){let o;o=n?w.getAuto(t):t;const s=new i.Texture(e);s.attachImage(e,o),v[r]=s}return v[r]}static loadTextures(e,t){return new Promise((n=>{const r=[],i=t.map((e=>_.imageCacheGlobal.get(e)));Promise.all(i).then((t=>{t.forEach((t=>{const n=w.getOrCreateTexture(e,t);r.push(n)})),n(r)})).catch((()=>{}))}))}static getAuto(e){const t=document.createElement("canvas");let n=t.getContext("2d");if(!n)return t;t.width=e.width,t.height=e.height,n.drawImage(e,0,0,e.width,e.height);let r=e.width*e.height,i=255,o=n.getImageData(0,0,e.width,e.height),s=o.data;function a(e,t,n,r){t+n>=e&&(t=(e-1)/2,n=(e-1)/2);const o=function(e,t,n,r){let i,o=256,a=[];for(let e=0;e<256;e++)a.push(0);let c=0;for(i=0;i<e;i++)c=4*i,a[s[c+r]]+=1;for(i=1;i<o;i++)a[i]+=a[i-1];let l={};for(i=0;i<o&&a[i]<=t;)i++;for(l.min=i,i=255;i<o&&a[i]>e-n;)i--;return i<255&&i++,l.max=i,l}(e,t,n,r),{min:a,max:c}=o;!function(e,t,n,r){let o,a;if(n<=t)for(o=0;o<e;o++)a=4*o,s[a+r]=127.5;else{let c=new Array(256);for(o=0;o<t;o++)c[o]=0;for(o=t;o<n;o++)c[o]=(o-t)*i/(n-t)+.5;for(o=n;o<256;o++)c[o]=i;for(o=0;o<e;o++)a=4*o,s[a+r]=c[s[a+r]]}}(e,a,c,r)}!function(e,t,n){a(e,t,n,0),a(e,t,n,1),a(e,t,n,2)}(r,.01*r,.01*r),n.putImageData(o,0,0);const c=document.createElement("canvas");return c.width=e.width,c.height=e.height,n=c.getContext("2d"),n?.drawImage(t,0,0,t.width,t.height),t}render(e,t,n,r,i={},s,a){return new Promise((c=>{requestAnimationFrame((()=>{if(!f)throw new Error(o.ERRORS.NOT_FOUND_WEBGL_CONTEXT);const l=(0,p.getColorTable)(r);if(!l)throw new Error(o.ERRORS.FILTER_NOT_FOUND);const u=w.getOrCreateTexture(f,n,a);w.loadTextures(f,l).then((n=>{let r=this.postProcessTexture;if(this.baseColorCorrectionProgram.draw({width:e,height:t,uniforms:{u_exposure:i.exposure,u_contrast:i.contrast,u_warmth:i.warmth,u_saturation:i.saturation,u_amount:i.amount},textures:[u,...n]},this.colorCorrectionTexture),this.postProcessProgram.draw({width:e,height:t,uniforms:{u_vignette:i.vignette,u_sharpness:i.sharpness,u_sourceSize:i.sourceSize,u_grain:i.grain},textures:[this.colorCorrectionTexture]},this.postProcessTexture),s&&s.isEnabled){const n=s.form===g.BLUR_TYPES.ROUND?this.roundBlurProgram:this.squareBlurProgram;this.triangleBlurProgram.draw({width:e,height:t,uniforms:{u_delta:[s.size/e,0]},textures:[this.postProcessTexture]},this.blurTexture1),this.triangleBlurProgram.draw({width:e,height:t,uniforms:{u_delta:[0,s.size/t]},textures:[this.blurTexture1]},this.blurTexture2),r=this.blurTexture2,s.position&&(n.draw({width:e,height:t,uniforms:{u_position:s.position,u_radius:s.radius},textures:[this.blurTexture2,this.postProcessTexture]},this.resultBlurTexture),r=this.resultBlurTexture)}return this.flippedProgram.draw({width:e,height:t,uniforms:{},textures:[r]}),c(b)})).catch((e=>{console.error(new Error(e))}))}))}))}constructor(){this.baseColorCorrectionProgram=new r.ShaderProgram(f,s.default,a.default),this.postProcessProgram=new r.ShaderProgram(f,s.default,c.default),this.flippedProgram=new r.ShaderProgram(f,s.default,l.default),this.triangleBlurProgram=new r.ShaderProgram(f,s.default,u.default),this.roundBlurProgram=new r.ShaderProgram(f,s.default,d.default),this.squareBlurProgram=new r.ShaderProgram(f,s.default,h.default),this.colorCorrectionTexture=new i.Texture(f),this.postProcessTexture=new i.Texture(f),this.blurTexture1=new i.Texture(f),this.blurTexture2=new i.Texture(f),this.resultBlurTexture=new i.Texture(f)}}},308171:(e,t,n)=>{n.d(t,{Shader:()=>i});var r=n(427717);class i{constructor(e,t,n){const i=e.createShader(n);if(!i)throw new Error(r.ERRORS.SHADER_COMPILE_FAILED);e.shaderSource(i,t),e.compileShader(i);if(!e.getShaderParameter(i,e.COMPILE_STATUS))throw new Error(`${e.getShaderInfoLog(i)}`);this.shader=i}}},194815:(e,t,n)=>{n.d(t,{ShaderProgram:()=>a});var r=n(308171),i=n(200031),o=n(427717),s=n(8520);class a{createProgram(e,t){const n=this.gl.createProgram();if(!n)throw new Error(`${o.ERRORS.PROGRAM_CREATE_FAILED}, gl error - ${this.gl.getError()}`);this.gl.attachShader(n,e),this.gl.attachShader(n,t),this.gl.linkProgram(n);if(!this.gl.getProgramParameter(n,this.gl.LINK_STATUS))throw new Error(`${this.gl.getProgramInfoLog(n)}`);return n}destroy(){this.gl.deleteProgram(this.program)}attribute(e,t){const n=this.gl.getAttribLocation(this.program,e),r=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,r),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(t),this.gl.STATIC_DRAW),this.gl.enableVertexAttribArray(n),this.gl.vertexAttribPointer(n,2,this.gl.FLOAT,!1,0,0)}uniforms(e){this.gl.useProgram(this.program);for(let t in e){if(!e.hasOwnProperty(t))continue;const n=this.gl.getUniformLocation(this.program,t),r=e[t];if(Array.isArray(r))switch(r.length){case 1:this.gl.uniform1fv(n,new Float32Array(r));break;case 2:this.gl.uniform2fv(n,new Float32Array(r));break;case 3:this.gl.uniform3fv(n,new Float32Array(r));break;case 4:this.gl.uniform4fv(n,new Float32Array(r))}else(0,s.isNumber)(r)&&this.gl.uniform1f(n,r)}}textures(e,t){this.gl.useProgram(this.program),e.forEach(((e,n)=>{t?(e.use(this.gl,n),this.gl.uniform1i(this.gl.getUniformLocation(this.program,`u_image${n}`),n)):i.Texture.unuse(this.gl,n)}))}draw(e,t){this.gl.useProgram(this.program),t&&(t.updateSize(this.gl,e.width,e.height),this.bindTexture(t.texture)),this.gl.canvas.width=e.width,this.gl.canvas.height=e.height,this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight);const n=e.width,r=e.height;this.attribute("a_position",[0,0,n,0,0,r,0,r,n,0,n,r]),this.attribute("a_texCoord",[0,0,1,0,0,1,0,1,1,0,1,1]),this.uniforms(Object.assign(e.uniforms,{u_resolution:[e.width,e.height]})),e.textures&&this.textures(e.textures,!0),this.gl.clearColor(0,0,0,0),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,6),e.textures&&this.textures(e.textures,!1),t&&this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null)}bindTexture(e,t){if(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.framebuffer),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,e,0),t){const e=this.gl.checkFramebufferStatus(this.gl.FRAMEBUFFER);if(e!==this.gl.FRAMEBUFFER_COMPLETE){let t="";switch(e){case this.gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:t="The attachment types are mismatched or not all framebuffer attachment points are framebuffer attachment complete.";break;case this.gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:t="There is no attachment.";break;case this.gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:t="Height and width of the attachment are not the same.";break;case this.gl.FRAMEBUFFER_UNSUPPORTED:t="The format of the attachment is not supported or if depth and stencil attachments are not the same renderbuffer."}throw new Error(`${o.ERRORS.PROGRAM_FRAMEBUFFER_INCOMPLETE}. ${t}`)}}}constructor(e,t,n){if(!e)throw new Error(o.ERRORS.NOT_FOUND_WEBGL_CONTEXT);const i=new r.Shader(e,t,e.VERTEX_SHADER).shader,s=new r.Shader(e,n,e.FRAGMENT_SHADER).shader;this.gl=e,this.program=this.createProgram(i,s),this.framebuffer=e.createFramebuffer()}}},200031:(e,t,n)=>{n.d(t,{Texture:()=>i});var r=n(427717);class i{attachImage(e,t){e.bindTexture(e.TEXTURE_2D,this.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.bindTexture(e.TEXTURE_2D,null)}updateSize(e,t,n){e.bindTexture(e.TEXTURE_2D,this.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,e.UNSIGNED_BYTE,null),e.bindTexture(e.TEXTURE_2D,null)}use(e,t){e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)}static unuse(e,t){e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,null)}destroy(e){e.deleteTexture(this.texture)}constructor(e,t,n){if(!e)throw new Error(r.ERRORS.NOT_FOUND_WEBGL_CONTEXT);const i=e.createTexture();if(!i)throw new Error(r.ERRORS.TEXTURE_CREATE_FAILED);this.texture=i,e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),t&&n&&this.updateSize(e,t,n),e.bindTexture(e.TEXTURE_2D,null)}}},149543:(e,t,n)=>{n.d(t,{getColorTable:()=>S});var r=n(43991),i=n(995788),o=n(341832),s=n(711694),a=n(190623),c=n(179445),l=n(854037),u=n(497098),d=n(536322),h=n(520065),_=n(463130),p=n(812376),g=n(881990),m=n(433157),b=n(857108),f=n(434944),v=n(115508),w=n(67443),k=n(174059),y=n(403072),x=n(220964),T=n(851994),C=n(352014);const E={regular:r,nox:i,vesper:o,latona:s,liber:a,luna:c,minerva:l,mitra:u,pro:d,terra:h,veles:_,vesta:p,zaria:g,sepia:m,genius:b,horus:f,fortuna:v},A=[w,k,y,x,T,C];function S(e){const t=E[e];if(t)return[...A,t]}},801013:(e,t,n)=>{n.d(t,{imageCacheGlobal:()=>i});var r=n(579605);const i=new class{get(e){return new Promise(((t,n)=>{const i=this.images[e];i?t(i):(0,r.loadImage)(e).then((n=>{this.setImage(e,n),t(n)})).catch(n)}))}setImage(e,t){this.images[e]=t}constructor(){this.images={}}}},906110:(e,t,n)=>{n.d(t,{AVERAGE_COLORS_MAP:()=>c,BACKGROUND_MODES:()=>o,BLUR_TYPES:()=>d,BOTTOM_PANEL_HEIGHT:()=>w,BRUSH_WIDTH_COEFFICIENT:()=>C,CANVAS_SCALE:()=>k,COLORS:()=>s,COLORS_NEW:()=>a,CONTEXT_TYPES:()=>_,CROP_ASPECTS:()=>b,CROP_ASPECT_FREE:()=>g,CROP_ASPECT_ORIGINAL:()=>m,CROP_MIN_SIZE:()=>F,CROP_SIDES:()=>p,DRAWING_PREVIEW_HEIGHT:()=>P,DRAWING_PREVIEW_WIDTH:()=>I,FILTER_PREVIEW_HEIGHT:()=>R,FILTER_PREVIEW_HEIGHT_NEW_UI:()=>L,FILTER_PREVIEW_WIDTH:()=>O,FILTER_PREVIEW_WIDTH_NEW_UI:()=>B,FONTS:()=>l,FONT_SIZE_COEFFICIENT:()=>E,LAYER_DEFAULT_SIZE:()=>S,LAYER_MIN_SIZE:()=>A,LAYER_TYPES:()=>h,PHOTO_FILTERS:()=>u,STICKER_LARGE:()=>T,STICKER_MEDIUM:()=>x,STICKER_THUMB:()=>y,STORY_BASE_HEIGHT:()=>v,STORY_BASE_WIDTH:()=>f,TABS:()=>i});var r=n(8520);const i={AUTO_COLORS:"color_correction_auto",IMAGE_UPSCALE:"upscale_source_image",STICKERS:"stickers",TEXT:"text",PAINT:"paint",CROP:"crop",FILTERS:"filters",COLOR:"color",SEGMENTATION:"segmentation",BLUR:"blur",COLLAGE:"collage"},o={PHOTO:"photo",BACKGROUND:"background"},s=["#FFFFFF","#000000","#FF3301","#FF8C49","#F9D827","#2EBA48","#4189E8","#9F4BED","#69E4B3","#FF84A0","#F7A978","#F8786C","#8B3232","#93B658","#556E35","#5B4490","#1B1B1B","#333333","#4D4D4D","#666666","#808080","#999999","#B3B3B3","#CCCCCC"],a=["#FFFFFF","#181919","#AFA399","#3F8AE0","#22BD8A","#FAC725","#FF5773","#A393F5","#925CFF","#FA60A3","#FF8000","#B1E718","#7AD3FF","#585F67","#DAD1CA","#EDEFF4"],c=[{s:12,v:-40},{s:9,v:-30},{s:6,v:-20},{s:3,v:-10},{s:0,v:0},{s:-3,v:10},{s:-6,v:20},{s:-9,v:30},{s:-12,v:40}],l=["classic","cursive","marker","italics","typewriter","poster","retro","impact","lobster"],u=["regular","nox","vesper","latona","liber","luna","minerva","mitra","pro","terra","veles","vesta","zaria","sepia","genius","horus","fortuna"],d={ROUND:"round",RECTANGULAR:"rectangular"},h={STICKER:"sticker",TEXT:"text",IMAGE:"image",BACKGROUND:"background",STORY_BACKGROUND:"story_background"},_={PHOTO:"photo",STORY:"story"},p={CENTER:"center",NW:"nw",NE:"ne",SW:"sw",SE:"se",N:"n",S:"s",W:"w",E:"e"},g=0,m=-1,b=[{title:"photos_pe_crop_aspect_free",value:g},{title:"photos_pe_crop_aspect_original",value:m},{title:"photos_pe_crop_aspect_16_9",value:16/9},{title:"photos_pe_crop_aspect_4_3",value:4/3},{title:"photos_pe_crop_aspect_1_1",value:1},{title:"photos_pe_crop_aspect_3_4",value:3/4},{title:"photos_pe_crop_aspect_9_16",value:9/16}],f=1080,v=1920,w=50,k=(0,r.isRetina)()?2:1,y="thumb",x=(0,r.isRetina)()?"256":"128",T=512,C=40,E=100,A=30,S=128,O=127,R=95,B=40,L=40,I=270,P=110,F=100},710837:(e,t,n)=>{n.d(t,{AudioAttachOptions:()=>o});var r=n(766733),i=n(705744);class o{toStoryPublisherOptions(){return this.prepareMusicCover(this.audioData.audioImageUrl).then((([e,t])=>({entrypoint:"music_cover_sharing",photoUrl:this.audioData.isCoverImagePlaceholder?void 0:t,backgroundId:this.defaultBackgroundId,attachment:{type:"audio",owner_id:this.audioData.audioOwnerId,id:this.audioData.audioId},locked:!0,stickers:[{sticker_type:"native",sticker:{can_delete:!1,action_type:"music",action:{...this.audioData,audioImageUrl:e}}}]})))}prepareMusicCover(e){if(!e)return Promise.resolve(["",""]);const t=(0,i.loadImage)(e),n=t.then((e=>{const t=(0,r.prepareCoverCanvas)();return this.drawMusicCover(t,e),t.toDataURL()})),o=t.then((e=>(0,r.prepareBackgroundCover)(e,this.backgroundCoverBlurRadius)));return Promise.all([n,o])}drawMusicCover(e,t){const n=e.getContext("2d");n&&n.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height)}constructor(e){this.audioData=e,this.backgroundCoverBlurRadius=720,this.defaultBackgroundId=321}}},973807:(e,t,n)=>{n.d(t,{AudioPlaylistAttachOptions:()=>o});var r=n(705744),i=n(766733);class o{toStoryPublisherOptions(){const e=this.playlistData.playlistCoverPhotoUrls.slice(0,4);return this.preparePlaylistCover(e).then((([e,t])=>({entrypoint:"music_cover_sharing",attachment:{type:"playlist",owner_id:this.playlistData.playlistOwnerId,id:this.playlistData.playlistId},photoUrl:this.playlistData.isCoverImagePlaceholder?void 0:t,backgroundId:this.defaultBackgroundId,locked:!0,stickers:[{sticker_type:"native",sticker:{can_delete:!1,action_type:"playlist",action:{...this.playlistData,playlistImageUrl:e}}}]})))}preparePlaylistCover(e){return 0===e.length?Promise.resolve(["",""]):Promise.all(e.map(r.loadImage)).then((e=>{const t=(0,i.prepareCoverCanvas)();this.drawCompositePlaylistCover(t,e);const n=t.toDataURL();return(0,r.loadImage)(n).then((e=>(0,i.prepareBackgroundCover)(e,this.backgroundCoverBlurRadius))).then((e=>[n,e]))}))}drawCompositePlaylistCover(e,t){if(!(t.length<1||t.length>4))switch(t.length){case 1:this.drawImage(e,t[0],"tl","full","full");break;case 2:this.drawImage(e,t[0],"tl","half","full"),this.drawImage(e,t[1],"tr","half","full");break;case 3:this.drawImage(e,t[0],"tl","half","full"),this.drawImage(e,t[1],"tr","half","half"),this.drawImage(e,t[2],"br","half","half");break;case 4:this.drawImage(e,t[0],"tl","half","half"),this.drawImage(e,t[1],"tr","half","half"),this.drawImage(e,t[2],"br","half","half"),this.drawImage(e,t[3],"bl","half","half")}}drawImage(e,t,n,r,i){const o=e.getContext("2d");if(!o)return;let s,a,c,l,u,d;"half"===r&&"full"===i?(s=t.width/4,a=0,c=t.width/2,l=t.height):"full"===r&&"half"===i?(s=0,a=t.height/4,c=t.width,l=t.height/2):(s=0,a=0,c=t.width,l=t.height),u="full"===r||"tl"===n||"bl"===n?0:e.width/2,d="full"===i||"tl"===n||"tr"===n?0:e.height/2;const h="half"===r?e.width/2:e.width,_="half"===i?e.height/2:e.height;o.drawImage(t,s,a,c,l,u,d,h,_)}constructor(e){this.playlistData=e,this.backgroundCoverBlurRadius=720,this.defaultBackgroundId=321}}},426056:(e,t,n)=>{n.d(t,{DefaultAttachOptions:()=>r});class r{toStoryPublisherOptions(){return Promise.resolve({})}}},384621:(e,t,n)=>{n.d(t,{QuestionAttachOptions:()=>i});var r=n(705744);class i{toStoryPublisherOptions(){return Promise.resolve({entrypoint:"profile_question",questionId:1,stickers:[{sticker_type:"native",sticker:{action_type:"ask_question_avatar",action:{photoUrl:this.avatarUrl,size:156,borderSize:4,borderColor:"#fff"},transform:{gravity:"left_top",translation_x:.05,translation_y:.2},can_delete:!0}},{sticker_type:"native",sticker:{action_type:"ask_question_text",action:{text:this.stickerText},transform:{gravity:"left_top",translation_x:.05,translation_y:.62},can_delete:!0}}],attachment:{type:"url",text:"questions",url:`https://${(0,r.getHostName)()}/question/ask${window.vk.id}`}})}constructor(e,t){this.avatarUrl=e,this.stickerText=t}}},63489:(e,t,n)=>{n.d(t,{VmojiOptions:()=>r});class r{toStoryPublisherOptions(){return Promise.resolve({entrypoint:"vmoji_sharing",locked:!0,backgroundId:320,attachment:{text:"open",type:"url",url:this.url},stickers:[{sticker_type:"native",sticker:{can_delete:!1,action_type:"vmoji",action:{stickerImageUrl:this.stickerImageUrl,text:this.text},transform:{gravity:"center"}}}]})}constructor(e,t,n){this.text=e,this.url=t,this.stickerImageUrl=n}}},250493:(e,t,n)=>{n.d(t,{WallAttachOptions:()=>r});class r{toStoryPublisherOptions(){return Promise.resolve({entrypoint:"story_repost",attachment:{type:"url",text:"attach_wall",url:new URL(this.sbObj,document.baseURI).href}})}constructor(e){this.sbObj=e}}},80407:(e,t,n)=>{n.d(t,{WallReplyAttachOptions:()=>r});class r{toStoryPublisherOptions(){return Promise.resolve({entrypoint:"comment_repost",stickers:[{sticker_type:"native",sticker:{can_delete:!1,action_type:"comment",action:this.wallReplyParams}}]})}constructor(e){this.wallReplyParams=e}}},766733:(e,t,n)=>{n.d(t,{prepareBackgroundCover:()=>s,prepareCoverCanvas:()=>o});var r=n(906110),i=n(80157);function o(){const e=Math.max(r.STORY_BASE_WIDTH,r.STORY_BASE_HEIGHT),t=document.createElement("canvas");return t.width=e,t.height=e,t}function s(e,t){const n=new i.Renderer,o=Math.max(r.STORY_BASE_WIDTH,r.STORY_BASE_HEIGHT),s={exposure:0,contrast:0,saturation:0,warmth:0,amount:0,vignette:0,sharpness:0,grain:0,sourceSize:[e.width,e.height]},a={isEnabled:!0,form:r.BLUR_TYPES.ROUND,size:t,position:null,radius:.3};return n.render(o,o,e,r.PHOTO_FILTERS[0],s,a,!1).then((e=>{const t=r.STORY_BASE_WIDTH<r.STORY_BASE_HEIGHT,n=t?(o-r.STORY_BASE_WIDTH)/2:0,i=t?0:(o-r.STORY_BASE_HEIGHT)/2,s=document.createElement("canvas");s.width=r.STORY_BASE_WIDTH,s.height=r.STORY_BASE_HEIGHT;const a=s.getContext("2d");return a?(a.drawImage(e,n,i,r.STORY_BASE_WIDTH,r.STORY_BASE_HEIGHT,0,0,r.STORY_BASE_WIDTH,r.STORY_BASE_HEIGHT),a.fillStyle="rgba(0, 0, 0, 0.24)",a.fillRect(0,0,r.STORY_BASE_WIDTH,r.STORY_BASE_HEIGHT),s.toDataURL()):""}))}},395675:(e,t,n)=>{var r=n(490712),i=n(553807);window.vk?.pe?.static_manager_dynamic_imports&&window.vk?.stDomain&&(n.p=window.vk.stDomain+"/dist/"),window.ShareBox=i.ShareBox;try{window.stManager.done(window.jsc("web/sharebox.js"))}catch(e){}requestIdleCallback((()=>{try{(0,r.statlogsValueEvent)("entries_requests",1,"sharebox","web")}catch{}}),{timeout:5e3})},745195:(e,t,n)=>{n.d(t,{getAuthorOnboardingTooltipsSharedState:()=>c,renderAuthorUserOnboardingTooltip:()=>u,renderHelpTooltip:()=>l});var r=n(165753),i=n(741531),o=n(942451),s=n(812477),a=n(610989);const c=()=>(0,o.makeSharedState)("author-onboarding-tooltips",(()=>({isAuthorUserTooltipShown:!1,isAuthorGroupTooltipShown:!1})),{version:1}),l=(e,t,n,r)=>{const{tooltip:i}=(0,s.helpHintTooltip)(e,{content:t,onHideRequestSent:n,isServerSideHideDisabled:!0},{width:r,forceSide:"top",withCloseButton:!1,appendToParent:!0,autoAdjustToViewport:!1,offset:[2,-6],noAutoHideOnWindowClick:!1,cls:"feature_intro_tt feature_intro_blue_tt"});window.requestAnimationFrame((()=>i.show()))},u=e=>{const t=c(),n=r.AvailableHelpHints.AUTHOR_LIKE_ONBOARDING_HINT;(0,i.ensureAccountHelpHintsService)().canShow(n)&&!t().isAuthorUserTooltipShown&&(t().isAuthorUserTooltipShown=!0,l(e,a.getLang("intro_hint_description_feed_author_like_onboarding"),(()=>(0,i.ensureAccountHelpHintsService)().hideHelpHint({hintId:n})),225))}},849225:(e,t,n)=>{n.d(t,{LikeButtonTypes:()=>r});const r={like:"like",share:"share",views:"views",comment:"comment"}},958258:(e,t,n)=>{n.d(t,{updateAriaLabelCounter:()=>o});var r=n(610989),i=n(849225);const o=(e,t,n)=>{if(!("number"==typeof t&&e instanceof HTMLElement&&e.classList.contains("PostBottomAction")))return;const o=(e=>{let t;switch(e){case i.LikeButtonTypes.comment:t=r.getLang("likes_comments_N_aria_short","raw");break;case i.LikeButtonTypes.like:t=r.getLang("likes_likes_N_aria_short","raw");break;case i.LikeButtonTypes.share:t=r.getLang("likes_shares_N_aria_short","raw")}return t})(n);if(!o)return;const s=(0,r.langNumeric)(t,o,!1);e.setAttribute("aria-label",s)}},67443:(e,t,n)=>{e.exports=n.p+"images/894a4bad6f3936dd9445.png"},174059:(e,t,n)=>{e.exports=n.p+"images/d76c3df1076f7efabc7d.png"},403072:(e,t,n)=>{e.exports=n.p+"images/e95e343f81803403d5d3.png"},220964:(e,t,n)=>{e.exports=n.p+"images/f873a6bb7bb460dfb539.png"},115508:(e,t,n)=>{e.exports=n.p+"images/8ff21c6e9f0a2788db49.png"},857108:(e,t,n)=>{e.exports=n.p+"images/842e80feda60b4718b10.png"},434944:(e,t,n)=>{e.exports=n.p+"images/352bb0d293c648a40028.png"},711694:(e,t,n)=>{e.exports=n.p+"images/abf5e076ba1b7cd28c89.png"},190623:(e,t,n)=>{e.exports=n.p+"images/e653d1e4f9de15944019.png"},179445:(e,t,n)=>{e.exports=n.p+"images/fc49bc4f2595c3f75d43.png"},854037:(e,t,n)=>{e.exports=n.p+"images/f564d813eeba2ab2a257.png"},497098:(e,t,n)=>{e.exports=n.p+"images/b0a46866fade1ae1a0c6.png"},995788:(e,t,n)=>{e.exports=n.p+"images/7d0e0fa74fbfe517a63c.png"},536322:(e,t,n)=>{e.exports=n.p+"images/0206c1608a7a28e29ab1.png"},43991:(e,t,n)=>{e.exports=n.p+"images/0e0e54c3291044088ce8.png"},433157:(e,t,n)=>{e.exports=n.p+"images/67d056c2554b7d1ceb6a.png"},520065:(e,t,n)=>{e.exports=n.p+"images/fc79828aadf10edcc85d.png"},463130:(e,t,n)=>{e.exports=n.p+"images/73005d8850c204a4ecd7.png"},341832:(e,t,n)=>{e.exports=n.p+"images/499fb00242bf9fa034ac.png"},812376:(e,t,n)=>{e.exports=n.p+"images/6152209fae492be8fc19.png"},851994:(e,t,n)=>{e.exports=n.p+"images/5548832dd35bb85bc6b5.png"},352014:(e,t,n)=>{e.exports=n.p+"images/c54637bd9fd6fcabbd1e.png"},881990:(e,t,n)=>{e.exports=n.p+"images/f593f66eddb36ba672e2.png"}},a={};function c(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return s[e].call(n.exports,n,n.exports,c),n.exports}c.m=s,e=[],c.O=(t,n,r,i)=>{if(!n){var o=1/0;for(u=0;u<e.length;u++){for(var[n,r,i]=e[u],s=!0,a=0;a<n.length;a++)(!1&i||o>=i)&&Object.keys(c.O).every((e=>c.O[e](n[a])))?n.splice(a--,1):(s=!1,i<o&&(o=i));if(s){e.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,r,i]},c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var i=Object.create(null);c.r(i);var o={};t=t||[null,n({}),n([]),n(n)];for(var s=2&r&&e;"object"==typeof s&&!~t.indexOf(s);s=n(s))Object.getOwnPropertyNames(s).forEach((t=>o[t]=()=>e[t]));return o.default=()=>e,c.d(i,o),i},c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce(((t,n)=>(c.f[n](e,t),t)),[])),c.u=e=>45458===e?"web/chunks/hls.c49a3f53.js":56229===e?"web/chunks/366130d1.async.1c06797d.js":30072===e?"web/chunks/showCaptchaPopup.a4740a52.js":19072===e?"web/chunks/left_menu_store.b41d694b.js":42255===e?"web/chunks/wikiModalExampleInitiator.bf570c13.js":56965===e?"web/chunks/stories_web_lib.ba126e07.js":17213===e?"web/chunks/2bd60279.async.ea157d31.js":42943===e?"web/chunks/video_web_lib.782f771d.js":53927===e?"web/chunks/questions_boxes_web.d05c4563.js":40482===e?"web/chunks/0ca8e07a.async.981f6895.js":12679===e?"web/chunks/2c4420c0.async.0fa14a60.js":40617===e?"web/chunks/93bd35f8.async.944fc663.js":27602===e?"web/chunks/2fea6d3f.async.fa8b17c6.js":24535===e?"web/chunks/4e9ddeeb.async.0371d26b.js":74336===e?"web/chunks/show_audio_playlist.c4ee742f.js":93033===e?"web/chunks/a6f550f7.async.84ccbfa1.js":89870===e?"web/chunks/5ad2d924.async.2e93ba52.js":17895===e?"web/chunks/money_transfer_box.50183b92.js":50905===e?"web/chunks/money_transfer.e2c2d345.js":21608===e?"web/chunks/bf8fbce1.async.1f467086.js":66118===e?"web/chunks/6fb21264.async.74f2b319.js":36237===e?"web/chunks/2fb8e07d.async.2c799e4e.js":56154===e?"web/chunks/cc6f5392.async.8d8a5bcd.js":58292===e?"web/chunks/437a8ce6.async.378b5454.js":49925===e?"web/chunks/8af15a4d.async.5eadc2fd.js":68349===e?"web/chunks/5f266f5f.async.3ed461f1.js":25459===e?"web/chunks/2c9432b5.async.06e9b990.js":84835===e?"web/chunks/unauth_action_box.29aa267e.js":23045===e?"web/chunks/0d674423.async.5458427b.js":71247===e?"web/chunks/364659da.async.59a0e75a.js":59886===e?"web/chunks/StoryPublisherV2.2ad86f85.js":70989===e?"web/chunks/4b497ab9.async.e13543c1.js":29311===e?"web/chunks/feed-client-nav-skeleton.774b8a5c.js":56091===e?"web/chunks/feed-client-nav-async-right-block.323099af.js":1715===e?"web/chunks/AudioLongtapModal.d6e38506.js":96649===e?"web/chunks/ecomm_market_product_attach.e1343ea9.js":51713===e?"web/chunks/voice_message_player.172315d5.js":9925===e?"web/chunks/speech.257a7e64.js":73248===e?"web/chunks/5792d39d.async.ad94820b.js":42099===e?"web/chunks/58131fc9.async.2e7c43e3.js":51943===e?"web/chunks/VideoUpload.8e2a8bde.js":73214===e?"web/chunks/SilentModeForms.c8c406fe.js":69706===e?"web/chunks/e0383668.async.b99eb451.js":43802===e?"web/chunks/d5b01a55.async.6a0ae0bd.js":10504===e?"web/chunks/StoriesCreatorVKApp.f31236ac.js":54833===e?"web/chunks/performance-stats.99d41d48.js":57088===e?"web/chunks/79f739a7.async.7b7d443d.js":32643===e?"web/chunks/story_blocks.0da84ca4.js":13410===e?"web/chunks/283c0b16.async.33f5912b.js":17448===e?"web/chunks/b1bc3b17.async.86dcbc32.js":99370===e?"web/chunks/VideoEditorModal.cd800b6f.js":95805===e?"web/chunks/PublishClipToVideoModal.fb197348.js":91906===e?"web/chunks/VideoUploadModal.07557685.js":74205===e?"web/chunks/VideoExternalUploadModal.15030051.js":36637===e?"web/chunks/ClipUploadModal.bb853a52.js":18493===e?"web/chunks/AddClipToVideoBlock.d29cc984.js":40953===e?"web/chunks/AddClipToVideoModal.6f004f3e.js":60274===e?"web/chunks/ClipPlayerModule.600f713b.js":40074===e?"chunks/"+e+".4d8e0cba.js":37557===e?"chunks/"+e+".46b5840d.js":60899===e?"chunks/"+e+".0471a2c1.js":29290===e?"chunks/"+e+".b54ef2c0.js":{17356:"web/chunks/videoplayer-interactive",57407:"web/chunks/shopify"}[e]+"."+{17356:"95a5926a",57407:"78df6599"}[e]+".js",c.miniCssF=e=>30072===e?"web/chunks/eba149c1.css":{74336:1,17895:1,50905:1}[e]?"web/chunks/43d06ff5.css":59886===e?"web/chunks/c3646f82.css":1715===e?"web/chunks/4aa73755.css":96649===e?"web/chunks/8272fe04.css":51943===e?"web/chunks/443c0dba.css":73214===e?"web/chunks/122e7a6e.css":10504===e?"web/chunks/8a71df77.css":32643===e?"web/chunks/1deee1aa.css":99370===e?"web/chunks/aa88a2a7.css":95805===e?"web/chunks/70c35bc4.css":{91906:1,74205:1,36637:1}[e]?"web/chunks/f89919fd.css":18493===e?"web/chunks/85bd25a0.css":40953===e?"web/chunks/d66415b4.css":60274===e?"web/chunks/a9cca8ef.css":void 0,c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},c.l=(e,t,n,i)=>{if(r[e])r[e].push(t);else{var o,s;if(void 0!==n)for(var a=document.getElementsByTagName("script"),l=0;l<a.length;l++){var u=a[l];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")=="vk:"+n){o=u;break}}o||(s=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,c.nc&&o.setAttribute("nonce",c.nc),o.setAttribute("data-webpack","vk:"+n),o.src=e),r[e]=[t];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(h);var i=r[e];if(delete r[e],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),s&&document.head.appendChild(o)}},c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.p="/dist/",i=e=>new Promise(((t,n)=>{var r=c.miniCssF(e),i=c.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=(s=n[r]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(i===e||i===t))return s}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){var s;if((i=(s=o[r]).getAttribute("data-href"))===e||i===t)return s}})(r,i))return t();((e,t,n,r)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.onerror=i.onload=o=>{if(i.onerror=i.onload=null,"load"===o.type)n();else{var s=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=a,i.parentNode.removeChild(i),r(c)}},i.href=t,document.head.appendChild(i)})(e,i,t,n)})),o={36394:0},c.f.miniCss=(e,t)=>{o[e]?t.push(o[e]):0!==o[e]&&{1715:1,10504:1,17895:1,18493:1,30072:1,32643:1,36637:1,40953:1,50905:1,51943:1,59886:1,60274:1,73214:1,74205:1,74336:1,91906:1,95805:1,96649:1,99370:1}[e]&&t.push(o[e]=i(e).then((()=>{o[e]=0}),(t=>{throw delete o[e],t})))},(()=>{c.b=document.baseURI||self.location.href;var e={36394:0};c.f.j=(t,n)=>{var r=c.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=i);var o=c.p+c.u(t),s=new Error;c.l(o,(n=>{if(c.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}}),"chunk-"+t,t)}},c.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[o,s,a]=n,l=0;if(o.some((t=>0!==e[t]))){for(r in s)c.o(s,r)&&(c.m[r]=s[r]);if(a)var u=a(c)}for(t&&t(n);l<o.length;l++)i=o[l],c.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return c.O(u)},n=self.webpackChunkvkweb=self.webpackChunkvkweb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var l=c.O(void 0,[91498,50560,89631,85172,762,21529,79210,35623,81765,23592,79882,8307,6514,47694],(()=>c(395675)));l=c.O(l)})();