(()=>{"use strict";var e,t,s,a,n,r,o={464927:(e,t,s)=>{s.d(t,{default:()=>a});const a={mourning:"LeftMenu-module__mourning--YG7ZJ"}},657282:(e,t,s)=>{function a(e){e.preventDefault(),e.stopPropagation()}s.d(t,{cancelEvent:()=>a})},472033:(e,t,s)=>{s.d(t,{createApi:()=>u,getAnonymousAccessToken:()=>l,getApiWrapper:()=>d,hasAnonymousAccessToken:()=>c,setAnonymousAccessToken:()=>i,setApiWrappers:()=>o});var a=s(330262);let n,r=null;const o=(e,t)=>{r=t},i=e=>{n=e},l=()=>n,c=()=>Boolean(n),d=()=>r;function u(e,t=!1){return(s,n,r)=>{if((0,a.debugMessage)(a.DebugMessageType.DEBUG,{type:"request",method:e}),!0===t&&c()){const e=l();r={...r,accessToken:e},e&&null!==s&&"object"==typeof s&&"secret"in s&&"device_id"in s&&"anonym_auth_user_id"in s&&(delete s.device_id,delete s.secret,delete s.anonym_auth_user_id)}return d()()(e,s,r,n).then((t=>((0,a.debugMessage)(a.DebugMessageType.DEBUG,{type:"response",method:e,data:t}),t)))}}},145646:(e,t,s)=>{s.d(t,{get:()=>n});var a=s(8520);const n=(e,t)=>{if(!(0,a.isString)(e)&&!(0,a.isArray)(e))return;const s=(0,a.isArray)(e)?e:e.split(".").filter(Boolean),n=s.length-1;let r=t;for(let e=0;e<s.length;e+=1){if(!(0,a.isObjectLike)(r))return;const t=r[s[e]];if(!t)return;if(e===n)return t;r=t}}},462849:(e,t,s)=>{s.d(t,{baseUserFields:()=>p,callsCheckParticipantName:()=>Me,callsDeleteParticipantName:()=>Ae,callsEditParticipantName:()=>Ce,callsGetGroupHistory:()=>J,callsGetHistory:()=>Q,callsGetJoinHistory:()=>ye,callsGetParticipants:()=>we,callsGetReactions:()=>me,callsGetUserSettings:()=>ve,callsSetUserSettings:()=>ke,callsStart:()=>ae,deleteAsrTranscriptions:()=>Ie,executeGetCallsSettings:()=>Le,fetchCallsAnonymQueue:()=>Te,fetchCallsQueue:()=>W,fetchUrl:()=>V,forceCallFinish:()=>M,friendsSearch:()=>ee,getAnonymCallToken:()=>T,getAsrTranscriptions:()=>Ee,getCallAuthToken:()=>k,getCallParticipants:()=>E,getCallParticipantsApiCall:()=>N,getCallTranslationLink:()=>Re,getCallUrlLink:()=>C,getContactCallToken:()=>S,getConversationByCall:()=>De,getConversationMembers:()=>w,getCurrentCalls:()=>$,getFriends:()=>X,getGroupById:()=>P,getGroupMembers:()=>R,getGroupsForCall:()=>O,getGroupsForStreaming:()=>x,getHelpHints:()=>Ge,getInboundCall:()=>Be,getPhotoMessagesUploadServer:()=>Ne,getSearchVideo:()=>ue,getSettings:()=>je,getThumbUploadUrl:()=>$e,getUpcomingLives:()=>j,getVideos:()=>L,getWatchTogetherAlbums:()=>le,getWatchTogetherOwnerVideos:()=>de,getWatchTogetherRecommended:()=>ce,hideHelpHint:()=>Oe,isAPIErrorWithType:()=>Ue,loadCallPeers:()=>_,loadCallPeersByPeerIds:()=>h,loadPrivacySettings:()=>G,loadUsers:()=>D,makeCallsAnonymQueueUrl:()=>Se,makeCallsQueueUrl:()=>H,messagesDeleteScheduledCall:()=>oe,messagesEditCall:()=>ie,messagesGetCallPreview:()=>A,messagesGetConversations:()=>te,messagesGetScheduledCalls:()=>re,messagesSearch:()=>ne,messagesSend:()=>se,photosDelete:()=>Z,photosGetAllImages:()=>z,photosSaveBackgroundPhoto:()=>Y,prepareCallsSettings:()=>Pe,queueSubscribe:()=>F,retryLoadCallPeers:()=>y,saveMessagesPhoto:()=>xe,saveUploadedThumb:()=>Fe,searchCallParticipants:()=>be,searchChatMembers:()=>v,searchUsers:()=>q,sendTrackEvents:()=>qe,sendVideoEdit:()=>U,updateVideoThumb:()=>We,userFields:()=>u,videoDelete:()=>fe,videoEditStreaming:()=>_e,videoGet:()=>pe,videoGetThumbsUploadServer:()=>ge,videoLiveHeartbeat:()=>B,videoStartStreaming:()=>he,voiceRoomsGetParticipants:()=>I});var a=s(853883),n=s(355139),r=s(472033),o=s(330262),i=s(145646),l=s(791592),c=s(362223),d=s(303323);const u=["photo_100","photo_200","sex","screen_name","first_name_gen","is_nft","animated_avatar","custom_names_for_calls"].join(","),p=u,g=["name","photo_100","photo_200","can_upload_video","custom_names_for_calls"].join(","),h=e=>(0,r.createApi)("messages.getConversationsById")({peer_ids:e.join(","),extended:1,fields:p}),_=e=>(0,r.createApi)("messages.getConversationsById")({peer_ids:e,extended:1,fields:p});let f=0,b=[],m=[];const y=(0,n.exponentialRetry)(((e,t=50)=>(b.push(e),new Promise((e=>{m.push(e),f||(f=window.setTimeout((()=>{h(b).then((e=>{m.forEach((t=>{t(e)})),m=[]})).catch(l.handlePromiseError),b=[],f=0}),t))}))))),w=(e,t,s=0)=>{const a={peer_id:e,fields:u.concat(",can_call"),extended:1};return t&&(a.count=t,a.offset=s),(0,r.createApi)("messages.getConversationMembers")(a)},v=(e,t,s=10)=>(0,r.createApi)("messages.searchConversationMembers")({peer_id:e,q:t,count:s,fields:u.concat(",can_call"),extended:1}),k=(e,t=0)=>{(0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"request",method:"messages.getCallToken",data:{isDev:e,groupId:t}});const s={env:e?"development":"production"};return 0!==t&&(s.group_id=t),(0,r.createApi)("messages.getCallToken")(s,{},{version:a.API_VERSION}).then((e=>((0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"response",method:"messages.getCallToken",data:e}),e)))},C=(e,t,s=0)=>{const a={call_id:e,invalidate:t?1:0};return 0!==s&&(a.group_id=s),(0,r.createApi)("messages.getJoinLink")(a)},A=(e,t={})=>((0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"request",method:"messages.getCallPreview",data:{link:e,fields:p,device_id:"anyId"}}),(0,r.getApiWrapper)()()("messages.getCallPreview",{link:e,fields:p,device_id:"anyId",extended:1},t).then((e=>((0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"response",method:"messages.getCallPreview",data:e}),e)))),M=e=>(0,r.createApi)("messages.forceCallFinish")({call_id:e}),T=(e,t,s,a,n)=>{const i={link:e,user_id:t,name:s,secret:a,device_id:"anyId"};return(0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"request",method:"messages.getAnonymCallToken",data:i}),(0,r.getApiWrapper)()()("messages.getAnonymCallToken",i,n).then((e=>((0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"response",method:"messages.getAnonymCallToken",data:e}),e)))},S=(e,t)=>(0,r.createApi)("messages.getContactCallToken")({contact:e,env:t?"development":"production"}),E=(e,t,s,i=!1,l)=>{const c=[];let d=Array.from(new Set(t));for(;d.length;)d.length>1e3?(c.push(d.slice(0,1e3)),d=d.slice(1e3)):(c.push(d),d=[]);const u=(0,n.exponentialRetry)((async function(t,n){const l=i?{call_id:e,participant_ids:n.join(","),fields:p,device_id:"anyId",secret:t.secret,user_id:s}:{call_id:e,participant_ids:n.join(","),fields:p};let c;(0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"request",method:"messages.getCallParticipants",data:l});const d=(0,r.getAnonymousAccessToken)();c=d?await(0,r.getApiWrapper)()()("calls.getParticipantsByIds",{call_id:e,participant_ids:n.join(","),fields:p},{accessToken:d}):await(0,r.getApiWrapper)()()("messages.getCallParticipants",l,{version:a.API_VERSION});const u={count:c.count+t.count,secret:c.secret,profiles:(t.profiles||[]).concat(c.profiles||[]),anonyms:(t.anonyms||[]).concat(c.anonyms||[]),groups:(t.groups||[]).concat(c.groups||[]),contacts:(t.contacts||[]).concat(c.contacts||[])};return(0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"response",method:"messages.getCallParticipants",data:u}),u})),g=Promise.resolve({secret:l,count:0});return c.reduce(((e,t)=>e.then((e=>u(e,t)))),g)},I=(e,t=!1,s,a,n)=>{const o=(0,r.createApi)("voicerooms.getParticipants"),i={fields:p};return t&&(i.device_id="anyId",i.secret=a,i.user_id=s),o({...i,...e},n)},P=e=>(0,r.createApi)("groups.getById")({group_ids:String(e),fields:g},{},{version:a.API_VERSION}),j=e=>(0,r.createApi)("video.getUpcomingLives")({owner_ids:e}),L=(e,t,s)=>(0,r.createApi)("video.get")({owner_id:e,videos:t,need_privacy:s}),U=(e,t,s,a,n)=>(0,r.createApi)("video.edit")({owner_id:e,video_id:t,name:s,desc:a,privacy_view:n}),D=e=>(0,r.createApi)("users.get")(e),B=e=>(0,r.createApi)("video.liveHeartbeat")(e),G=e=>(0,r.createApi)("account.getPrivacySettings")(e),O=()=>(0,r.createApi)("messages.getGroupsForCall")({count:200}),R=(e,t=0,s=10)=>{let a={fields:u.concat(",can_call_from_group"),group_id:String(e),offset:t,count:s,sort:"time_asc"};return(0,r.createApi)("groups.getMembers")(a)},q=(e,t="")=>(0,r.createApi)("users.search")({fields:u.concat(",can_call_from_group"),group_id:e,q:t});function N(e,t,s=!1,n="",i=0){let l={call_id:e,participant_ids:t.join(","),fields:p};return s&&(l={...l,device_id:"anyId",secret:n,user_id:i}),(0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"request",method:"messages.getCallParticipants",data:l}),(0,r.getApiWrapper)()()("messages.getCallParticipants",l,{version:a.API_VERSION}).then((e=>((0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"response",method:"messages.getCallParticipant",response:e}),e)))}function x(){return(0,r.createApi)("video.getGroupsForStreaming")({})}function $(e=u){return(0,r.createApi)("messages.getCurrentCalls")({fields:e})}function F(e){return(0,r.createApi)("queue.subscribe")(e,{},{grouping:!1})}function W(e){return F({queue_ids:`calls_${e}`}).then((t=>{const{base_url:s,queues:a}=t,{key:n,timestamp:r}=a[0];return{baseUrl:s,key:n,timestamp:r,userId:e}}))}function H(e){const{baseUrl:t,key:s,userId:a,timestamp:n}=e;return`${t}?act=a_check&key=${s}&id=${a}&ts=${n}&wait=20`}function V(e){return fetch(e).then((e=>e.json()))}function Q(e=25,t,s="all"){const a={count:e,fields:u+",last_name_gen",filter:s};return t&&(a.pagination_marker=t),(0,r.createApi)("calls.getHistory")(a)}function J(e,t=25,s,a="all"){const n={group_id:e,count:t,fields:u+",last_name_gen",filter:a};return s&&(n.pagination_marker=s),(0,r.createApi)("calls.getGroupHistory")(n)}const z=(e={})=>{const t=(0,r.getApiWrapper)()();return(0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"request",method:"photos.get",params:e}),t("photos.get",{album_id:"-166",...e}).then((e=>((0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"response",method:"photos.get",response:e}),e)))},K=e=>["error_msg","error_code"].some((t=>(0,i.get)(t,e)))?Promise.reject(e):Promise.resolve(e),Y=e=>{const t=(0,r.getApiWrapper)()(),s=(0,r.getApiWrapper)()();return(0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"request",method:"photos.getCallBackgroundsPhotoUploadServer"}),t("photos.getCallBackgroundsPhotoUploadServer",{}).then(K).then((t=>{(0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"response",method:"photos.getCallBackgroundsPhotoUploadServer",response:t});const s=new FormData;return s.append("file1",e,e.name),(0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"request",method:`[photoUploadUrl] ${t.upload_url}`,formData:s}),fetch(t.upload_url,{method:"POST",body:s}).then((e=>e.json())).then(K)})).then((e=>((0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"response",method:"[photoUploadUrl]",json:e}),(0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"request",method:"photos.saveBackgroundPhoto",json:e}),s("photos.saveBackgroundPhoto",{response_json:JSON.stringify(e)})))).then(K)},Z=e=>{const t=(0,r.getApiWrapper)()();return(0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"request",method:"photos.delete",params:e}),t("photos.delete",e).then(K)},X=(e=10,t=0,s="hints")=>{const a={fields:u.concat(",can_call,online_info"),count:e,offset:t,order:s,filters:"without_banned,without_deleted,without_dead"};return(0,r.createApi)("friends.get")(a)},ee=(e,t="",s=10,a=0)=>(0,r.createApi)("friends.search")({user_id:e,q:t,fields:u.concat(",can_call,online_info,photo_50"),count:s,offset:a,filters:"without_banned,without_deleted,without_dead"}),te=(e={extended:1,count:30})=>(0,r.createApi)("messages.getConversations")(e),se=(e={})=>(0,r.createApi)("messages.send")(e),ae=(0,r.createApi)("calls.start"),ne=(e={})=>{const t={count:20,extended:1,...e};return(0,r.createApi)("messages.search")(t)},re=(e={})=>(0,r.createApi)("messages.getScheduledCalls")(e),oe=e=>(0,r.createApi)("messages.deleteScheduledCall")(e),ie=e=>(0,r.createApi)("messages.editCall")(e),le=(e={},t={})=>(0,r.createApi)("video.getAlbums")(e,t).then(K),ce=(e={},t={})=>(0,r.createApi)("video.getWatchTogetherRecommendedVideos")(e,t).then(K),de=(e={},t={})=>(0,r.createApi)("video.getWatchTogetherOwnerVideos")(e,t).then(K),ue=(e={},t)=>(e.united_video_only=1,e.extended=1,(0,r.createApi)("video.search")(e,t,{version:"5.167"}).then(K)),pe=(e,t)=>{const s={extended:1,...e};return(0,r.createApi)("video.get")(s,t)},ge=(0,r.createApi)("video.getThumbsUploadServer"),he=(0,r.createApi)("video.startStreaming"),_e=(0,r.createApi)("video.editStreaming"),fe=(0,r.createApi)("video.delete"),be=(e,{userId:t,isAnon:s=!1,secret:n,search:i},l)=>{const c="messages.getCallParticipants",d={call_id:e,fields:p,search:i},u=s?{...d,device_id:"anyId",secret:n,user_id:t}:d;return(0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"request",method:c,params:u}),(0,r.getApiWrapper)()()(c,u,{version:a.API_VERSION},l).then((e=>((0,o.debugMessage)(o.DebugMessageType.DEBUG,{type:"response",method:c,data:e}),{count:e.count,secret:e.secret,profiles:e.profiles||[],anonyms:e.anonyms||[],groups:e.groups||[]})))},me=(e={},t)=>(0,r.createApi)("calls.getReactions")(e,t),ye=(e,t)=>(0,r.createApi)("calls.getCallJoinHistory")(e,t).then((e=>e.csv)),we=(e,t)=>(e.fields=p,(0,r.createApi)("calls.getParticipants")(e,t)),ve=()=>(0,r.createApi)("calls.getUserSettings")({},{},{maxRetries:0}),ke=e=>(0,r.createApi)("calls.setUserSettings")(e),Ce=e=>(0,r.createApi)("calls.editParticipantName",!0)(e),Ae=e=>(0,r.createApi)("calls.deleteParticipantName",!0)(e),Me=e=>(0,r.createApi)("calls.checkParticipantName")(e);function Te(e,t,s){const a={anonym_auth_user_id:e,secret:t,device_id:s};return(0,r.createApi)("calls.subscribeToQueue",!0)(a)}function Se(e,t){const{base_url:s,queues:a}=e.queue_subscription_info,{key:n,timestamp:r}=a[0];return`${s}?act=a_check&key=${n}&id=${t}&ts=${r}&wait=20`}const Ee=(0,r.createApi)("calls.getAsrTranscriptions"),Ie=((0,r.createApi)("calls.editAsrTranscription"),(0,r.createApi)("calls.deleteAsrTranscriptions")),Pe=e=>{const t=Object.fromEntries(e.toggles.map((e=>[e.name,e.enabled])));return{...e,toggles:t}};async function je(){return Pe(await(0,r.createApi)("calls.getSettings")({}))}async function Le(e){const{user:t,privacySettings:s,params:a}=await async function(e){const t=`\nreturn [\n  wait(fork(\n  API.users.get({\n    user_ids: ${(0,c.vkIdToPeerId)(e)},\n    fields: '${u}',\n  })\n)),\n  API.calls.getSettings({}),\n];\n  `,[s,a]=await(0,r.createApi)("execute")({code:t}),[o]=(0,n.normalizeProfiles)(s),i=Object.fromEntries(a.toggles.map((e=>[e.name,e.enabled])));return{user:o,privacySettings:{callsIp:a.settings.calls_ip},params:{...a,toggles:i}}}(e),{toggles:o,settings:i}=a;return{settings:i,toggles:o,callsCredentials:{key:i.public_key,is_dev:i.is_dev,privacySettings:s,ip_setting_enabled:i.ip_setting_enabled,me:t}}}const Ue=e=>"type"in e&&"string"==typeof e.type&&[d.APIErrorType.API_ERROR,d.APIErrorType.NETWORK_ERROR].includes(e.type);function De(e,t){const s={call_id:e};return t&&(s.hall_id=t),(0,r.createApi)("calls.getConversationByCall")(s)}async function Be(){const e=await(0,r.createApi)("messages.getInboundCalls")({}),[t]=e.items??[];return t??null}function Ge(e){return(0,r.createApi)("account.getHelpHints")({hints:e?.join(",")}).then((e=>e.items))}async function Oe(e){return(0,r.createApi)("account.hideHelpHint")({hint_id:e})}function Re(e,t){const s={call_id:e};return null!==t&&(s.hall_id=t),(0,r.createApi)("calls.getBroadcast")(s)}const qe=e=>{const t=JSON.stringify(e);return(0,r.createApi)("stats.trackEvents")({events:t})},Ne=()=>(0,r.createApi)("photos.getMessagesUploadServer")({}),xe=e=>(0,r.createApi)("photos.saveMessagesPhoto")(e);function $e(e){return(0,r.createApi)("video.getThumbUploadUrl")(e)}function Fe(e){return(0,r.createApi)("video.saveUploadedThumb")(e)}function We(e){return(0,r.createApi)("video.edit")(e)}},356212:(e,t,s)=>{s.d(t,{fetchCallToken:()=>r});var a=s(85876);let n;async function r(e,t=!1){if(n)return n;const s=(0,a.getLocalToken)(e);return s||(n=(0,a.fetchToken)(t),n.then((t=>(0,a.saveLocalToken)(t,e))),n)}},314315:(e,t,s)=>{var a,n;s.d(t,{ECallLongpollEntityType:()=>a,ECallLongpollType:()=>n}),function(e){e.Calls="calls"}(a||(a={})),function(e){e.ScheduledCallsUpdate="scheduled_calls_update",e.CurrentCallsUpdate="current_calls_update",e.ChatInfoUpdated="chat_info_updated",e.CallAccepted="call_accepted",e.IncomingCall="incoming_call",e.CallFinished="call_finished",e.ParticipantNameChanged="participant_name_changed"}(n||(n={}))},791828:(e,t,s)=>{s.d(t,{CredentialCache:()=>r});var a=s(8520),n=s(361585);class r{get cacheInMs(){return 60*this.CACHE_LIFE_IN_MINUTES*1e3}isActualTs(e){return null!==e&&e+this.cacheInMs>Date.now()}getActualCredentialsFromLS(){try{const e=a.localStorage.getItem(this.key);if(!e)return[];const t=JSON.parse(e);if("data"in t&&"lastUpdate"in t&&this.isActualTs(t.lastUpdate))return[t.data,t.lastUpdate]}catch(e){}return[]}put(e){this.data=e,this.lastUpdate=Date.now(),a.localStorage.setItem(this.key,JSON.stringify({data:e,lastUpdate:this.lastUpdate}))}update(e){this.data&&(this.data={...this.data,ts:e},this.lastUpdate=Date.now(),a.localStorage.setItem(this.key,JSON.stringify({data:this.data,lastUpdate:this.lastUpdate})))}get(){if(null===this.data){const[e,t]=this.getActualCredentialsFromLS();if(e&&t)return this.data=e,this.lastUpdate=t,this.data}return this.data&&!this.isActualTs(this.lastUpdate)&&this.drop(),this.data}drop(){this.data=null,this.lastUpdate=null,a.localStorage.removeItem(this.key)}constructor(e,t=n.CallsAppId.WEB){this.data=null,this.lastUpdate=null,this.CACHE_LIFE_IN_MINUTES=5,this.key=`queue_credential_calls_cache_${e}_${t}`;const[s,a]=this.getActualCredentialsFromLS();s&&a&&(this.data=s,this.lastUpdate=a)}}},188969:(e,t,s)=>{s.d(t,{startQueueManager:()=>l});var a=s(462849),n=s(692141),r=s(314315),o=s(361585);const i=1;function l({id:e,loadModule:t,credentialCache:s,debug:l,regularTransport:c,appId:d=o.CallsAppId.WEB}){const u=()=>{const o=new n.QueueManager({debug:l,noSharedWorker:c}),p=`calls_${e}_${d}_1`;return o.addQueue(p,(async()=>{const t=s.get();if(t)return t;const n=await(0,a.queueSubscribe)({queue_ids:p}),{base_url:r,queues:o}=n,{key:i,timestamp:l}=o[0],c={id:e,key:i,ts:l,url:r};return s.put(c),c})),o.subscribe((async(e,a)=>{a.failed&&a.failed!==i?s.drop():(s.update(Number(a.ts)),a.failed!==i&&(!window.Calls?.handleQueueEvent&&a.events.some((e=>e.data.type===r.ECallLongpollType.IncomingCall))&&await t(),window.Calls?.handleQueueEvent&&a.events.forEach((e=>{window.Calls?.handleQueueEvent(e)}))))}),(()=>{l&&console.log("reset"),o.destroy(),u()})),()=>o.destroy()};return u()}},85876:(e,t,s)=>{s.d(t,{fetchToken:()=>l,getLocalToken:()=>i,saveLocalToken:()=>o});var a=s(8520),n=s(462849);const r=e=>"calls_token"+(e?`_${e}`:"");function o(e,t){a.localStorage.setItem(r(t),e)}function i(e){return a.localStorage.getItem(r(e))}async function l(e){const{token:t}=await(0,n.getCallAuthToken)(e);return t}},692141:(e,t,s)=>{s.d(t,{QueueManager:()=>r});var a=s(104351),n=s(100638);class r{addQueue(e,t){return this._transport?.addQueue(e,t),this}removeQueue(e){return this._transport?.removeQueue(e),this}subscribe(e,t){return this._transport?.subscribe(e,t),this}destroy(){this._transport?.destroy()}toggleDebug(e){this._transport?.toggleDebug(e)}constructor({debug:e,noSharedWorker:t}={}){"undefined"==typeof SharedWorker||t?this._transport=new n.RegularTransport:this._transport=new a.SharedWorkerTransport,this.toggleDebug(e)}}},100638:(e,t,s)=>{s.d(t,{RegularTransport:()=>o});var a=s(8520),n=s(871366),r=s(482087);class o{addQueue(e,t){this.credentialsGetters.set(e,t),this.longpollManager.has(e)||this.requestCredentials(e)}async requestCredentials(e){const t=this.credentialsGetters.get(e);if(t&&!this.credentialsProcessing.has(e)){this.credentialsProcessing.add(e);try{this.logger.debug(`request credentials for ${e}`);const s=await t();this.longpollManager.add(e,s)}catch(e){this.logger.error("[requestCredentials]",e)}finally{this.credentialsProcessing.delete(e)}}}removeQueue(e){this.credentialsGetters.delete(e),this.credentialsProcessing.delete(e),this.longpollManager.remove(e)}subscribe(e,t){this.onMessage=e,t&&(this.onReset=t)}toggleDebug(e){this.logger.enabled=Boolean(e)}destroy(){this.onMessage=a.noop,this.onReset=a.noop;for(let[e]of this.credentialsGetters)this.longpollManager.remove(e)}constructor(){this.credentialsGetters=new Map,this.credentialsProcessing=new Set,this.onMessage=a.noop,this.onReset=a.noop,this.logger=new n.Logger(!1,"RegularTransport"),this.callbackHandler=(e,t)=>{this.logger.debug(`response for ${e}`,t);const s=(0,a.isObjectLike)(t)&&("err"in t||"failed"in t);s&&this.longpollManager.remove(e),this.onMessage(e,t),s&&this.onReset()},this.longpollManager=new r.LongpollManager(this.callbackHandler,this.logger)}}},104351:(e,t,s)=>{s.d(t,{SharedWorkerTransport:()=>r});var a=s(418562),n=s(938357);class r{_postMessage(e){this._worker.port.postMessage(e)}_handleMessage(e){switch(this._isDebug&&"ping"!==e.data.type&&console.debug("Message received from worker\n",e.data),e.data.type){case"ping":e.data.payload===this._clientId&&(this._postMessage({type:"pong"}),this._checkKeepAlivePortInterval());break;case"longpoll-event":e.data.payload.clientId===this._clientId&&this._onMessage?.(e.data.payload.queueId,e.data.payload.data);break;case"request-credentials":e.data.payload.clientId===this._clientId&&this._requestCredentials(e.data.payload.queueId)}}_checkKeepAlivePortInterval(){this._keepAliveTimeout&&clearTimeout(this._keepAliveTimeout),this._keepAliveTimeout=setTimeout((()=>this._onReset?.()),n.TO_PORT_PING_INTERVAL+n.TO_PORT_PING_INTERVAL/2)}_setBeforeUnloadListener(){const e=()=>this.destroy();return window.addEventListener("beforeunload",e),e}async _requestCredentials(e){const t=this._credentialsGetters.get(e);if(t&&!this._credentialsProcessing.has(e)){this._credentialsProcessing.add(e);try{const s=await t();this._postMessage({type:"set-credentials",payload:{queueId:e,params:s}})}catch(e){console.error("[SharedWorkerTransport][_requestCredentials]",e)}finally{this._credentialsProcessing.delete(e)}}}destroy(){this._postMessage({type:"disconnect",payload:this._clientId}),this._worker.port.close(),window.removeEventListener("beforeunload",this._onBeforeUnloadLink),this._onMessage=null,this._onReset=null}addQueue(e,t){this._credentialsGetters.set(e,t),this._postMessage({type:"add-queue",payload:{queueId:e}})}subscribe(e,t){this._onMessage=e,this._onReset=t}removeQueue(e){this._credentialsGetters.delete(e),this._postMessage({type:"remove-queue",payload:{queueId:e}})}toggleDebug(e){const t=Boolean(e);this._isDebug=t,this._postMessage({type:"debug",payload:t})}constructor(){this._onReset=null,this._onMessage=null,this._keepAliveTimeout=null,this._isDebug=!1,this._clientId=(0,a.default)(),this._worker=new SharedWorker(new URL(self.location.origin+"/dist/"+s.u(29290),s.b)),this._onBeforeUnloadLink=this._setBeforeUnloadListener(),this._credentialsGetters=new Map,this._credentialsProcessing=new Set,this._worker.onerror=e=>console.error(e),this._worker.port.onmessage=e=>this._handleMessage(e),this._postMessage({type:"connect",payload:this._clientId}),this._worker.port.start(),this._checkKeepAlivePortInterval()}}},871366:(e,t,s)=>{s.d(t,{Logger:()=>a});class a{createMessage(e){return this.prefix?e.map(((e,t)=>0===t&&"string"==typeof e?`[${this.prefix}] ${e}`:e)):e}debug(...e){this.enabled&&console.debug(...this.createMessage(e))}log(...e){this.enabled&&console.log(...this.createMessage(e))}warn(...e){this.enabled&&console.warn(...this.createMessage(e))}error(...e){this.enabled&&console.error(...this.createMessage(e))}constructor(e,t=""){this.enabled=e,this.prefix=t}}},482087:(e,t,s)=>{s.d(t,{LongpollManager:()=>r});var a=s(8520),n=s(305140);class r{add(e,t){const s=this._queues.get(e);(s?.ts||0)<t.ts&&this._queues.set(e,{...t}),this._start()}remove(e){const t=this._queues.get(e);t&&this._retryCount.delete(t?.url),this._queues.delete(e)}has(e){return this._queues.has(e)}_start(){for(const e of this._queues.values())this._processing.has(e.url)||this._processing.set(e.url,setTimeout((()=>this._processUrl(e.url)),this._getTimeoutValue(e.url)))}_getTimeoutValue(e){const t=this._getRetryCount(e);return 1===t?4:2*t*1e3}_getRetryCount(e){return this._retryCount.get(e)??1}_increaseRetryCount(e){const t=this._getRetryCount(e)+1;return this._retryCount.set(e,t),t}_resetRetryCount(e){this._retryCount.set(e,1)}async _processUrl(e){const t=[],s=[];for(const[a,n]of this._queues.entries())n.url===e&&(t.push(a),s.push(n));if(!t.length||!s.length)return void this._processing.delete(e);let a;try{const t=(0,n.createUrl)(s,this._logger),r=await this._request(t);a=Array.isArray(r)?r:[r],this._resetRetryCount(e)}catch(s){a=[],this._increaseRetryCount(e)>=20&&t.forEach((()=>a.push(this._createFailedResponse())))}finally{this._processing.delete(e)}for(let e=0;e<a.length;++e)this._publish(t[e],a[e]),this._updateTs(t[e],a[e]);this._start()}_request(e){return fetch(e).then((e=>e.json()))}_updateTs(e,t){if(!(0,a.isObject)(t)||!("ts"in t))return;const s=this._queues.get(e),n=Number(t.ts);!(0,a.isUndefined)(s)&&s.ts<n&&(s.ts=n)}_createFailedResponse(){return{err:1,failed:1}}constructor(e,t){this._queues=new Map,this._processing=new Map,this._publish=e,this._logger=t,this._retryCount=new Map}}},305140:(e,t,s)=>{s.d(t,{createUrl:()=>n});const a=25;function n(e,t){const s=e[0].url,n=e[0].id;let r=e[0].key,o=`${e[0].ts}`;for(let a=1;a<e.length;++a){if(e[a].id!==n){const s=`Invalid userId pair: ${n}, ${e[a].id}`;throw t?.error(s),new Error(s)}if(e[a].url!==s){const n=`Invalid baseUrl pair: ${s}, ${e[a].url}`;throw t?.error(n),new Error(n)}r+=`${e[a].key}`,o+=`_${e[a].ts}`}return`${s}?act=a_check&key=${r}&id=${n}&ts=${o}&wait=${a}`}},938357:(e,t,s)=>{s.d(t,{TO_PORT_PING_INTERVAL:()=>a,TO_PORT_PING_REPLY_WAIT:()=>n});const a=1e4,n=1e3},819952:(e,t,s)=>{function a(e){e.preventDefault(),e.stopPropagation()}s.d(t,{cancelEvent:()=>a})},602198:(e,t,s)=>{var a=s(490712),n=s(87223),r=s(20025),o=s(610989),i=s(240515),l=s(585364),c=s(462849),d=s(356212),u=s(933052),p=s(472033),g=s(476726),h=s(847891),_=s(188969),f=s(314315),b=s(791828);window.vk?.pe?.static_manager_dynamic_imports&&window.vk?.stDomain&&(s.p=window.vk.stDomain+"/dist/");const m=(0,g.partConfigEnabled)("calls_forbid_web_calls_for_ads_account"),y=(0,g.partConfigEnabled)("web_calls_queue_subscribe_logger"),w=(0,g.partConfigEnabled)("web_calls_enable_queue_manager_regular_transport");function v(){return new Promise((e=>{window.stManager.add([window.jsc("web/calls.js"),"calls.css"],e)}))}(async function(){if(window.Calls?.initialized)return;if(m||!h.Ranges.isUserId(window.vk.id))return;(0,p.setApiWrappers)((()=>u.api),(()=>u.api));const e=(0,d.fetchCallToken)(window.vk.id,window.vk.isCallsDevEnv),{callsCredentials:t,toggles:s,settings:a}=await(0,c.executeGetCallsSettings)(window.vk.id),g={...window.Calls?.predefinedInitArgs,callsCredentials:t,sdkToken:await e,toggles:{...s,enableSimplePiP:window.browser.safari?s.enableSimplePiPSafari:s.enableSimplePiP,videoSlotsCount:a.video_slots_count,browserWarnings:a.browser_warnings,disabledBanners:a.disabled_banners,customScreenSharePacketSize:a.custom_screen_share_packet_size,customScreenShareCongestionControlThreshold:a.custom_screen_share_congestion_control_threshold,customExternalDomain:a.custom_external_domain,noiseReductionMode:a.noise_reduction_mode,enableVmoji:!0,deviceId:a.device_id},onError:({msg:e})=>(e&&(0,n.logError)(e),e&&(0,r.showFastBox)(o.getLang("global_error"),e)),onBeforeCallStart:()=>{window.Notifier.pauseGlobalMedia()},onAfterCallFinish:()=>{window.Notifier.resumeGlobalMedia()},tabIsMaster:()=>window.Notifier.tabIsMaster(),isFriend:e=>!!window.curFastChat?.friends?.[e+"_"],removeLeftMenuItemBadge:()=>{l.leftMenu.removeBadge(i.PAGE_ID_CALLS)}};window.browser.mozilla?(window.Calls=window.Calls??{},window.Calls.initArgs=g,window.requestIdleCallback((()=>{v().then((()=>{window.Calls?.init?.(g)}))}))):function(e){if(!1===window.Calls?.initialized)return void window.Calls.init(e);const t={},s=t=>(...s)=>v().then((()=>window.Calls?.init?.(e))).then((()=>window.Calls?.[t]?.(...s)));t.call=s("call"),t.startGroupCall=s("startGroupCall"),t.startCall=s("startCall"),t.acceptCall=s("acceptCall"),t.joinCallByLink=s("joinCallByLink"),t.joinRoomByLink=s("joinRoomByLink"),t.showJoinPopup=s("showJoinPopup"),t.showCallByNamePopup=s("showCallByNamePopup"),t.showCreateCallByLinkPopup=s("showCreateCallByLinkPopup"),t.showPlanCalendarEventPopup=s("showPlanCalendarEventPopup"),t.showStartCallModal=s("showStartCallModal"),t.showHistoryScreen=s("showHistoryScreen"),t.joinOrStartCallModal=s("joinOrStartCallModal"),t.initArgs=e,window.Calls=t}(g);const k=async()=>{void 0===window.Calls?.initialized&&await v(),await(window.Calls?.init(g))},C=new b.CredentialCache(window.vk.id);if(null===C.get()){const e=await(0,c.getInboundCall)();e&&(await k(),window.Calls?.handleQueueEvent({entity_type:f.ECallLongpollEntityType.Calls,entity_id:1,data:{type:f.ECallLongpollType.IncomingCall,value:e}}))}(0,_.startQueueManager)({id:window.vk.id,loadModule:k,credentialCache:C,debug:y,regularTransport:w})})().catch(console.error);try{window.stManager.done(window.jsc("web/calls_lazy_module.js"))}catch(e){}requestIdleCallback((()=>{try{(0,a.statlogsValueEvent)("entries_requests",1,"calls_lazy_module","web")}catch{}}),{timeout:5e3})},169920:(e,t,s)=>{s.d(t,{createLeftMenuInitiator:()=>E,initLeftMenu:()=>S});var a=s(474848),n=s(440961),r=s(33371),o=s(293819),i=s(505954),l=s(918967),c=s(296540),d=s(927984),u=s(182753),p=s(819952),g=s(802515),h=s(916369),_=s(240515),f=s(490712),b=s(320090),m=s(20191),y=s(610989),w=s(144770),v=s(359244),k=s(476726),C=s(464927);const A=Date.now(),M=(0,r.default)((()=>(0,k.partConfigEnabled)("web_mourning")));function T(e,t){window.vk.statsMeta.st&&(0,w.saveStatlogEvents)({name:"left_menu_interactions",value:1,keys:[e,window.vk.id,A,...t??[]]})}function S(e){(0,u.setLeftMenu)(e),requestAnimationFrame((()=>{E(document).render()}))}function E(e){const t=e.querySelector("#"+(0,o.getReactRootElId)("LeftMenuRoot"));return{render(){t&&n.render((0,a.jsx)(D,{}),t)},unmount(){t&&n.unmountComponentAtNode(t)}}}const I=()=>document.body.classList.contains("body_narrow_sidebar"),P=(e,t,{icon:s,...a})=>{T("nav_go",[e.currentTarget.tagName,JSON.stringify(a),JSON.stringify(t)]),window.vk.statsMeta.st&&(t.debugLog=(e,...t)=>T(e,t));const n=(0,m.navGo)(e.currentTarget,e.nativeEvent,t);!1===n&&(0,p.cancelEvent)(e),T("nav_go_result",[void 0===n?"undefined":JSON.stringify(n)])},j=(e,t)=>{e.counter_href&&(t.stopPropagation(),P(t,{},e))},L=(e,t)=>{T("item_click",[e?.id,e?.href,e?.action?.type]),(e=>{e.id&&(0,h.unPrefixId)(e.id)===_.PAGE_ID_CLIPS&&(0,f.statlogsValueEvent)("clips_sections_open",1,"clips")})(e);const s=t.nativeEvent,{action:a}=e;if(a){const n=a.type;switch(n){case"nav_go":return void P(t,JSON.parse(a.options_serialized),e);case"open_app":return T("show_app",[a.app_id,a.ref]),void(0,d.showApp)(s,a.app_id,a.need_install,a.ref);case"custom":T("custom_action",[a.handler]);try{Function("event",a.handler)(s)}catch(e){console.error(e),T("custom_failure",e?.message?[e.message]:[])}return;case"external_link":return}T("unknown_action"),(0,g.expectNever)(n)}e.href&&P(t,{},e)},U=e=>(0,u.closeTooltip)(e);function D(){T("render");const{sections:e}=(0,u.useLeftMenuStore)(),[t,s]=(0,c.useState)(I);return(0,c.useEffect)((()=>{const e=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&s(I())}))}));return e.observe(document.body,{attributes:!0,attributeFilter:["class"]}),()=>{e.disconnect()}}),[]),(0,c.useEffect)((()=>{e.forEach((e=>{e.items.forEach((e=>{e.add_static&&window.stManager.add(e.add_static)}))}))}),[e.length]),e.length?(0,a.jsx)(i.AppRootProvider,{children:(0,a.jsx)(l.LeftMenuOld,{sections:e,narrow:t,settingsAriaLabel:y.getLang("settings_menu_box"),onSelect:L,onCounterClick:j,onSettingsClick:e=>{(0,v.loadMenuSettingsBox)(e.settings_type)},className:M()?C.default.mourning:void 0,onTooltipClose:U})}):(0,a.jsx)(b.LeftMenuLegacySkeleton,{})}},639267:(e,t,s)=>{s.d(t,{leftMenu:()=>r});var a=s(182753),n=s(916369);const r={showItem(e){(0,a.setItemHidden)({id:e,isHidden:!1});const t=(0,n.getLegacyLeftMenuItemEl)(e);t&&(t.style.display="")},setBadge(e,t){(0,a.setBadge)({id:e,badge:t});const s=(0,n.getLegacyLeftMenuItemEl)(e);s&&(s.classList.toggle("LeftMenu__item--withRedDot","prominent"===t),s.classList.toggle("LeftMenu__item--withBlueDot","accent"===t))},removeBadge(e){this.setBadge(e,void 0)}}},320090:(e,t,s)=>{s.d(t,{LeftMenuLegacySkeleton:()=>r});var a=s(474848),n=(s(296540),s(671194));const r=()=>(0,a.jsx)("div",{className:"LeftMenuLegacySkeleton",children:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18].map((e=>(0,a.jsxs)("div",{className:"LeftMenuLegacySkeleton__item",children:[(0,a.jsx)(n.Skeleton,{className:"LeftMenuLegacySkeleton__icon",width:20,height:20,colorFrom:"var(--vkui--color_skeleton_to)",noAnimation:!0,circle:!0}),(0,a.jsx)(n.Skeleton,{className:"LeftMenuLegacySkeleton__label",height:12,colorFrom:"var(--vkui--color_skeleton_to)",noAnimation:!0})]},e)))})},585364:(e,t,s)=>{s.d(t,{createLeftMenuInitiator:()=>r.createLeftMenuInitiator,initLeftMenu:()=>r.initLeftMenu,leftMenu:()=>a.leftMenu,setLeftMenu:()=>n.setLeftMenu,updateItemCount:()=>n.updateItemCount});var a=s(639267),n=s(182753),r=s(169920)},182753:(e,t,s)=>{s.d(t,{closeTooltip:()=>m,setBadge:()=>f,setItemHidden:()=>b,setLeftMenu:()=>h,updateItemCount:()=>_,useLeftMenuStore:()=>y});var a=s(942451),n=s(32489),r=s(679005),o=s(916369),i=s(293721),l=s(240515),c=s(8520);function d(e){return t=>t.id===e||t.id===(0,o.prefixId)(e)}function u(e,t,s){return(0,r.produce)(e,(e=>{e.some((({items:e})=>e.some((e=>{if(t(e))return s(e),!0}))))}))}const p=(0,a.makeSharedState)("left-menu-store",(()=>function(){const e=(0,n.createStore)([]),t=(0,n.combine)({sections:e}),s=(0,n.createEvent)("setLeftMenu"),a=(0,n.createEvent)("updateItemCount"),r=(0,n.createEvent)("setBadge"),i=(0,n.createEvent)("setHidden"),p=(0,n.createEvent)("closeTooltip");e.on(s,((e,t)=>"internal.getWebLeftMenu"===t.method&&t.response?.sections?(0,c.decodeHTMLEntitiesDeep)(t.response.sections):[])).on(a,((e,{id:t,count:s,href:a})=>u(e,d(t),(e=>{e.count=Math.max(s,0),e.is_hidden=s<0,a&&(e.href=a),t===l.PAGE_ID_MARKET_ORDERS&&(e.is_hidden=!1)})))).on(r,((e,{id:t,badge:s})=>u(e,d(t),(e=>{e.badge=s})))).on(i,((e,{id:t,isHidden:s})=>u(e,d(t),(e=>{e.is_hidden=s})))).on(p,((e,{hint_id:t})=>{return u(e,(s=t,e=>e.tooltip?.hint_id===s),(e=>{delete e.tooltip}));var s}));const g=(0,n.createEffect)((({hint_id:e,hint_hash:t})=>{(0,o.turnOffTooltip)(e,t)}));return(0,n.sample)({source:p,target:g}),{$leftMenu:t,setLeftMenu:s,updateItemCount:a,setBadge:r,setItemHidden:i,closeTooltip:p}}()),{version:0}),{$leftMenu:g,setLeftMenu:h,updateItemCount:_,setBadge:f,setItemHidden:b,closeTooltip:m}=p(),y=()=>(0,i.useStore)(g)},657697:(e,t,s)=>{s.d(t,{default:()=>n});var a=s(818593);const n=function(e,t){var s;if("function"!=typeof t)throw new TypeError("Expected a function");return e=(0,a.default)(e),function(){return--e>0&&(s=t.apply(this,arguments)),e<=1&&(t=void 0),s}}},33371:(e,t,s)=>{s.d(t,{default:()=>n});var a=s(657697);const n=function(e){return(0,a.default)(2,e)}}},i={};function l(e){var t=i[e];if(void 0!==t)return t.exports;var s=i[e]={exports:{}};return o[e].call(s.exports,s,s.exports,l),s.exports}l.m=o,e=[],l.O=(t,s,a,n)=>{if(!s){var r=1/0;for(d=0;d<e.length;d++){for(var[s,a,n]=e[d],o=!0,i=0;i<s.length;i++)(!1&n||r>=n)&&Object.keys(l.O).every((e=>l.O[e](s[i])))?s.splice(i--,1):(o=!1,n<r&&(r=n));if(o){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,a,n]},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},s=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,l.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var n=Object.create(null);l.r(n);var r={};t=t||[null,s({}),s([]),s(s)];for(var o=2&a&&e;"object"==typeof o&&!~t.indexOf(o);o=s(o))Object.getOwnPropertyNames(o).forEach((t=>r[t]=()=>e[t]));return r.default=()=>e,l.d(n,r),n},l.d=(e,t)=>{for(var s in t)l.o(t,s)&&!l.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce(((t,s)=>(l.f[s](e,t),t)),[])),l.u=e=>45458===e?"web/chunks/hls.c49a3f53.js":56229===e?"web/chunks/366130d1.async.1c06797d.js":30072===e?"web/chunks/showCaptchaPopup.a4740a52.js":19072===e?"web/chunks/left_menu_store.b41d694b.js":42255===e?"web/chunks/wikiModalExampleInitiator.bf570c13.js":56965===e?"web/chunks/stories_web_lib.ba126e07.js":17213===e?"web/chunks/2bd60279.async.ea157d31.js":42943===e?"web/chunks/video_web_lib.782f771d.js":53927===e?"web/chunks/questions_boxes_web.d05c4563.js":40482===e?"web/chunks/0ca8e07a.async.981f6895.js":12679===e?"web/chunks/2c4420c0.async.0fa14a60.js":40617===e?"web/chunks/93bd35f8.async.944fc663.js":27602===e?"web/chunks/2fea6d3f.async.fa8b17c6.js":24535===e?"web/chunks/4e9ddeeb.async.0371d26b.js":74336===e?"web/chunks/show_audio_playlist.c4ee742f.js":93033===e?"web/chunks/a6f550f7.async.84ccbfa1.js":89870===e?"web/chunks/5ad2d924.async.2e93ba52.js":17895===e?"web/chunks/money_transfer_box.50183b92.js":50905===e?"web/chunks/money_transfer.e2c2d345.js":21608===e?"web/chunks/bf8fbce1.async.1f467086.js":66118===e?"web/chunks/6fb21264.async.74f2b319.js":36237===e?"web/chunks/2fb8e07d.async.2c799e4e.js":56154===e?"web/chunks/cc6f5392.async.8d8a5bcd.js":58292===e?"web/chunks/437a8ce6.async.378b5454.js":49925===e?"web/chunks/8af15a4d.async.5eadc2fd.js":68349===e?"web/chunks/5f266f5f.async.3ed461f1.js":25459===e?"web/chunks/2c9432b5.async.06e9b990.js":84835===e?"web/chunks/unauth_action_box.29aa267e.js":23045===e?"web/chunks/0d674423.async.5458427b.js":71247===e?"web/chunks/364659da.async.59a0e75a.js":59886===e?"web/chunks/StoryPublisherV2.2ad86f85.js":70989===e?"web/chunks/4b497ab9.async.e13543c1.js":29311===e?"web/chunks/feed-client-nav-skeleton.774b8a5c.js":56091===e?"web/chunks/feed-client-nav-async-right-block.323099af.js":1715===e?"web/chunks/AudioLongtapModal.d6e38506.js":96649===e?"web/chunks/ecomm_market_product_attach.e1343ea9.js":51713===e?"web/chunks/voice_message_player.172315d5.js":9925===e?"web/chunks/speech.257a7e64.js":6694===e?"web/chunks/menu_settings.f0cec8c6.js":73248===e?"web/chunks/5792d39d.async.ad94820b.js":42099===e?"web/chunks/58131fc9.async.2e7c43e3.js":51943===e?"web/chunks/VideoUpload.8e2a8bde.js":73214===e?"web/chunks/SilentModeForms.c8c406fe.js":69706===e?"web/chunks/e0383668.async.b99eb451.js":43802===e?"web/chunks/d5b01a55.async.6a0ae0bd.js":10504===e?"web/chunks/StoriesCreatorVKApp.f31236ac.js":54833===e?"web/chunks/performance-stats.99d41d48.js":57088===e?"web/chunks/79f739a7.async.7b7d443d.js":32643===e?"web/chunks/story_blocks.0da84ca4.js":13410===e?"web/chunks/283c0b16.async.33f5912b.js":17448===e?"web/chunks/b1bc3b17.async.86dcbc32.js":99370===e?"web/chunks/VideoEditorModal.cd800b6f.js":95805===e?"web/chunks/PublishClipToVideoModal.fb197348.js":91906===e?"web/chunks/VideoUploadModal.07557685.js":74205===e?"web/chunks/VideoExternalUploadModal.15030051.js":36637===e?"web/chunks/ClipUploadModal.bb853a52.js":18493===e?"web/chunks/AddClipToVideoBlock.d29cc984.js":40953===e?"web/chunks/AddClipToVideoModal.6f004f3e.js":60274===e?"web/chunks/ClipPlayerModule.600f713b.js":29290===e?"chunks/"+e+".b54ef2c0.js":40074===e?"chunks/"+e+".4d8e0cba.js":37557===e?"chunks/"+e+".46b5840d.js":60899===e?"chunks/"+e+".0471a2c1.js":{17356:"web/chunks/videoplayer-interactive",57407:"web/chunks/shopify"}[e]+"."+{17356:"95a5926a",57407:"78df6599"}[e]+".js",l.miniCssF=e=>30072===e?"web/chunks/eba149c1.css":{74336:1,17895:1,50905:1}[e]?"web/chunks/43d06ff5.css":59886===e?"web/chunks/c3646f82.css":1715===e?"web/chunks/4aa73755.css":96649===e?"web/chunks/8272fe04.css":6694===e?"web/chunks/c08e1f96.css":51943===e?"web/chunks/443c0dba.css":73214===e?"web/chunks/122e7a6e.css":10504===e?"web/chunks/8a71df77.css":32643===e?"web/chunks/1deee1aa.css":99370===e?"web/chunks/aa88a2a7.css":95805===e?"web/chunks/70c35bc4.css":{91906:1,74205:1,36637:1}[e]?"web/chunks/f89919fd.css":18493===e?"web/chunks/85bd25a0.css":40953===e?"web/chunks/d66415b4.css":60274===e?"web/chunks/a9cca8ef.css":void 0,l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a={},l.l=(e,t,s,n)=>{if(a[e])a[e].push(t);else{var r,o;if(void 0!==s)for(var i=document.getElementsByTagName("script"),c=0;c<i.length;c++){var d=i[c];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")=="vk:"+s){r=d;break}}r||(o=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,l.nc&&r.setAttribute("nonce",l.nc),r.setAttribute("data-webpack","vk:"+s),r.src=e),a[e]=[t];var u=(t,s)=>{r.onerror=r.onload=null,clearTimeout(p);var n=a[e];if(delete a[e],r.parentNode&&r.parentNode.removeChild(r),n&&n.forEach((e=>e(s))),t)return t(s)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=u.bind(null,r.onerror),r.onload=u.bind(null,r.onload),o&&document.head.appendChild(r)}},l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.p="/dist/",n=e=>new Promise(((t,s)=>{var a=l.miniCssF(e),n=l.p+a;if(((e,t)=>{for(var s=document.getElementsByTagName("link"),a=0;a<s.length;a++){var n=(o=s[a]).getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(n===e||n===t))return o}var r=document.getElementsByTagName("style");for(a=0;a<r.length;a++){var o;if((n=(o=r[a]).getAttribute("data-href"))===e||n===t)return o}})(a,n))return t();((e,t,s,a)=>{var n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.onerror=n.onload=r=>{if(n.onerror=n.onload=null,"load"===r.type)s();else{var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=o,l.request=i,n.parentNode.removeChild(n),a(l)}},n.href=t,document.head.appendChild(n)})(e,n,t,s)})),r={40481:0},l.f.miniCss=(e,t)=>{r[e]?t.push(r[e]):0!==r[e]&&{1715:1,6694:1,10504:1,17895:1,18493:1,30072:1,32643:1,36637:1,40953:1,50905:1,51943:1,59886:1,60274:1,73214:1,74205:1,74336:1,91906:1,95805:1,96649:1,99370:1}[e]&&t.push(r[e]=n(e).then((()=>{r[e]=0}),(t=>{throw delete r[e],t})))},(()=>{l.b=document.baseURI||self.location.href;var e={40481:0};l.f.j=(t,s)=>{var a=l.o(e,t)?e[t]:void 0;if(0!==a)if(a)s.push(a[2]);else{var n=new Promise(((s,n)=>a=e[t]=[s,n]));s.push(a[2]=n);var r=l.p+l.u(t),o=new Error;l.l(r,(s=>{if(l.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var n=s&&("load"===s.type?"missing":s.type),r=s&&s.target&&s.target.src;o.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",o.name="ChunkLoadError",o.type=n,o.request=r,a[1](o)}}),"chunk-"+t,t)}},l.O.j=t=>0===e[t];var t=(t,s)=>{var a,n,[r,o,i]=s,c=0;if(r.some((t=>0!==e[t]))){for(a in o)l.o(o,a)&&(l.m[a]=o[a]);if(i)var d=i(l)}for(t&&t(s);c<r.length;c++)n=r[c],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(d)},s=self.webpackChunkvkweb=self.webpackChunkvkweb||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var c=l.O(void 0,[91498,50560,89631,85172,762,21529,79210,35623,81765,23592,94408],(()=>l(602198)));c=l.O(c)})();