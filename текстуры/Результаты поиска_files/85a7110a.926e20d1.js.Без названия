"use strict";(self.webpackChunkvkweb=self.webpackChunkvkweb||[]).push([[22529],{863211:(e,t,a)=>{a.d(t,{IconLiveText20h:()=>o});var o=(0,a(844990).makeIcon)("IconLiveText20h","live_text_20h","0 0 42 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 42 20" id="live_text_20h"><path d="M8 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4a1 1 0 1 0 0-2H9V6a1 1 0 0 0-1-1m7 1a1 1 0 1 1 2 0v8a1 1 0 1 1-2 0zm15-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4a1 1 0 1 0 0-2h-3v-2h3a1 1 0 1 0 0-2h-3V7h3a1 1 0 1 0 0-2zm-8.325 9.31-2.55-7.824a1 1 0 0 1-.117-.363L19 6.1h.005a1 1 0 1 1 1.99-.199L21 5.9l2 6.4 2-6.4h.005a1 1 0 0 1 1.99.2H27l-.008.023a1 1 0 0 1-.118.363l-2.55 7.824a1 1 0 0 1-.95.69h-.748a1 1 0 0 1-.95-.69Z" /></symbol>',42,20,!1,void 0)},277207:(e,t,a)=>{a.d(t,{RasterIcon20LockShadow:()=>s});var o=a(844990),r=a(320933),i=a(126468),n=a(981600),s=(0,o.makeRasterIcon)("RasterIcon20LockShadow","lock_shadow",20,{lightmdpi:r,lightxhdpi:i,lightxxhdpi:n})},441073:(e,t,a)=>{a.d(t,{RasterIcon24Verified:()=>d});var o=a(844990),r=a(912796),i=a(369916),n=a(2847),s=a(785249),l=a(626779),c=a(47221),d=(0,o.makeRasterIcon)("RasterIcon24Verified","verified",24,{lightmdpi:r,darkmdpi:i,lightxhdpi:n,darkxhdpi:s,lightxxhdpi:l,darkxxhdpi:c})},524033:(e,t,a)=>{a.d(t,{RasterIcon40CheckCircleShadow:()=>s});var o=a(844990),r=a(988705),i=a(22500),n=a(674976),s=(0,o.makeRasterIcon)("RasterIcon40CheckCircleShadow","check_circle_shadow",40,{lightmdpi:r,lightxhdpi:i,lightxxhdpi:n})},479953:(e,t,a)=>{a.d(t,{RasterIcon40CircleOutlineShadow:()=>s});var o=a(844990),r=a(246705),i=a(280616),n=a(734252),s=(0,o.makeRasterIcon)("RasterIcon40CircleOutlineShadow","circle_outline_shadow",40,{lightmdpi:r,lightxhdpi:i,lightxxhdpi:n})},8501:(e,t,a)=>{a.d(t,{RasterIcon48CheckCircleShadowLarge:()=>s});var o=a(844990),r=a(67091),i=a(105234),n=a(501762),s=(0,o.makeRasterIcon)("RasterIcon48CheckCircleShadowLarge","check_circle_shadow_large",48,{lightmdpi:r,lightxhdpi:i,lightxxhdpi:n})},890213:(e,t,a)=>{a.d(t,{RasterIcon48CircleOutlineShadowLarge:()=>s});var o=a(844990),r=a(246847),i=a(33986),n=a(125554),s=(0,o.makeRasterIcon)("RasterIcon48CircleOutlineShadowLarge","circle_outline_shadow_large",48,{lightmdpi:r,lightxhdpi:i,lightxxhdpi:n})},133051:(e,t,a)=>{a.d(t,{Icon12Flag:()=>o});var o=(0,a(844990).makeIcon)("Icon12Flag","flag_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 12" id="flag_12"><path fill="currentColor" fill-rule="evenodd" d="M1.75 0A.75.75 0 0 0 1 .75v9.5a.75.75 0 0 0 1.5 0V6.805c.261.112.533.184.808.192.79.022 1.525-.227 2.257-.5q.25-.094.5-.19c.626-.241 1.25-.482 1.915-.596.733-.149 1.492-.258 2.143.123l.232.149a.094.094 0 0 0 .145-.079V1.47c0-.25 0-.376-.063-.554A1.5 1.5 0 0 0 10.172.5a.9.9 0 0 0-.315-.217 2.9 2.9 0 0 0-.95-.27c-.68-.06-1.33.094-1.968.312a72 72 0 0 0-.866.307c-.56.202-1.12.403-1.689.576A2.94 2.94 0 0 1 2.5 1.2V.75A.75.75 0 0 0 1.75 0" clip-rule="evenodd" /></symbol>',12,12,!1,void 0)},220757:(e,t,a)=>{a.d(t,{Icon16ChainOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon16ChainOutline","chain_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" id="chain_outline_16"><path d="M10.422 3.023a1.82 1.82 0 0 1 2.552 0 1.77 1.77 0 0 1-.003 2.502l-.746.747a.75.75 0 0 0 1.06 1.06l.746-.744a3.25 3.25 0 0 0-.002-4.631 3.32 3.32 0 0 0-4.661 0L6.14 5.153a3.25 3.25 0 0 0 0 4.633.75.75 0 1 0 1.054-1.067 1.75 1.75 0 0 1 0-2.5zM5.575 12.98a1.82 1.82 0 0 1-2.552 0 1.75 1.75 0 0 1 0-2.5l.754-.754a.75.75 0 1 0-1.06-1.06l-.75.75a3.25 3.25 0 0 0 .002 4.63 3.32 3.32 0 0 0 4.661 0l3.228-3.197a3.25 3.25 0 0 0 0-4.632.75.75 0 0 0-1.054 1.067 1.75 1.75 0 0 1 0 2.499z" /></symbol>',16,16,!1,void 0)},868687:(e,t,a)=>{a.d(t,{Icon16Clock:()=>o});var o=(0,a(844990).makeIcon)("Icon16Clock","clock_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" id="clock_16"><path fill-rule="evenodd" d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.9-11.5a.9.9 0 1 0-1.8 0V8a.9.9 0 0 0 .264.636l2.1 2.1a.9.9 0 1 0 1.272-1.272L8.9 7.627z" clip-rule="evenodd" /></symbol>',16,16,!1,void 0)},947962:(e,t,a)=>{a.d(t,{Icon16DownloadOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon16DownloadOutline","download_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="download_outline_16"><path fill="currentColor" fill-rule="evenodd" d="M8.75 1.75a.75.75 0 0 0-1.5 0v6.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44zm-6 10.75a.75.75 0 0 0 0 1.5h10.5a.75.75 0 0 0 0-1.5z" clip-rule="evenodd" /></symbol>',16,16,!1,void 0)},972289:(e,t,a)=>{a.d(t,{Icon16DropdownOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon16DropdownOutline","dropdown_outline_16","0 0 16 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 12" id="dropdown_outline_16"><path fill="currentColor" d="m8 6.778 3.773-3.107a.75.75 0 1 1 .954 1.158l-4.25 3.5a.75.75 0 0 1-.954 0l-4.25-3.5a.75.75 0 0 1 .954-1.158z" /></symbol>',16,12,!1,void 0)},719619:(e,t,a)=>{a.d(t,{Icon16ListPlayOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon16ListPlayOutline","list_play_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="list_play_outline_16"><path fill="currentColor" fill-rule="evenodd" d="M2 3.75A.75.75 0 0 1 2.75 3h10.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 3.75m0 8.5a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75M2 8a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5A.75.75 0 0 1 2 8m12.684 3.036a.625.625 0 0 0 0-1.086L9.947 7.085A.632.632 0 0 0 9 7.626v5.748c0 .481.526.782.947.541z" /></symbol>',16,16,!1,void 0)},725763:(e,t,a)=>{a.d(t,{Icon20AddSquareOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon20AddSquareOutline","add_square_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="add_square_outline_20"><path fill="currentColor" fill-rule="evenodd" d="M11.6 3.5H8.4c-1.145 0-1.913.001-2.505.05-.574.047-.849.13-1.03.223a2.5 2.5 0 0 0-1.093 1.092c-.092.181-.175.456-.222 1.03-.049.592-.05 1.36-.05 2.505v3.2c0 1.145.001 1.913.05 2.505.047.574.13.849.223 1.03a2.5 2.5 0 0 0 1.092 1.093c.181.092.456.176 1.03.222.592.049 1.36.05 2.505.05h3.2c1.145 0 1.913-.001 2.505-.05.574-.046.849-.13 1.03-.223a2.5 2.5 0 0 0 1.093-1.092c.092-.181.176-.456.222-1.03.049-.592.05-1.36.05-2.505V8.4c0-1.145-.001-1.913-.05-2.505-.046-.574-.13-.849-.223-1.03a2.5 2.5 0 0 0-1.092-1.092c-.181-.093-.456-.177-1.03-.224-.592-.048-1.36-.049-2.505-.049m-9.164.684C2 5.04 2 6.16 2 8.4v3.2c0 2.24 0 3.36.436 4.216a4 4 0 0 0 1.748 1.748C5.04 18 6.16 18 8.4 18h3.2c2.24 0 3.36 0 4.216-.436a4 4 0 0 0 1.748-1.748C18 14.96 18 13.84 18 11.6V8.4c0-2.24 0-3.36-.436-4.216a4 4 0 0 0-1.748-1.748C14.96 2 13.84 2 11.6 2H8.4c-2.24 0-3.36 0-4.216.436a4 4 0 0 0-1.748 1.748M10 6.004a.75.75 0 0 1 .75.75V9.25h2.496a.75.75 0 0 1 0 1.5H10.75v2.5a.75.75 0 0 1-1.5 0v-2.5H6.754a.75.75 0 0 1 0-1.5H9.25V6.753a.75.75 0 0 1 .75-.75" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},3110:(e,t,a)=>{a.d(t,{Icon20BookmarkOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon20BookmarkOutline","bookmark_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="bookmark_outline_20"><path fill="currentColor" fill-rule="evenodd" d="M9.317 1.5h1.366c.952 0 1.713 0 2.327.05.63.052 1.172.16 1.67.413a4.25 4.25 0 0 1 1.857 1.858c.253.497.361 1.04.413 1.67.05.613.05 1.374.05 2.326v6.57c0 .776 0 1.41-.044 1.9-.044.484-.14.981-.452 1.37a2.25 2.25 0 0 1-1.773.84c-.498-.004-.943-.245-1.345-.516-.408-.276-.899-.677-1.5-1.169l-.842-.688c-.279-.228-.457-.373-.602-.474a.8.8 0 0 0-.239-.132.75.75 0 0 0-.406 0 .8.8 0 0 0-.239.132c-.145.101-.323.246-.602.474l-.842.688c-.601.492-1.092.893-1.5 1.169-.402.271-.847.512-1.345.516a2.25 2.25 0 0 1-1.773-.84c-.312-.389-.408-.886-.452-1.37C3 15.798 3 15.165 3 14.388v-6.57c0-.952 0-1.713.05-2.327.052-.63.16-1.172.413-1.67A4.25 4.25 0 0 1 5.32 1.964c.498-.253 1.04-.361 1.67-.413.614-.05 1.375-.05 2.327-.05M7.112 3.045c-.537.044-.86.127-1.11.255A2.75 2.75 0 0 0 4.8 4.502c-.128.25-.21.573-.255 1.11-.044.546-.045 1.245-.045 2.238v6.5c0 .823 0 1.388.038 1.802.04.429.108.541.127.565a.75.75 0 0 0 .591.28c.03 0 .161-.018.518-.259.344-.233.782-.59 1.42-1.111l.832-.68c.254-.208.475-.389.671-.526.21-.146.43-.273.694-.348a2.25 2.25 0 0 1 1.218 0c.263.075.485.202.694.348.196.137.417.318.67.526l.833.68c.638.52 1.076.878 1.42 1.111.356.241.488.259.518.259a.75.75 0 0 0 .59-.28c.02-.024.089-.136.128-.565.037-.414.038-.98.038-1.803V7.85c0-.992 0-1.692-.045-2.238-.044-.537-.127-.86-.255-1.11A2.75 2.75 0 0 0 13.998 3.3c-.25-.128-.573-.21-1.11-.255C12.342 3.001 11.643 3 10.65 3h-1.3c-.992 0-1.692 0-2.238.045" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},245332:(e,t,a)=>{a.d(t,{Icon20BookmarkSlashOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon20BookmarkSlashOutline","bookmark_slash_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="bookmark_slash_outline_20"><path fill-rule="evenodd" d="M3.28 1.22a.75.75 0 0 0-1.06 1.06l1.348 1.348a4 4 0 0 0-.105.193c-.253.497-.361 1.04-.413 1.67C3 6.103 3 6.864 3 7.816v6.57c0 .777 0 1.41.044 1.9.044.484.14.981.452 1.37a2.25 2.25 0 0 0 1.773.84c.498-.004.943-.245 1.345-.516.408-.276.899-.677 1.5-1.169l.842-.688c.279-.228.457-.373.602-.474a.8.8 0 0 1 .239-.133.75.75 0 0 1 .406 0 .8.8 0 0 1 .239.133c.145.101.323.246.602.474l.842.688c.601.491 1.092.893 1.5 1.169.402.271.847.512 1.345.516a2.25 2.25 0 0 0 1.773-.84c.18-.225.285-.48.351-.741l.865.864a.75.75 0 1 0 1.06-1.06zm12.212 14.333L4.695 4.756c-.07.214-.12.483-.15.856-.044.546-.045 1.246-.045 2.238v6.5c0 .823 0 1.388.038 1.802.04.429.109.541.127.565a.75.75 0 0 0 .591.28c.03 0 .161-.018.518-.259.344-.233.782-.59 1.42-1.111l.832-.68c.254-.208.475-.389.671-.526a2.3 2.3 0 0 1 .694-.348 2.27 2.27 0 0 1 1.218 0c.264.075.485.202.694.348.196.137.417.318.67.526l.833.68c.638.52 1.076.878 1.42 1.111.356.241.488.259.518.259a.75.75 0 0 0 .59-.28c.01-.012.053-.073.09-.278a6 6 0 0 0 .068-.886" clip-rule="evenodd" /><path d="M10.65 3c.992 0 1.692 0 2.238.045.537.044.86.127 1.11.255A2.75 2.75 0 0 1 15.2 4.502c.128.25.21.573.255 1.11.044.546.045 1.246.045 2.238V11a.75.75 0 0 0 1.5 0V7.817c0-.952 0-1.713-.05-2.327-.052-.63-.16-1.172-.413-1.67a4.25 4.25 0 0 0-1.857-1.857c-.498-.253-1.04-.361-1.67-.413-.614-.05-1.375-.05-2.327-.05H7.5a.75.75 0 0 0 0 1.5z" /></symbol>',20,20,!1,void 0)},629775:(e,t,a)=>{a.d(t,{Icon20CheckAlt:()=>o});var o=(0,a(844990).makeIcon)("Icon20CheckAlt","check_alt_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="check_alt_20"><path fill-rule="evenodd" d="M16.659 5.344a1.16 1.16 0 0 1 0 1.645L8.82 14.812a1.167 1.167 0 0 1-1.649 0l-3.83-3.823a1.16 1.16 0 0 1 0-1.646 1.167 1.167 0 0 1 1.648 0l3.007 3 7.013-7a1.167 1.167 0 0 1 1.649 0Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},448290:(e,t,a)=>{a.d(t,{Icon20ChevronCircleOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon20ChevronCircleOutline","chevron_circle_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="chevron_circle_outline_20"><path fill-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 0 0-17 8.5 8.5 0 0 0 0 17m7-8.5a7 7 0 1 1-14 0 7 7 0 0 1 14 0M9.53 6.47a.75.75 0 0 0-1.06 1.06L10.94 10l-2.47 2.47a.75.75 0 1 0 1.06 1.06l3-3a.75.75 0 0 0 0-1.06z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},426222:(e,t,a)=>{a.d(t,{Icon20ClockOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon20ClockOutline","clock_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="clock_outline_20"><g fill="currentColor"><path d="M10.25 6.5a.75.75 0 0 0-1.5 0v4a.75.75 0 0 0 .516.713l3.5 1.15a.75.75 0 1 0 .468-1.425l-2.984-.981z" /><path fill-rule="evenodd" d="M18.5 10a8.5 8.5 0 1 0-17 0 8.5 8.5 0 0 0 17 0M3 10a7 7 0 1 1 14 0 7 7 0 0 1-14 0" clip-rule="evenodd" /></g></symbol>',20,20,!1,void 0)},370:(e,t,a)=>{a.d(t,{Icon20FavoriteOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon20FavoriteOutline","favorite_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="favorite_outline_20"><path fill="currentColor" fill-rule="evenodd" d="M10.408 3.134a.92.92 0 0 0-.825 0c-.049.024-.19.13-.443.598-.244.448-.522 1.086-.919 2.003-.16.37-.327.739-.482 1.112-.02.049-.084.204-.196.332a1 1 0 0 1-.33.252c-.168.08-.351.097-.384.102l-.682.096c-.993.14-1.685.24-2.184.356-.52.121-.66.229-.697.269a.92.92 0 0 0-.218.798c.01.053.077.217.462.587.37.355.916.792 1.7 1.419l.248.2c.028.021.187.137.294.303.08.125.133.266.153.413.025.18-.012.355-.023.41-.029.139-.053.279-.08.418-.217 1.15-.371 1.964-.432 2.56-.066.636.003.822.026.86a.92.92 0 0 0 .747.442c.045.002.24-.029.765-.393.492-.343 1.129-.87 2.03-1.619l.315-.262c.038-.031.093-.077.147-.116.067-.047.172-.114.315-.154a1 1 0 0 1 .56 0c.143.04.249.107.315.154.054.039.11.085.148.116l.315.262c.9.748 1.537 1.276 2.03 1.619.524.364.72.395.764.393a.92.92 0 0 0 .747-.441c.024-.039.092-.225.027-.86-.062-.597-.215-1.41-.433-2.561q-.038-.21-.08-.418a1.3 1.3 0 0 1-.023-.41 1 1 0 0 1 .153-.413c.107-.166.266-.282.294-.304l.249-.199c.783-.627 1.329-1.064 1.699-1.419.386-.37.452-.534.462-.587a.92.92 0 0 0-.218-.798c-.036-.04-.176-.148-.697-.27-.498-.116-1.19-.214-2.184-.355-.23-.032-.462-.068-.694-.097-.052-.007-.218-.028-.372-.101a1 1 0 0 1-.33-.252c-.122-.14-.187-.313-.2-.343l-.478-1.101c-.397-.917-.675-1.555-.918-2.003-.254-.467-.395-.574-.443-.598ZM8.895 1.761a2.45 2.45 0 0 1 2.2 0c.5.25.83.732 1.103 1.236.281.516.585 1.218.963 2.09l.413.953.523.074c.945.133 1.706.24 2.28.375.56.13 1.113.32 1.488.738a2.46 2.46 0 0 1 .582 2.128c-.11.55-.49.996-.906 1.394-.426.408-1.026.888-1.77 1.484l-.112.09.044.231c.209 1.103.376 1.982.444 2.652.066.64.073 1.3-.243 1.817a2.46 2.46 0 0 1-1.991 1.176c-.605.025-1.178-.3-1.706-.667-.553-.384-1.24-.955-2.104-1.672l-.108-.09-.108.09c-.864.717-1.55 1.288-2.104 1.672-.527.367-1.101.692-1.706.667a2.46 2.46 0 0 1-1.991-1.176c-.315-.517-.309-1.177-.243-1.817.069-.67.235-1.549.445-2.652l.044-.232-.112-.089c-.745-.596-1.345-1.077-1.77-1.484-.416-.398-.796-.844-.907-1.394a2.46 2.46 0 0 1 .582-2.128c.375-.417.929-.608 1.489-.738.574-.134 1.335-.242 2.28-.375l.522-.074.413-.953c.378-.872.682-1.574.963-2.09.274-.504.603-.986 1.103-1.236" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},307438:(e,t,a)=>{a.d(t,{Icon20ListAddOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon20ListAddOutline","list_add_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="list_add_outline_20"><g fill="currentColor"><path d="M2 4.75A.75.75 0 0 1 2.75 4h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75M2 9.75A.75.75 0 0 1 2.75 9h12.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 9.75M2 14.75a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75" /><path fill-rule="evenodd" d="M19.28 12.22a.75.75 0 0 1 0 1.06l-4.495 4.496a.75.75 0 0 1-1.06 0l-2.503-2.495a.75.75 0 0 1 1.06-1.062l1.972 1.966 3.966-3.965a.75.75 0 0 1 1.06 0" clip-rule="evenodd" /></g></symbol>',20,20,!1,void 0)},554997:(e,t,a)=>{a.d(t,{Icon20MessageOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon20MessageOutline","message_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="message_outline_20"><g fill="none" fill-rule="evenodd"><path d="M0 0h20v20H0z" opacity=".4" /><path fill="currentColor" fill-rule="nonzero" d="M6.828 15.752a.75.75 0 0 1 .821-.207A7.5 7.5 0 0 0 10.25 16c3.772 0 6.75-2.694 6.75-6s-2.978-6-6.75-6S3.5 6.694 3.5 10c0 1.21.4 2.367 1.14 3.349a.75.75 0 0 1 .15.49c-.04.756-.403 1.785-1.085 3.135 1.483-.116 2.514-.534 3.123-1.222M3.242 18.5a1.204 1.204 0 0 1-1.101-1.767c.644-1.216 1.016-2.14 1.121-2.73A7 7 0 0 1 2 10c0-4.17 3.681-7.5 8.25-7.5S18.5 5.83 18.5 10s-3.681 7.5-8.25 7.5a9 9 0 0 1-2.66-.393c-.996.881-2.456 1.336-4.348 1.393" /></g></symbol>',20,20,!1,void 0)},78060:(e,t,a)=>{a.d(t,{Icon20MinusSquareOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon20MinusSquareOutline","minus_square_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="minus_square_outline_20"><path fill-rule="evenodd" d="M8.4 3.5h3.2c1.145 0 1.913.001 2.505.05.574.046.849.13 1.03.222a2.5 2.5 0 0 1 1.092 1.093c.093.181.177.456.224 1.03.048.592.049 1.36.049 2.505v3.2c0 1.145-.001 1.913-.05 2.505-.046.574-.13.849-.223 1.03a2.5 2.5 0 0 1-1.092 1.092c-.181.093-.456.177-1.03.224-.592.048-1.36.049-2.505.049H8.4c-1.145 0-1.913-.001-2.505-.05-.574-.046-.849-.13-1.03-.223a2.5 2.5 0 0 1-1.093-1.092c-.092-.181-.176-.456-.222-1.03-.049-.592-.05-1.36-.05-2.505V8.4c0-1.145.001-1.913.05-2.505.046-.574.13-.849.222-1.03a2.5 2.5 0 0 1 1.093-1.093c.181-.092.456-.176 1.03-.222.592-.049 1.36-.05 2.505-.05M2 8.4c0-2.24 0-3.36.436-4.216a4 4 0 0 1 1.748-1.748C5.04 2 6.16 2 8.4 2h3.2c2.24 0 3.36 0 4.216.436a4 4 0 0 1 1.748 1.748C18 5.04 18 6.16 18 8.4v3.2c0 2.24 0 3.36-.436 4.216a4 4 0 0 1-1.748 1.748C14.96 18 13.84 18 11.6 18H8.4c-2.24 0-3.36 0-4.216-.436a4 4 0 0 1-1.748-1.748C2 14.96 2 13.84 2 11.6zm4.75.85a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},198475:(e,t,a)=>{a.d(t,{Icon20NotificationOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon20NotificationOutline","notification_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="notification_outline_20"><path fill="currentColor" fill-rule="evenodd" d="M5.5 8a4.5 4.5 0 0 1 9-.008v1.674c0 .297.106.584.299.81l1.523 1.787a.75.75 0 0 1-.571 1.237H4.249a.75.75 0 0 1-.57-1.237L5.2 10.478a1.25 1.25 0 0 0 .299-.811V8m-1.488-.385a6 6 0 0 1 11.976 0Q16 7.68 16 7.75v1.823l1.463 1.717c1.245 1.461.207 3.71-1.712 3.71h-2.076a3.751 3.751 0 0 1-7.35 0H4.249c-1.919 0-2.957-2.249-1.712-3.71L4 9.575V7.75q0-.069.012-.135M10 16.5A2.25 2.25 0 0 1 7.878 15h4.244A2.25 2.25 0 0 1 10 16.5" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},233593:(e,t,a)=>{a.d(t,{Icon20NotificationSlashOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon20NotificationSlashOutline","notification_slash_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="notification_slash_outline_20"><path fill="currentColor" d="M10 3.5c-.747 0-1.45.182-2.068.503a.75.75 0 0 1-1.01-.32.75.75 0 0 1 .32-1.011A6 6 0 0 1 10 2a6 6 0 0 1 5.984 5.615c.023.126.012.258.012.385v1.574l1.462 1.717c.428.502.651 1.222.492 1.872a.748.748 0 0 1-1.456-.34.74.74 0 0 0-.176-.56l-1.522-1.786a1.25 1.25 0 0 1-.299-.811V7.992A4.5 4.5 0 0 0 10 3.5" /><path fill="currentColor" fill-rule="evenodd" d="M4.515 5.572 2.225 3.28a.75.75 0 0 1 0-1.06.75.75 0 0 1 1.06 0l14.49 14.5a.75.75 0 0 1 0 1.06.75.75 0 0 1-1.06 0L13.937 15h-.264a3.75 3.75 0 0 1-7.346 0H4.253c-1.918 0-2.955-2.249-1.711-3.71l1.462-1.716V7.75a1 1 0 0 1 .012-.136 6 6 0 0 1 .5-2.042m7.923 7.928L5.68 6.74A4.5 4.5 0 0 0 5.504 8v1.666c0 .297-.106.585-.299.81l-1.522 1.788a.75.75 0 0 0 .57 1.236zM7.879 15a2.25 2.25 0 0 0 4.242 0z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},202453:(e,t,a)=>{a.d(t,{Icon20PinOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon20PinOutline","pin_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="pin_outline_20"><g fill="none" fill-rule="evenodd"><path d="M0 0h20v20H0z" /><path fill="currentColor" fill-rule="nonzero" d="M11.332 2.604a.75.75 0 0 1 1.266-.384l5.182 5.183a.75.75 0 0 1-.383 1.265l-1.54.308a.3.3 0 0 0-.152.082l-2.463 2.463a.3.3 0 0 0-.086.187l-.297 3.858a1.012 1.012 0 0 1-1.724.638l-3.139-3.139-4.716 4.716a.75.75 0 0 1-1.133-.977l.073-.084 4.715-4.716-3.139-3.138a1.01 1.01 0 0 1-.084-1.336l.084-.095c.171-.171.397-.275.638-.294l3.859-.296a.3.3 0 0 0 .187-.086l2.463-2.464a.3.3 0 0 0 .081-.151Zm1.196 1.668-.033.166c-.07.348-.24.667-.491.918L9.54 7.819a1.8 1.8 0 0 1-1.133.521l-2.801.216 5.837 5.837.216-2.8c.03-.374.174-.729.413-1.015l.108-.118 2.464-2.463c.25-.251.57-.422.918-.492l.165-.033z" /></g></symbol>',20,20,!1,void 0)},418287:(e,t,a)=>{a.d(t,{Icon20PinSlashOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon20PinSlashOutline","pin_slash_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="pin_slash_outline_20"><g fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"><path d="M17.965 8.15a.75.75 0 0 1-.57.519l-1.567.315a.25.25 0 0 0-.134.075c-.224.241-.457.472-.69.705a.75.75 0 0 1-1.06-1.06l.65-.665c.25-.27.578-.453.938-.525l.194-.04-3.2-3.198-.036.182a1.75 1.75 0 0 1-.48.901l-.708.706a.75.75 0 0 1-1.057-1.064l.704-.702a.25.25 0 0 0 .069-.13l.306-1.563a.75.75 0 0 1 1.266-.386l5.187 5.183a.75.75 0 0 1 .188.747M7.996 13.065l3.139 3.14c.607.606 1.616.23 1.719-.586.084-.835.13-1.674.194-2.51l1.672 1.671a.75.75 0 1 0 1.06-1.06l-9.5-9.5a.75.75 0 1 0-1.06 1.06l1.67 1.67c-.845.067-1.718.076-2.555.206-.81.157-1.116 1.132-.539 1.71l3.139 3.138-4.788 4.8a.75.75 0 0 0 1.133.977zm3.448 1.33.208-2.682-3.369-3.369-2.67.212z" /></g></symbol>',20,20,!1,void 0)},405816:(e,t,a)=>{a.d(t,{Icon20ReportOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon20ReportOutline","report_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="report_outline_20"><path d="M10.001 5.5a.75.75 0 0 0-.75.75v4.5a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75m-.9 8.4a.9.9 0 1 1 1.8 0 .9.9 0 0 1-1.8 0" /><path fill-rule="evenodd" d="m17.326 14.814-2.514 2.514c-.432.433-.648.649-.9.803a2.5 2.5 0 0 1-.723.3c-.288.069-.594.069-1.205.069h-3.97c-.612 0-.918 0-1.206-.07a2.5 2.5 0 0 1-.723-.299c-.252-.154-.468-.37-.9-.803L2.67 14.814c-.432-.432-.648-.648-.802-.9a2.5 2.5 0 0 1-.3-.723c-.068-.288-.068-.593-.069-1.204V8.014c0-.611 0-.917.069-1.205a2.5 2.5 0 0 1 .3-.723c.154-.252.37-.468.803-.9L5.186 2.67c.432-.432.649-.648.9-.803a2.5 2.5 0 0 1 .723-.299c.288-.069.594-.069 1.205-.069h3.97c.611 0 .917 0 1.205.07a2.5 2.5 0 0 1 .723.298c.252.155.468.371.9.804l2.514 2.514c.432.432.648.648.803.9.137.224.238.468.3.723.068.288.068.593.068 1.205v3.972c0 .611 0 .917-.069 1.205a2.5 2.5 0 0 1-.299.723c-.155.252-.37.468-.803.9Zm-.474-1.706c-.062.101-.149.188-.321.36l-3.063 3.063c-.173.173-.26.26-.36.322a1 1 0 0 1-.29.12c-.115.027-.237.027-.482.027H7.662c-.245 0-.367 0-.482-.028a1 1 0 0 1-.29-.12c-.1-.061-.186-.148-.36-.32l-3.06-3.065c-.173-.172-.26-.259-.321-.36a1 1 0 0 1-.12-.289C3 12.704 3 12.582 3 12.338V7.663c0-.245 0-.367.027-.482a1 1 0 0 1 .12-.29c.062-.1.148-.187.321-.36l3.064-3.063c.173-.172.26-.259.36-.32a1 1 0 0 1 .29-.12C7.295 3 7.418 3 7.662 3h4.673c.245 0 .367 0 .482.028a1 1 0 0 1 .29.12c.1.061.187.148.36.32l3.063 3.063c.172.173.259.26.32.36q.084.136.12.29c.028.115.028.237.028.482v4.674c0 .245 0 .367-.027.482a1 1 0 0 1-.12.29Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},52315:(e,t,a)=>{a.d(t,{Icon20UserAddOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon20UserAddOutline","user_add_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="user_add_outline_20"><path fill-rule="evenodd" d="M12.5 8.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5M8.5 6a4 4 0 1 1 8 0 4 4 0 0 1-8 0m-4-.25a.75.75 0 1 0-1.5 0v2H1a.75.75 0 0 0 0 1.5h2v2a.75.75 0 0 0 1.5 0v-2h2a.75.75 0 0 0 0-1.5h-2zm4.155 7.227c.865-.458 2.194-.727 3.845-.727 1.65 0 2.98.27 3.845.727.794.42 1.155.959 1.155 1.71a.7.7 0 0 1-.05.288.3.3 0 0 1-.092.12c-.077.063-.26.155-.599.155H8.241c-.34 0-.522-.092-.6-.156a.3.3 0 0 1-.09-.12.7.7 0 0 1-.051-.287c0-.751.36-1.29 1.155-1.71M12.5 10.75c-1.774 0-3.38.283-4.547.902C6.783 12.27 6 13.26 6 14.688c0 .688.268 1.217.687 1.563.408.337.956.499 1.554.499h8.518c.598 0 1.146-.162 1.555-.499.418-.346.686-.875.686-1.564 0-1.426-.783-2.416-1.953-3.035-1.168-.619-2.773-.902-4.547-.902" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},829713:(e,t,a)=>{a.d(t,{Icon20WriteOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon20WriteOutline","write_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="write_outline_20"><path fill="currentColor" fill-rule="evenodd" d="M13.076 2.649A2.22 2.22 0 0 1 14.645 2c.566 0 1.135.216 1.568.649l1.137 1.136a2.21 2.21 0 0 1 0 3.133l-.941.94-9.17 9.179a3.3 3.3 0 0 1-2.33.963H3a1 1 0 0 1-1-1v-1.893a3.3 3.3 0 0 1 .965-2.34l8.123-8.132zm2.286 4.135.927-.926a.71.71 0 0 0 0-1.013l-1.137-1.136a.71.71 0 0 0-.507-.21.71.71 0 0 0-.507.21l-.927.926zM12.135 5.71l-8.109 8.118a1.8 1.8 0 0 0-.525 1.266V16.2a.3.3 0 0 0 .3.3H4.91c.475 0 .931-.189 1.267-.525l8.11-8.118-2.152-2.148z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},985441:(e,t,a)=>{a.d(t,{Icon24ChevronRight:()=>o});var o=(0,a(844990).makeIcon)("Icon24ChevronRight","chevron_right_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="chevron_right_24"><path fill="currentColor" d="M14.232 12 8.116 5.884a1.25 1.25 0 1 1 1.768-1.768l7 7a1.25 1.25 0 0 1 0 1.768l-7 7a1.25 1.25 0 0 1-1.768-1.768z" /></symbol>',24,24,!1,void 0)},741583:(e,t,a)=>{a.d(t,{Icon24Filter:()=>o});var o=(0,a(844990).makeIcon)("Icon24Filter","filter_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="filter_24"><path fill-rule="evenodd" d="M6.242 8.9a2.901 2.901 0 0 0 5.516 0H20a.9.9 0 1 0 0-1.8h-8.242a2.901 2.901 0 0 0-5.515 0H4a.9.9 0 1 0 0 1.8zM9 6.9a1.1 1.1 0 1 0 0 2.2 1.1 1.1 0 0 0 0-2.2M3.1 16a.9.9 0 0 1 .9-.9h8.242a2.901 2.901 0 0 1 5.516 0H20a.9.9 0 1 1 0 1.8h-2.242a2.901 2.901 0 0 1-5.516 0H4a.9.9 0 0 1-.9-.9m10.8 0a1.1 1.1 0 1 1 2.2 0 1.1 1.1 0 0 1-2.2 0" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},78510:(e,t,a)=>{a.d(t,{Icon28ChevronRightOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon28ChevronRightOutline","chevron_right_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="chevron_right_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path stroke="#8BC1FF" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m11 7.5 6.5 6.5-6.5 6.5" /><path fill="currentColor" fill-rule="nonzero" d="m16.086 14-5.793 5.793a1 1 0 0 0 1.414 1.414l6.5-6.5a1 1 0 0 0 0-1.414l-6.5-6.5a1 1 0 0 0-1.414 1.414z" /></g></symbol>',28,28,!1,void 0)},24882:(e,t,a)=>{a.d(t,{Icon28FavoriteOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon28FavoriteOutline","favorite_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="favorite_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path fill="currentColor" fill-rule="nonzero" d="m14 19.178 5.69 3.476a.205.205 0 0 0 .306-.223l-1.547-6.485 5.064-4.338a.205.205 0 0 0-.117-.36l-6.646-.533-2.56-6.156a.205.205 0 0 0-.38 0l-2.56 6.156-6.646.533a.205.205 0 0 0-.117.36l5.064 4.338-1.547 6.485a.205.205 0 0 0 .306.223zm0 2.344L9.352 24.36a2.205 2.205 0 0 1-3.294-2.393l1.264-5.297-4.136-3.543a2.205 2.205 0 0 1 1.258-3.873l5.429-.435 2.091-5.028a2.205 2.205 0 0 1 4.072 0l2.091 5.028 5.429.435a2.205 2.205 0 0 1 1.258 3.873l-4.136 3.543 1.264 5.297a2.205 2.205 0 0 1-3.294 2.393z" /></g></symbol>',28,28,!1,void 0)},404682:(e,t,a)=>{a.d(t,{Icon28HistoryBackwardOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon28HistoryBackwardOutline","history_backward_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="history_backward_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path fill="currentColor" fill-rule="nonzero" d="M14 2c6.627 0 12 5.373 12 12s-5.373 12-12 12c-3.226 0-6.251-1.28-8.487-3.516a1 1 0 0 1 1.415-1.414A9.96 9.96 0 0 0 14 24c5.523 0 10-4.477 10-10S19.523 4 14 4a9.97 9.97 0 0 0-7.143 3H8.5a1 1 0 0 1 .117 1.993L8.5 9h-4a1 1 0 0 1-.993-.883L3.5 8V4a1 1 0 0 1 1.993-.117L5.5 4v1.529A11.97 11.97 0 0 1 14 2m0 6a1 1 0 0 1 .993.883L15 9v4.586l2.707 2.707a1 1 0 0 1-1.32 1.497l-.094-.083-3-3a1 1 0 0 1-.284-.576L13 14V9a1 1 0 0 1 1-1" /></g></symbol>',28,28,!1,void 0)},605650:(e,t,a)=>{a.d(t,{Icon28SearchOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon28SearchOutline","search_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="search_outline_28"><path fill="currentColor" fill-rule="evenodd" d="M13 4a9 9 0 1 0 5.618 16.032l4.675 4.675a1 1 0 0 0 1.414-1.414l-4.675-4.675A9 9 0 0 0 13 4m0 2a7 7 0 1 0 0 14 7 7 0 0 0 0-14" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)},62802:(e,t,a)=>{a.d(t,{Icon36Hearts2Outline:()=>o});var o=(0,a(844990).makeIcon)("Icon36Hearts2Outline","hearts_2_outline_36","0 0 36 36",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 36 36" id="hearts_2_outline_36"><path fill-rule="evenodd" d="M3 20.54C3 16.907 5.998 14 9.645 14c1.872 0 3.492.82 4.855 2.257C15.864 14.82 17.483 14 19.355 14 23.002 14 26 16.906 26 20.54c0 1.926-.529 3.443-1.791 4.993-1.191 1.461-3.049 2.965-5.639 4.94l-2.712 2.07c-.8.61-1.915.61-2.715 0l-2.713-2.07c-2.59-1.975-4.447-3.479-5.638-4.94C3.529 23.983 3 22.466 3 20.54m6.645-4.04c-2.312 0-4.145 1.832-4.145 4.04 0 1.348.33 2.308 1.23 3.414.972 1.193 2.584 2.523 5.216 4.531l2.554 1.948 2.554-1.948c2.633-2.008 4.244-3.338 5.216-4.531.901-1.106 1.23-2.066 1.23-3.413 0-2.209-1.832-4.041-4.145-4.041-1.254 0-2.481.627-3.685 2.247a1.458 1.458 0 0 1-2.34 0c-1.203-1.62-2.43-2.247-3.685-2.247" clip-rule="evenodd" /><path fill-rule="evenodd" d="M11 10.06C11 6.638 13.935 4 17.382 4c1.77 0 3.312.738 4.618 2.042C23.306 4.738 24.848 4 26.618 4 30.065 4 33 6.638 33 10.06c0 1.273-.26 2.39-.904 3.48-.622 1.052-1.562 2.009-2.793 3.04a1.25 1.25 0 1 1-1.605-1.917c1.154-.966 1.839-1.707 2.245-2.396.385-.65.557-1.315.557-2.207 0-1.891-1.66-3.56-3.882-3.56-1.19 0-2.342.567-3.468 2.013a1.46 1.46 0 0 1-2.3 0C19.724 7.067 18.573 6.5 17.382 6.5c-2.222 0-3.882 1.669-3.882 3.56q0 .235.016.448a1.25 1.25 0 0 1-2.493.187A9 9 0 0 1 11 10.06" clip-rule="evenodd" /></symbol>',36,36,!1,void 0)},715083:(e,t,a)=>{a.d(t,{Icon36ListPlayOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon36ListPlayOutline","list_play_outline_36","0 0 36 36",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 36 36" id="list_play_outline_36"><path fill-rule="evenodd" d="M4 9.25C4 8.56 4.56 8 5.25 8h23.5a1.25 1.25 0 1 1 0 2.5H5.25C4.56 10.5 4 9.94 4 9.25m0 8c0-.69.56-1.25 1.25-1.25h11.5a1.25 1.25 0 1 1 0 2.5H5.25c-.69 0-1.25-.56-1.25-1.25m0 8c0-.69.56-1.25 1.25-1.25h11.5a1.25 1.25 0 1 1 0 2.5H5.25c-.69 0-1.25-.56-1.25-1.25m28.416-1.801a1.238 1.238 0 0 1 0 2.102l-8.575 5.269c-.808.497-1.841-.093-1.841-1.051V19.23c0-.958 1.033-1.548 1.841-1.051l8.575 5.269Z" /></symbol>',36,36,!1,void 0)},525652:(e,t,a)=>{a.d(t,{Icon56ErrorOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon56ErrorOutline","error_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 56 56" id="error_outline_56"><g fill="none" fill-rule="evenodd"><path d="M0 0h56v56H0z" /><path fill="currentColor" fill-rule="nonzero" d="M28 4c13.255 0 24 10.745 24 24S41.255 52 28 52 4 41.255 4 28 14.745 4 28 4m0 3C16.402 7 7 16.402 7 28s9.402 21 21 21 21-9.402 21-21S39.598 7 28 7m0 27a2 2 0 1 1 0 4 2 2 0 0 1 0-4m0-17.5a1.5 1.5 0 0 1 1.5 1.5v11l-.007.144A1.5 1.5 0 0 1 26.5 29V18l.007-.144A1.5 1.5 0 0 1 28 16.5" /></g></symbol>',56,56,!1,void 0)},256195:(e,t,a)=>{a.d(t,{Icon56LikeOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon56LikeOutline","like_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 56 56" id="like_outline_56"><g fill="none" fill-rule="evenodd"><path d="M0 0h56v56H0z" /><path fill="currentColor" fill-rule="nonzero" d="M18.29 11C11.501 11 6 16.502 6 23.29c0 6.865 2.752 10.308 14.455 19.41l5.396 4.198a3.5 3.5 0 0 0 4.298 0l5.396-4.197C47.248 33.598 50 30.155 50 23.289 50 16.502 44.498 11 37.71 11c-3.66 0-6.91 1.736-9.71 5.098C25.2 12.736 21.95 11 18.29 11m0 3c3.129 0 5.933 1.756 8.476 5.434l.206.297a1.25 1.25 0 0 0 2.056 0l.206-.297C31.777 15.756 34.58 14 37.71 14A9.29 9.29 0 0 1 47 23.29c0 5.616-2.29 8.482-13.297 17.043l-5.396 4.197a.5.5 0 0 1-.614 0l-5.396-4.197C11.29 31.772 9 28.906 9 23.289A9.29 9.29 0 0 1 18.29 14" /></g></symbol>',56,56,!1,void 0)},474691:(e,t,a)=>{a.d(t,{Icon56ListPlayOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon56ListPlayOutline","list_play_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 56 56" id="list_play_outline_56"><path fill="currentColor" fill-rule="evenodd" d="M24 39.5a1.5 1.5 0 0 0-1.5-1.5h-15a1.5 1.5 0 0 0 0 3h15a1.5 1.5 0 0 0 1.5-1.5m0-12a1.5 1.5 0 0 0-1.5-1.5h-15a1.5 1.5 0 0 0 0 3h15a1.5 1.5 0 0 0 1.5-1.5m26-12a1.5 1.5 0 0 0-1.5-1.5h-41a1.5 1.5 0 0 0 0 3h41a1.5 1.5 0 0 0 1.5-1.5m-.164 19.687c-.264-.593-1.05-1.047-2.62-1.956l-9.413-5.45c-1.576-.913-2.364-1.369-3.01-1.301a2 2 0 0 0-1.41.813C33 27.819 33 28.729 33 30.55v10.9c0 1.82 0 2.731.382 3.257a2 2 0 0 0 1.41.813c.647.068 1.435-.389 3.011-1.3l9.414-5.45c1.57-.91 2.355-1.364 2.619-1.957a2 2 0 0 0 0-1.626" clip-rule="evenodd" /></symbol>',56,56,!1,void 0)},734370:(e,t,a)=>{a.d(t,{Icon56MarketOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon56MarketOutline","market_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 56 56" id="market_outline_56"><g fill="none" fill-rule="nonzero"><path d="M0 0h56v56H0z" /><path fill="currentColor" d="M28 6c5.523 0 10 4.477 10 10h2.59c2.23 0 3.037.232 3.852.668a4.54 4.54 0 0 1 1.89 1.89c.436.815.668 1.623.668 3.852v13.77c0 4.458-.464 6.075-1.336 7.704a9.1 9.1 0 0 1-3.78 3.78c-1.63.872-3.246 1.336-7.703 1.336H21.819c-4.457 0-6.074-.464-7.703-1.336a9.1 9.1 0 0 1-3.78-3.78C9.464 42.254 9 40.638 9 36.181V22.41c0-2.23.232-3.037.668-3.852a4.54 4.54 0 0 1 1.89-1.89c.815-.436 1.623-.668 3.852-.668H18c0-5.523 4.477-10 10-10m12.83 13H15.41c-1.58 0-2.005.082-2.437.313a1.55 1.55 0 0 0-.66.66c-.219.409-.304.813-.312 2.197L12 36.18c0 3.612.255 4.931.981 6.29a6.1 6.1 0 0 0 2.55 2.549c1.358.726 2.677.981 6.288.981h12.362c3.61 0 4.93-.255 6.288-.981a6.1 6.1 0 0 0 2.55-2.55c.726-1.358.981-2.677.981-6.288V22.41c0-1.58-.082-2.005-.313-2.437a1.55 1.55 0 0 0-.66-.66c-.409-.219-.813-.304-2.197-.312m-21.287 3c.328 0 .58.06.792.174s.378.28.491.491c.114.212.174.464.174.792v.086c0 .328-.06.58-.174.792s-.28.378-.491.491c-.212.114-.464.174-.792.174h-.086c-.328 0-.58-.06-.792-.174a1.2 1.2 0 0 1-.491-.491c-.114-.212-.174-.464-.174-.792v-.086c0-.328.06-.58.174-.792s.28-.378.491-.491c.212-.114.464-.174.792-.174zm17 0c.328 0 .58.06.792.174s.378.28.491.491c.114.212.174.464.174.792v.086c0 .328-.06.58-.174.792s-.28.378-.491.491c-.212.114-.464.174-.792.174h-.086c-.328 0-.58-.06-.792-.174a1.2 1.2 0 0 1-.491-.491c-.114-.212-.174-.464-.174-.792v-.086c0-.328.06-.58.174-.792s.28-.378.491-.491c.212-.114.464-.174.792-.174zM28 9a7 7 0 0 0-7 7h14a7 7 0 0 0-7-7" /></g></symbol>',56,56,!1,void 0)},196067:(e,t,a)=>{a.d(t,{Icon56VideoOutline:()=>o});var o=(0,a(844990).makeIcon)("Icon56VideoOutline","video_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 56 56" id="video_outline_56"><path fill="currentColor" d="M37.745 6c3.566 0 4.859.371 6.162 1.069s2.327 1.72 3.025 3.024C47.629 11.396 48 12.69 48 16.256v23.489c0 3.566-.371 4.859-1.068 6.162a7.27 7.27 0 0 1-3.025 3.025C42.604 49.629 41.311 50 37.745 50h-19.49c-3.565 0-4.859-.371-6.162-1.068-1.304-.698-2.327-1.72-3.024-3.025S8 43.311 8 39.745v-23.49c0-3.565.371-4.859 1.069-6.162.697-1.304 1.72-2.327 3.024-3.024S14.689 6 18.255 6zm.314 3H18.256c-2.799 0-3.761.186-4.749.714a4.27 4.27 0 0 0-1.793 1.793c-.508.95-.7 1.876-.713 4.434L11 39.745c0 2.798.186 3.76.714 4.748a4.27 4.27 0 0 0 1.793 1.793c.988.528 1.95.714 4.749.714h19.489c2.798 0 3.76-.186 4.748-.714a4.27 4.27 0 0 0 1.793-1.793c.528-.988.714-1.95.714-4.748v-23.49c0-2.798-.186-3.76-.714-4.748a4.27 4.27 0 0 0-1.793-1.793c-.95-.508-1.876-.7-4.434-.713M18.72 38c.445 0 .606.046.77.134q.245.132.377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm20 0c.445 0 .606.046.77.134q.245.132.377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm-20-8c.445 0 .606.046.77.134q.245.132.377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm20 0c.445 0 .606.046.77.134q.245.132.377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm-20-8c.445 0 .606.046.77.134q.245.132.377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm20 0c.445 0 .606.046.77.134q.245.132.377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm-20-8c.445 0 .606.046.77.134q.245.132.377.378c.088.162.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm20 0c.445 0 .606.046.77.134q.245.132.377.378c.088.162.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134z" /></symbol>',56,56,!1,void 0)},776696:(e,t,a)=>{a.d(t,{default:()=>o});const o={button:"IconButton-module__button--a4kvp"}},104316:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"VirtualList-module__root--J4Lg9",viewport:"VirtualList-module__viewport--Mhqvr"}},559713:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"BlockFilter-module__root--zU6Je",icon:"BlockFilter-module__icon--a2krz"}},707249:(e,t,a)=>{a.d(t,{default:()=>o});const o={options:"Onboarding-module__options--jGIzR",saveButton:"Onboarding-module__saveButton--TL6Hu",doneBox:"Onboarding-module__doneBox--OJ4FA",headlineDone:"Onboarding-module__headlineDone--x4VcQ",doneBoxIcon:"Onboarding-module__doneBoxIcon--kSsQn"}},523481:(e,t,a)=>{a.d(t,{default:()=>o});const o={link:"OpenSearchTab-module__link--Vizcw"}},5549:(e,t,a)=>{a.d(t,{default:()=>o});const o={openSectionSliderCell:"OpenSectionSliderCell-module__openSectionSliderCell--J1uCD",openSectionSliderCard:"OpenSectionSliderCell-module__openSectionSliderCard--HBwOp",openSectionSliderCellButton:"OpenSectionSliderCell-module__openSectionSliderCellButton--op_pV",openSectionSliderCellButtonIcon:"OpenSectionSliderCell-module__openSectionSliderCellButtonIcon--LOX4N",openSectionSliderCellText:"OpenSectionSliderCell-module__openSectionSliderCellText--qq8im"}},706777:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"ShowFilters-module__root--Hko7J",iconBefore:"ShowFilters-module__iconBefore--tvbSU",headline:"ShowFilters-module__headline--ADhn4"}},569964:(e,t,a)=>{a.d(t,{default:()=>o});const o={title:"AudioPlaylist-module__title--s_yVp",subtitle:"AudioPlaylist-module__subtitle--Atqab",year:"AudioPlaylist-module__year--mvikD"}},100822:(e,t,a)=>{a.d(t,{default:()=>o});const o={banner:"Banner-module__banner--yKZgk",actionsWrapper:"Banner-module__actionsWrapper--tIehZ"}},27472:(e,t,a)=>{a.d(t,{default:()=>o});const o={chips:"Chips-module__chips--wX4Q1",chipsFadedOut:"Chips-module__chipsFadedOut--GEWw9",chipsHidden:"Chips-module__chipsHidden--NN9cw",chipsHeadline:"Chips-module__chipsHeadline--ykmgZ",chipsSubhead:"Chips-module__chipsSubhead--fkDwa"}},192924:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"DoubleStackedList-module__root--M0CVo",rootWithoutGrid:"DoubleStackedList-module__rootWithoutGrid--QyNVz"}},309862:(e,t,a)=>{a.d(t,{default:()=>o});const o={largeSliderCard:"GroupCategoryLargeItem-module__largeSliderCard--zp1DN"}},346800:(e,t,a)=>{a.d(t,{default:()=>o});const o={sliderCard:"GroupCollection-module__sliderCard--ujySp",singleSliderCard:"GroupCollection-module__singleSliderCard--ZwAbh"}},22832:(e,t,a)=>{a.d(t,{default:()=>o});const o={iconLeave:"GroupItem-module__iconLeave--rpCsj",government:"GroupItem-module__government--eIhwh",governmentIcon:"GroupItem-module__governmentIcon--ywLCW",stack:"GroupItem-module__stack--RFrjp",sliderCard:"GroupItem-module__sliderCard--LbBm0",sliderEvent:"GroupItem-module__sliderEvent--_RK4l",stacked:"GroupItem-module__stacked--olaIg",blur:"GroupItem-module__blur--MgVC8"}},991552:(e,t,a)=>{a.d(t,{default:()=>o});const o={header:"HeaderCompact-module__header--VxEmR"}},464778:(e,t,a)=>{a.d(t,{default:()=>o});const o={iconSmall:"Link-module__iconSmall--TwHbd",iconUrl:"Link-module__iconUrl--PAUsH"}},554594:(e,t,a)=>{a.d(t,{default:()=>o});const o={searchEntityFlat:"List-module__searchEntityFlat--iMR7W",searchEntityFlatFirst:"List-module__searchEntityFlatFirst--PvIBf"}},281568:(e,t,a)=>{a.d(t,{default:()=>o});const o={card:"MarketItem-module__card--pPV9F",imageWrapper:"MarketItem-module__imageWrapper--KUtX9",image:"MarketItem-module__image--DxAT3",bookmark:"MarketItem-module__bookmark--KpZg5",body:"MarketItem-module__body--zM_XI",subtitle:"MarketItem-module__subtitle--ERK3x",header:"MarketItem-module__header--gUEMs",oldPrice:"MarketItem-module__oldPrice--Vfkcx",group:"MarketItem-module__group--kebSX",caption:"MarketItem-module__caption--a23WD",verified:"MarketItem-module__verified--ksVwr"}},316412:(e,t,a)=>{a.d(t,{default:()=>o});const o={musicCell:"MusicAudios-module__musicCell--ff7BJ",padding:"MusicAudios-module__padding--itPIY",moreIcon:"MusicAudios-module__moreIcon--PH4mv"}},138756:(e,t,a)=>{a.d(t,{default:()=>o});const o={placeholder:"Placeholder-module__placeholder--q1V0C",placeholderBig:"Placeholder-module__placeholderBig--bN6tb",placeholderStretched:"Placeholder-module__placeholderStretched--q4wlT",image:"Placeholder-module__image--FsJ1q"}},361931:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"PlaylistBanner-module__root--_Xsd9",ratio:"PlaylistBanner-module__ratio--S65Up",verticalRatio:"PlaylistBanner-module__verticalRatio--sUoxf",thumb:"PlaylistBanner-module__thumb--FFWgM",blur:"PlaylistBanner-module__blur--iXm0j",verticalThumb:"PlaylistBanner-module__verticalThumb--Ng_AW",placeholder:"PlaylistBanner-module__placeholder--m7SbB"}},385819:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"PlaylistCard-module__root--YO1_j",preview:"PlaylistCard-module__preview--bS1RT",thumb:"PlaylistCard-module__thumb--Di6wA",blur:"PlaylistCard-module__blur--rxbwc",counter:"PlaylistCard-module__counter--D5nzG",title:"PlaylistCard-module__title--j5Z7J"}},291513:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"PlaylistHeader-module__root--HDRKw",titleWrapper:"PlaylistHeader-module__titleWrapper--XP0BL",avatar:"PlaylistHeader-module__avatar--WD2cC",title:"PlaylistHeader-module__title--e7RZM",subtitle:"PlaylistHeader-module__subtitle--zl8A4"}},1537:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"PlaylistPreview-module__root--_S_Yf",overlay:"PlaylistPreview-module__overlay--rFUgx",badge:"PlaylistPreview-module__badge--VVgjx"}},279268:(e,t,a)=>{a.d(t,{default:()=>o});const o={searchSpellcheck:"SearchSpellchecker-module__searchSpellcheck--FtfSw",searchSpellcheckSubtitle:"SearchSpellchecker-module__searchSpellcheckSubtitle--EoBzB",searchSpellcheckSubtitleButton:"SearchSpellchecker-module__searchSpellcheckSubtitleButton--P8OSR",searchSpellcheckTitle:"SearchSpellchecker-module__searchSpellcheckTitle--WYG0h",searchSpellcheckQuery:"SearchSpellchecker-module__searchSpellcheckQuery--NC0FC"}},133695:(e,t,a)=>{a.d(t,{default:()=>o});const o={suggestionItem:"SliderSuggestion-module__suggestionItem--J0IAh"}},830492:(e,t,a)=>{a.d(t,{default:()=>o});const o={content:"Slider-module__content--N6r_S",pagination:"Slider-module__pagination--rjv28",groupsItemSliderElement:"Slider-module__groupsItemSliderElement--aTctg"}},490898:(e,t,a)=>{a.d(t,{default:()=>o});const o={suggestionRemove:"Suggestion-module__suggestionRemove--SA6tU"}},956637:(e,t,a)=>{a.d(t,{default:()=>o});const o={catalogTripleStackedSliderInner:"TripleStackedSliderItems-module__catalogTripleStackedSliderInner--sm34D",catalogTripleStackedSliderColumn:"TripleStackedSliderItems-module__catalogTripleStackedSliderColumn--hJM4t",row:"TripleStackedSliderItems-module__row--Tvjsz",catalogTripleStackedSliderColumnS:"TripleStackedSliderItems-module__catalogTripleStackedSliderColumnS--cjsI4"}},468616:(e,t,a)=>{a.d(t,{default:()=>o});const o={card:"ShortVideoCard-module__card--oVemx"}},329040:(e,t,a)=>{a.d(t,{default:()=>o});const o={cardRounded:"VideoCard-module__cardRounded--v2Fr3",cardRoundedSmall:"VideoCard-module__cardRoundedSmall--z8VGQ",info:"VideoCard-module__info--WIEDg",largeCard:"VideoCard-module__largeCard--fC2wJ",main:"VideoCard-module__main--IP5Pi",avatarWrapper:"VideoCard-module__avatarWrapper--l3jhz",titleWrapper:"VideoCard-module__titleWrapper--fZ61f",title:"VideoCard-module__title--CvNaR",subtitle:"VideoCard-module__subtitle--asxxI",userNameWrapper:"VideoCard-module__userNameWrapper--qvvbC",userName:"VideoCard-module__userName--Yderl",verifiedIcon:"VideoCard-module__verifiedIcon--a4MJg",viewIcon:"VideoCard-module__viewIcon--GvehF",views:"VideoCard-module__views--uP5Fh"}},854196:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"BlockFilter-module__root--MtcgW",icon:"BlockFilter-module__icon--_ooTH"}},331955:(e,t,a)=>{a.d(t,{default:()=>o});const o={title:"GroupItem-module__title--nvH48"}},373763:(e,t,a)=>{a.d(t,{default:()=>o});const o={separator:"IslandSeparator-module__separator--CeDrZ",lowerSeparatorWrapper:"IslandSeparator-module__lowerSeparatorWrapper--t6J_C",upperSeparator:"IslandSeparator-module__upperSeparator--fAg7D",lowerSeparator:"IslandSeparator-module__lowerSeparator--cMjNx"}},192313:(e,t,a)=>{a.d(t,{default:()=>o});const o={list:"List-module__list--_lBED"}},338891:(e,t,a)=>{a.d(t,{default:()=>o});const o={container:"PinnedVideo-module__container--N4NMq"}},772939:(e,t,a)=>{a.d(t,{default:()=>o});const o={shortVideoList:"ShortVideoList-module__shortVideoList--_jaPh"}},23235:(e,t,a)=>{a.d(t,{default:()=>o});const o={scrollContainer:"Slider-module__scrollContainer--e44Nn",groupContainer:"Slider-module__groupContainer--ZTNjj"}},963146:(e,t,a)=>{a.d(t,{default:()=>o});const o={item:"TripleStackedSliderItems-module__item--YAajV"}},832335:(e,t,a)=>{a.d(t,{default:()=>o});const o={sizeM:"VideoCardSlider-module__sizeM--VJTHC",sizeS:"VideoCardSlider-module__sizeS--_j1Rj",container:"VideoCardSlider-module__container--VFv3B"}},104957:(e,t,a)=>{a.d(t,{default:()=>o});const o={container:"OpenUrl-module__container--CZ1hU",link:"OpenUrl-module__link--Fp8xZ"}},529906:(e,t,a)=>{a.d(t,{default:()=>o});const o={itemVerification:"CatalogUser-module__itemVerification--JTnyY",extraDescription:"CatalogUser-module__extraDescription--Wdd8R"}},449789:(e,t,a)=>{a.d(t,{default:()=>o});const o={buttonRemove:"CatalogUserButton-module__buttonRemove--gR2Tk"}},646165:(e,t,a)=>{a.d(t,{default:()=>o});const o={buttonLeave:"GroupItemButton-module__buttonLeave--PQQUK"}},196607:(e,t,a)=>{a.d(t,{default:()=>o});const o={government:"GroupItemDescription-module__government--YgfA3",governmentIcon:"GroupItemDescription-module__governmentIcon--UxRpa",userStack:"GroupItemDescription-module__userStack--Yfi0O"}},634522:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"HeaderCompact-module__root--KEKi3"}},75650:(e,t,a)=>{a.d(t,{default:()=>o});const o={button:"ClearRecentGroups-module__button--eQoeh",icon:"ClearRecentGroups-module__icon--gQ0OU",link:"ClearRecentGroups-module__link--y0cM9"}},551644:(e,t,a)=>{a.d(t,{default:()=>o});const o={list:"List-module__list--_d6Ww"}},499838:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"Slider-module__root--MrteC",inner:"Slider-module__inner--inreZ"}},799876:(e,t,a)=>{a.d(t,{default:()=>o});const o={authors:"List-module__authors--vqD5X"}},307434:(e,t,a)=>{a.d(t,{default:()=>o});const o={list:"ListCommunity-module__list--j0SED"}},926508:(e,t,a)=>{a.d(t,{default:()=>o});const o={horizontalVideo:"ListVideos-module__horizontalVideo--yONWB"}},406267:(e,t,a)=>{a.d(t,{default:()=>o});const o={author:"SearchAuthor-module__author--wMQgy"}},289110:(e,t,a)=>{a.d(t,{default:()=>o});const o={searchSpellcheck:"SearchSpellchecker-module__searchSpellcheck--YI1p7"}},696704:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"DynamicPagination-module__root--sC7FF",rootHidden:"DynamicPagination-module__rootHidden--XQzXr",pagination:"DynamicPagination-module__pagination--CwPIE",paginationHidden:"DynamicPagination-module__paginationHidden--e5uRf"}},452376:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"Snackbar-module__root--rsFtI"}},210267:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"VideoListItem-module__root--KiSEH",preview:"VideoListItem-module__preview--lGfr9",info:"VideoListItem-module__info--pTJQk",main:"VideoListItem-module__main--uFoXI",title:"VideoListItem-module__title--_dTwW",subtitle:"VideoListItem-module__subtitle--ax0jK",endAdornment:"VideoListItem-module__endAdornment--Y6QI4"}},89128:(e,t,a)=>{a.d(t,{default:()=>o});const o={video:"VideoPreview-module__video--uO9Xu",videoRounded:"VideoPreview-module__videoRounded--CvBzB",videoPage:"VideoPreview-module__videoPage--oNstn",videoDuration:"VideoPreview-module__videoDuration--yLlQi",videoInteractive:"VideoPreview-module__videoInteractive--pVMfU",interactiveIcon:"VideoPreview-module__interactiveIcon--lM2_D",videoLive:"VideoPreview-module__videoLive--Gjftk",videoUpcomingLive:"VideoPreview-module__videoUpcomingLive--oqjrp",videoImage:"VideoPreview-module__videoImage--h3ni6",views:"VideoPreview-module__views--_aM9w",previewFailed:"VideoPreview-module__previewFailed--h_zfS",processingLabel:"VideoPreview-module__processingLabel--VHoxT",adultLock:"VideoPreview-module__adultLock--tCuHu",cornerIcon:"VideoPreview-module__cornerIcon--kx3Ka",cornerIconPrivacy:"VideoPreview-module__cornerIconPrivacy--dL0d3",progressBar:"VideoPreview-module__progressBar--LgtO1",progress:"VideoPreview-module__progress--d4DXW",playBtn:"VideoPreview-module__playBtn--h8H4s",videoImageBlur:"VideoPreview-module__videoImageBlur--jiwub",videoBlur:"VideoPreview-module__videoBlur--Ri0mp",overlay:"VideoPreview-module__overlay--ffAAC"}},680811:(e,t,a)=>{a.d(t,{default:()=>o});const o={overlay:"VideoPreviewOverlay-module__overlay--U6kk9",title:"VideoPreviewOverlay-module__title--s2Rj3",icon:"VideoPreviewOverlay-module__icon--bkCQL",center:"VideoPreviewOverlay-module__center--CEJ4Y",text:"VideoPreviewOverlay-module__text--N_iwM",blur:"VideoPreviewOverlay-module__blur--wXHLk"}},222558:(e,t,a)=>{a.d(t,{checkEvent:()=>r});var o=a(527703);function r(e){return!!(e&&e instanceof MouseEvent)&&!(0,o.isMainClick)(e)}},527703:(e,t,a)=>{function o(e){return!("click"!==e.type&&"mousedown"!==e.type&&"mouseup"!==e.type||0!==e.button||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)}a.d(t,{isMainClick:()=>o})},861789:(e,t,a)=>{a.d(t,{AUDIO_LIST_TYPES:()=>o});const o=new Set(["album","generated","chat","ugc"])},203206:(e,t,a)=>{a.d(t,{isExperimentalAudioPlaylist:()=>r});var o=a(861789);function r(e){return o.AUDIO_LIST_TYPES.has(e.type)}},89409:(e,t,a)=>{a.d(t,{getAudioPlaylistAlbumType:()=>r});var o=a(203206);function r(e){return(0,o.isExperimentalAudioPlaylist)(e)?e.album?.view:e.album_type}},360956:(e,t,a)=>{a.d(t,{GroupsBaseFieldService:()=>r});var o=a(327813);class r{getIsLoading(e){return!!this.loadings.get(e)}setValue(e,t){this.data.set(e,t)}getValue(e){return this.data.get(e)}async edit(e,t){if(this.loadings.get(e))return this.loadings.get(e);try{this.loadings.set(e,t()),await this.loadings.get(e)}catch(e){this.errorBoundary(e)}finally{(0,o.runInAction)((()=>{this.loadings.set(e,null)}))}}constructor(e=(e=>console.error(e))){this.data=new Map,this.loadings=new Map,this.errorBoundary=e,(0,o.makeAutoObservable)(this)}}},574601:(e,t,a)=>{a.d(t,{GroupsFavoriteService:()=>l});var o=a(331635),r=a(327813),i=a(493),n=a(127126),s=a(360956);let l=class{getIsFavorite(e){return this.baseFieldService.getValue(e)}setIsFavorite(e,t){return this.baseFieldService.setValue(e,t)}add(e){return this.baseFieldService.edit(e,(async()=>{await this.faveApi.addPage({group_id:e}),this.setIsFavorite(e,!0)}))}remove(e){return this.baseFieldService.edit(e,(async()=>{await this.faveApi.removePage({group_id:e}),this.setIsFavorite(e,!1)}))}toggle(e){const t=this.getIsFavorite(e);if(void 0!==t)return t?this.remove(e):this.add(e)}getIsLoading(e){return this.baseFieldService.getIsLoading(e)}constructor(e){this.faveApi=e,this.baseFieldService=new s.GroupsBaseFieldService,(0,r.makeAutoObservable)(this)}};l=(0,o.__decorate)([n.scope.global(),(0,o.__metadata)("design:paramtypes",[i.FaveApi])],l)},263507:(e,t,a)=>{a.d(t,{GroupsSubscribeService:()=>_});var o=a(331635),r=a(380719),i=a(92765),n=a(872727),s=a(753843),l=a(517074),c=a(127126),d=a(360956),u=a(327813);let _=class{getIsMember(e){return!!this.memberFieldService.getValue(e)}async join(e){const t=e.group_id,a=this.groupsAccessMap.get(t);if(a!==s.GroupsGroupIsClosedEnumNames.PRIVATE)return this.memberFieldService.edit(t,(async()=>{await this.api.join(e),this.leftGroupsData.set(t,!1),this.myTracker.sendTimespentEvent(r.MyTrackerActivityId.CommunitySubscribe),a!==s.GroupsGroupIsClosedEnumNames.CLOSED?this.memberFieldService.setValue(t,!0):this.groupsMemberStatusMap.set(t,l.GroupsGroupFullMemberStatusEnumNames.HAS_SENT_A_REQUEST)}));console.error("Trying to subscribe to a private group")}async leave(e){const t=e.group_id;return this.memberFieldService.edit(t,(async()=>{await this.api.leave(e),this.memberFieldService.setValue(t,!1),this.leftGroupsData.set(t,!0),this.getMemberStatus(t)===l.GroupsGroupFullMemberStatusEnumNames.HAS_SENT_A_REQUEST&&this.groupsMemberStatusMap.set(t,l.GroupsGroupFullMemberStatusEnumNames.NOT_A_MEMBER)}))}async toggle(e){const t=this.getIsMember(e),a=this.groupsAccessMap.get(e);if(void 0===t)return;const o={group_id:e};return a&&!t&&this.getMemberStatus(e)===l.GroupsGroupFullMemberStatusEnumNames.HAS_SENT_A_REQUEST||t?this.leave(o):this.join(o)}getIsLeftGroup(e){return!!this.leftGroupsData.get(e)}getIsJoinedGroup(e){return!1===this.leftGroupsData.get(e)}setMemberInfo(e,{isMember:t,isClosed:a,memberStatus:o}){this.memberFieldService.setValue(e,t),void 0!==a&&this.groupsAccessMap.set(e,a),void 0!==o&&this.groupsMemberStatusMap.set(e,o)}getIsLoading(e){return this.memberFieldService.getIsLoading(e)}getMemberStatus(e){return this.groupsMemberStatusMap.get(e)}constructor(e,t){this.api=e,this.myTracker=t,this.memberFieldService=new d.GroupsBaseFieldService,this.leftGroupsData=new Map,this.groupsMemberStatusMap=new Map,this.groupsAccessMap=new Map,(0,u.makeAutoObservable)(this)}};_=(0,o.__decorate)([c.scope.global(),(0,o.__metadata)("design:paramtypes",[i.GroupsApi,n.MyTrackerLegacy])],_)},414527:(e,t,a)=>{a.d(t,{GroupsWallSubscribeService:()=>c});var o=a(331635),r=a(327813),i=a(514853),n=a(127126),s=a(847891),l=a(360956);let c=class{getIsSubscribed(e){return this.baseFieldService.getValue(e)}setIsSubscribed(e,t){return this.baseFieldService.setValue(e,t)}async subscribe(e){return this.baseFieldService.edit(e,(async()=>{await this.wallApi.subscribe({owner_id:s.Ranges.convertGroupIdToOwnerId(e)}),this.setIsSubscribed(e,!0)}))}async unsubscribe(e){return this.baseFieldService.edit(e,(async()=>{await this.wallApi.unsubscribe({owner_id:s.Ranges.convertGroupIdToOwnerId(e)}),this.setIsSubscribed(e,!1)}))}toggle(e){const t=this.getIsSubscribed(e);if(void 0!==t)return t?this.unsubscribe(e):this.subscribe(e)}getIsLoading(e){return this.baseFieldService.getIsLoading(e)}constructor(e){this.wallApi=e,this.baseFieldService=new l.GroupsBaseFieldService,(0,r.makeAutoObservable)(this)}};c=(0,o.__decorate)([n.scope.global(),(0,o.__metadata)("design:paramtypes",[i.WallApi])],c)},872727:(e,t,a)=>{a.d(t,{MyTrackerLegacy:()=>n});var o=a(331635),r=a(795624),i=a(127126);let n=class{tmrPushRawEvent(e){"undefined"!=typeof window&&this.authService.userId&&!window.__dev&&(window._tmr=window._tmr||[],window._tmr.push(e))}constructor(e){this.authService=e,this.counterId="2579437",this.sendTimespentEvent=e=>this.tmrPushRawEvent({id:this.counterId,type:"incrementEventTimespent",activity:e,userId:this.authService.userId})}};n=(0,o.__decorate)([i.scope.global(),(0,o.__metadata)("design:paramtypes",[r.AuthService])],n)},609897:(e,t,a)=>{a.d(t,{ApiNamespace:()=>i});var o=a(933052),r=a(853883);class i{makeMethod(e,t){return(a,i,n)=>{const s=`${this.namespace}.${e}`;if(t){const e=n?.version??r.API_VERSION;try{const t=this.apiPrefetch?.loadPrefetchCache(s,e,a);if(t)return Promise.resolve(t)}catch(e){return console.error(e),Promise.reject(e)}}return(0,o.api)(s,a,n,i)}}constructor(e){this.apiPrefetch=e}}},493:(e,t,a)=>{a.d(t,{FaveApi:()=>n});var o=a(331635),r=a(609897),i=a(127126);let n=class extends r.ApiNamespace{get namespace(){return"fave"}constructor(){super(...arguments),this.addArticle=this.makeMethod("addArticle"),this.addClassified=this.makeMethod("addClassified"),this.addClip=this.makeMethod("addClip"),this.addGroup=this.makeMethod("addGroup"),this.addLink=this.makeMethod("addLink"),this.addNarrative=this.makeMethod("addNarrative"),this.addPage=this.makeMethod("addPage"),this.addPodcastEpisode=this.makeMethod("addPodcastEpisode"),this.addPost=this.makeMethod("addPost"),this.addProduct=this.makeMethod("addProduct"),this.addTag=this.makeMethod("addTag"),this.addUser=this.makeMethod("addUser"),this.addVideo=this.makeMethod("addVideo"),this.checkLink=this.makeMethod("checkLink"),this.editTag=this.makeMethod("editTag"),this.get=this.makeMethod("get"),this.getPages=this.makeMethod("getPages"),this.getTags=this.makeMethod("getTags"),this.removeArticle=this.makeMethod("removeArticle"),this.removeClassified=this.makeMethod("removeClassified"),this.removeClip=this.makeMethod("removeClip"),this.removeGroup=this.makeMethod("removeGroup"),this.removeLink=this.makeMethod("removeLink"),this.removeNarrative=this.makeMethod("removeNarrative"),this.removePage=this.makeMethod("removePage"),this.removePodcastEpisode=this.makeMethod("removePodcastEpisode"),this.removePost=this.makeMethod("removePost"),this.removeProduct=this.makeMethod("removeProduct"),this.removeTag=this.makeMethod("removeTag"),this.removeUser=this.makeMethod("removeUser"),this.removeVideo=this.makeMethod("removeVideo"),this.reorderTags=this.makeMethod("reorderTags"),this.setPageTags=this.makeMethod("setPageTags"),this.setTags=this.makeMethod("setTags")}};n=(0,o.__decorate)([i.scope.global()],n)},92765:(e,t,a)=>{a.d(t,{GroupsApi:()=>s});var o=a(331635),r=a(609897),i=a(127126),n=a(75312);let s=class extends r.ApiNamespace{get namespace(){return"groups"}constructor(e){super(e),this.getById=this.makeMethod("getById",!0),this.getSettings=this.makeMethod("getSettings"),this.getMembers=this.makeMethod("getMembers"),this.getEditSettings=this.makeMethod("getEditSettings"),this.join=this.makeMethod("join"),this.leave=this.makeMethod("leave"),this.changeSubscriptionsVisibility=this.makeMethod("changeSubscriptionsVisibility"),this.get=this.makeMethod("get"),this.edit=this.makeMethod("edit"),this.getWebCatalogMenu=this.makeMethod("getWebCatalogMenu",!0),this.removeRecents=this.makeMethod("removeRecents"),this.getRecommendedTipsList=this.makeMethod("getRecommendedTipsList"),this.getSuggestions=this.makeMethod("getSuggestions"),this.getGroupSettingsMenu=this.makeMethod("getGroupSettingsMenu")}};s=(0,o.__decorate)([i.scope.global(),(0,o.__metadata)("design:paramtypes",[n.ApiPrefetch])],s)},514853:(e,t,a)=>{a.d(t,{WallApi:()=>n});var o=a(331635),r=a(609897),i=a(127126);let n=class extends r.ApiNamespace{get namespace(){return"wall"}constructor(){super(...arguments),this.get=this.makeMethod("get"),this.getPostById=this.makeMethod("getById"),this.parseAttachedLink=this.makeMethod("parseAttachedLink"),this.post=this.makeMethod("post"),this.subscribe=this.makeMethod("subscribe"),this.unsubscribe=this.makeMethod("unsubscribe"),this.edit=this.makeMethod("edit"),this.getPostingSettings=this.makeMethod("getPostingSettings"),this.getCommentsExtended=this.makeMethod("getComments"),this.getCommentExtended=this.makeMethod("getComment")}};n=(0,o.__decorate)([i.scope.global()],n)},81173:(e,t,a)=>{a.d(t,{useMergedRef:()=>r});var o=a(296540);const r=(...e)=>(0,o.useCallback)((t=>{e.forEach((e=>{"function"==typeof e?e(t):e&&"object"==typeof e&&(e.current=t)}))}),e)},373627:(e,t,a)=>{a.d(t,{createCatalogGetAudioSearchFx:()=>c,createCatalogGetBlockItemsFx:()=>g,createCatalogGetClassifiedsFx:()=>r,createCatalogGetOwnerVideosSearchFx:()=>m,createCatalogGetPeopleSearchFx:()=>n,createCatalogGetSearchGamesFx:()=>_,createCatalogGetSearchGroupsFx:()=>S,createCatalogGetSearchMiniAppsFx:()=>u,createCatalogGetSectionFx:()=>i,createCatalogGetShortVideoSearchFx:()=>v,createCatalogGetVideoFx:()=>l,createCatalogGetVideoSearchWeb2Fx:()=>d,createCatalogHideBlockFx:()=>s,createCatalogReplaceBlocksFx:()=>p});var o=a(66044);const r=e=>(0,o.createApiEffect)("catalog.getClassifieds",e),i=e=>(0,o.createApiEffect)("catalog.getSection",e),n=e=>(0,o.createApiEffect)("catalog.getPeopleSearch",e),s=e=>(0,o.createApiEffect)("catalog.hideBlock",e),l=e=>(0,o.createApiEffect)("catalog.getVideo",e),c=e=>(0,o.createApiEffect)("catalog.getAudioSearch",e),d=e=>(0,o.createApiEffect)("catalog.getVideoSearchWeb2",e),u=e=>(0,o.createApiEffect)("catalog.getSearchMiniApps",e),_=e=>(0,o.createApiEffect)("catalog.getSearchGames",e),p=e=>(0,o.createApiEffect)("catalog.replaceBlocks",e),m=e=>(0,o.createApiEffect)("catalog.getOwnerVideosSearch",e),g=e=>(0,o.createApiEffect)("catalog.getBlockItems",e),S=e=>(0,o.createApiEffect)("catalog.getSearchGroups",e),v=e=>(0,o.createApiEffect)("catalog.getShortVideoSearch",e)},527438:(e,t,a)=>{a.d(t,{createFetchMarketItemsFx:()=>r,createMarketAddToCartFx:()=>p,createMarketDeleteAlbumFx:()=>_,createMarketDeleteFx:()=>h,createMarketGetAlbumByIdFx:()=>u,createMarketGetAlbumsFx:()=>c,createMarketGetByIdFx:()=>n,createMarketGetEditUrlFx:()=>v,createMarketGetItemReviewsFx:()=>i,createMarketGetSellerResponseTimeFx:()=>d,createMarketGetServiceRatingFx:()=>m,createMarketGetSettingsFx:()=>l,createMarketGetTotalCountersFx:()=>s,createMarketRemoveFromCartFx:()=>g,createMarketReorderAlbumsFx:()=>S});var o=a(66044);const r=e=>(0,o.createApiEffect)("market.get",e),i=e=>(0,o.createApiEffect)("market.getItemReviews",e),n=e=>(0,o.createApiEffect)("market.getById",e),s=e=>(0,o.createApiEffect)("market.getCounters",e),l=e=>(0,o.createApiEffect)("market.getSettings",e),c=e=>(0,o.createApiEffect)("market.getAlbums",e),d=e=>(0,o.createApiEffect)("market.getSellerResponseTime",e),u=e=>(0,o.createApiEffect)("market.getAlbumById",e),_=e=>(0,o.createApiEffect)("market.deleteAlbum",e),p=e=>(0,o.createApiEffect)("market.addToCart",e),m=e=>(0,o.createApiEffect)("market.getServiceRating",e),g=e=>(0,o.createApiEffect)("market.removeFromCart",e),S=e=>(0,o.createApiEffect)("market.reorderAlbums",e),v=e=>(0,o.createApiEffect)("market.getEditUrl",e),h=e=>(0,o.createApiEffect)("market.delete",e)},406650:(e,t,a)=>{a.d(t,{createWallSubscribeFx:()=>r,createWallUnsubscribeFx:()=>i});var o=a(66044);const r=e=>(0,o.createApiEffect)("wall.subscribe",e),i=e=>(0,o.createApiEffect)("wall.unsubscribe",e)},932709:(e,t,a)=>{a.d(t,{useHelpHint:()=>i});var o=a(741531),r=a(149183);const i=e=>(0,r.useEntitiesStore)((0,o.ensureAccountHelpHintsService)().$helpHints,e)},757459:(e,t,a)=>{a.d(t,{splitRawId:()=>o});const o=e=>{const[t,a,o]=e.split("_");return{ownerId:Number(t),itemId:Number(a),externalId:void 0!==o?o:null}}},171988:(e,t,a)=>{a.d(t,{FriendsFriendStatusStatusEnumNames:()=>o});const o={NOT_A_FRIEND:0,OUTCOMING_REQUEST:1,INCOMING_REQUEST:2,IS_FRIEND:3}},517074:(e,t,a)=>{a.d(t,{GroupsGroupFullMemberStatusEnumNames:()=>o});const o={NOT_A_MEMBER:0,MEMBER:1,NOT_SURE:2,DECLINED:3,HAS_SENT_A_REQUEST:4,INVITED:5}},753843:(e,t,a)=>{a.d(t,{GroupsGroupIsClosedEnumNames:()=>o});const o={OPEN:0,CLOSED:1,PRIVATE:2}},191797:(e,t,a)=>{a.d(t,{AudioPlayerContext:()=>i});var o=a(296540),r=a(159995);const i=(0,o.createContext)({status:r.AudioPlayerStatus.NO,currentAudio:null,currentPlaylist:null,currentAudioProgress:0,currentAudioVolume:0,audioPlayerContext:""})},159995:(e,t,a)=>{var o;a.d(t,{AudioPlayerStatus:()=>o,RADIO_PLAYLIST_ID:()=>r}),function(e){e.NO="no",e.INIT="init",e.LOADING="loading",e.PLAYING="playing",e.PAUSED="paused",e.ENDED="ended",e.STOPPED="stopped"}(o||(o={}));const r=-110},345654:(e,t,a)=>{a.d(t,{useAudioPlayer:()=>i});var o=a(296540),r=a(191797);const i=()=>(0,o.useContext)(r.AudioPlayerContext)},985672:(e,t,a)=>{a.d(t,{Catalog:()=>_});var o=a(474848),r=a(296540),i=a(293721),n=a(753457),s=a(736841),l=a(922640),c=a(269285),d=a(123083),u=a(500774);const _=({blockLayoutResolver:e,catalog:t,nextFromSections:a,loadingBlockIds:_,extendedData:p,onGetSection:m=(()=>{}),onGetBlockItems:g=(()=>{}),onPendingSection:S=(()=>{}),onErrorSection:v=(()=>{}),onSelectAction:h,onCatalogUpdate:C=(()=>{}),show:f=!0,island:I,sliderProps:E,collectClick:k,collectView:y,catalogVars:T,platformVars:A,blockResolvers:R,isIndexUsedAsBlockKey:L,withStretchedPlaceholders:b,appCatalogService:x=s.appCatalogService})=>{const O=(0,i.useStore)(x.catalogService.$catalog),w=(0,i.useStore)(x.catalogService.$sections),N=(0,i.useStore)(x.catalogService.$sectionResponse),M=(0,i.useUnit)(x.catalogService.$catalogGetBlockItemsResponse),P=(0,i.useStore)(x.catalogService.$isSectionPending),V=(0,i.useStore)(x.catalogService.$fetchSectionError),B=(0,i.useStore)(x.actionsService.$selectedAction),D=(0,i.useStore)(x.catalogService.$updatedCatalog),j=(0,i.useStore)(x.catalogService.$lastSectionId),G=(0,i.useStore)(x.catalogService.$nextFrom),F=(0,i.useStore)(x.layoutService.$snackbar),U=(0,i.useStore)(x.layoutService.$popout),H=(0,i.useEvent)(x.catalogService.fireLoadingBlockIds),$=(0,i.useEvent)(x.catalogService.fireClearSectionResponse),z=(0,i.useEvent)(x.catalogService.fireClearUpdatedCatalog),W=(0,i.useEvent)(x.catalogService.fireSetCatalog),K=(0,i.useEvent)(x.layoutService.setSnackbar),Y=(0,i.useEvent)(x.pageService.fireSetCacheId),q=(0,i.useEvent)(x.actionsService.selectAction),Q=(0,i.useEvent)(x.pageService.fireSetPageId),Z=(0,i.useEvent)(x.pageService.fireSetCatalogType),X=(0,i.useEvent)(x.storiesService.fireSetStoriesOpener),J=(0,i.useEvent)(x.catalogService.fireSetSections),ee=(0,i.useEvent)(x.fireSetExtendedData),te=(0,i.useEvent)(x.catalogService.fireClearCatalogGetBlockItemsResponse),ae=(0,r.useMemo)((()=>O?.sections?.find((({id:e})=>e===O?.default_section))),[O?.sections,O?.default_section]),oe=(0,r.useMemo)((()=>(0,c.unionBlocksByLayout)(ae?[ae,...w]:w)),[ae,w,ae?.blocks?.length]);if((0,r.useEffect)((()=>{K(null)}),[ae]),(0,r.useEffect)((()=>{_&&H(_)}),[_]),(0,r.useEffect)((()=>{Y(T?.cacheId||"")}),[T?.cacheId]),(0,r.useEffect)((()=>{N&&(m(N),$())}),[N]),(0,r.useEffect)((()=>{M&&M.block&&(g(M),te())}),[M]),(0,r.useEffect)((()=>{S(P)}),[P]),(0,r.useEffect)((()=>{v(V)}),[V]),(0,r.useEffect)((()=>{B&&h&&h(B)}),[B]),(0,r.useEffect)((()=>{(ae||w.length>0)&&q(null)}),[ae,w]),(0,r.useEffect)((()=>{if(D){const e=window.location.href;C({id:e,updatedCatalog:D,cacheId:T?.cacheId||""}),z()}}),[D]),(0,r.useEffect)((()=>{t&&W(t)}),[t]),(0,r.useEffect)((()=>{p&&ee(p)}),[p]),(0,r.useEffect)((()=>{a&&J(a)}),[a]),(0,r.useEffect)((()=>{T?.pageId&&Q(T.pageId)}),[T?.pageId]),(0,r.useEffect)((()=>{T?.catalogType&&Z(T.catalogType)}),[T?.catalogType]),(0,r.useEffect)((()=>{A?.openStories&&X(A.openStories)}),[A?.openStories]),(0,r.useEffect)((()=>()=>{W({sections:[],default_section:""})}),[]),!f)return null;const re=t=>t.map(((t,a)=>{if(!t?.id)return null;const o=e(t),i=L?`section_${a}`:`${t.id}_section_${a}`;return(0,r.createElement)(o,{...t,blockIndex:a,key:i})}));return(0,o.jsx)(d.CatalogConfigProvider,{...A,blockResolvers:R,appCatalogService:x,withStretchedPlaceholders:b,sliderProps:E,children:(0,o.jsx)(d.CatalogLogProvider,{collectClick:k,collectView:y,children:(0,o.jsx)(d.CatalogOwnerProvider,{children:(0,o.jsx)(n.SplitLayout,{popout:U,children:(0,o.jsxs)(n.SplitCol,{children:[I?(0,c.splitCatalogBlocksByIsland)(oe).map(((e,t,a)=>(0,o.jsxs)(u.Group,{mode:"card",children:[re(e),a.length-1===t&&(0,o.jsx)(l.NextFrom,{nextFrom:G,sectionId:j,rootMargin:T?.rootMargin},j)]},`${e[0]?.id}_section_group_${t}`))):re(oe),!I&&(0,o.jsx)(l.NextFrom,{nextFrom:G,sectionId:j,rootMargin:T?.rootMargin},j),F]})})})})})}},848188:(e,t,a)=>{a(474848),a(296540),a(123083),a(985672),a(354669)},452935:(e,t,a)=>{a.d(t,{addAudio:()=>O,addFriend:()=>s,addRecent:()=>p,addToPlaylist:()=>S,addVideo:()=>v,agreeBlurRestriction:()=>V,clearSearchRecent:()=>c,deleteAudio:()=>w,deleteFriend:()=>l,deleteVideo:()=>h,faveAddPost:()=>y,faveAddProduct:()=>u,faveAddVideo:()=>C,faveRemovePost:()=>T,faveRemoveProduct:()=>_,faveRemoveVideo:()=>I,followRadioStation:()=>N,getPlaylistsByVideoExtended:()=>R,getPlaylistsExtended:()=>L,getSection:()=>i,getStories:()=>n,groupsRemoveRecent:()=>d,likeAdd:()=>m,likeDelete:()=>g,markNotInterested:()=>f,removeFromPlaylist:()=>E,removeSearchRecentQuery:()=>B,removeViewingHistoryRecords:()=>k,restoreAudio:()=>P,saveSelection:()=>A,subscribeToVideoPlaylist:()=>b,unfollowRadioStation:()=>M,unsubscribeFromVideoPlaylist:()=>x});var o=a(933052),r=a(551090);a(175241);function i(e,t){return(0,o.api)(r.CATALOG_API_METHODS.GET_SECTION,{...e},void 0,t)}function n(e){return(0,o.api)(r.CATALOG_API_METHODS.GET_STORIES,{...e})}function s(e){return(0,o.api)(r.CATALOG_API_METHODS.ADD_FRIEND,e)}function l(e){return(0,o.api)(r.CATALOG_API_METHODS.DELETE_FRIEND,e)}function c(e){return(0,o.api)(r.CATALOG_API_METHODS.CLEAR_RECENT,{...e})}function d(e){return(0,o.api)(r.CATALOG_API_METHODS.GROUPS_REMOVE_RECENT,{...e})}function u(e){return(0,o.api)(r.CATALOG_API_METHODS.FAVE_ADD_PRODUCT,{...e})}function _(e){return(0,o.api)(r.CATALOG_API_METHODS.FAVE_REMOVE_PRODUCT,{...e})}function p(e){return(0,o.api)(r.CATALOG_API_METHODS.ADD_RECENT,e)}function m(e){return(0,o.api)(r.CATALOG_API_METHODS.LIKES_ADD,e)}function g(e){return(0,o.api)(r.CATALOG_API_METHODS.LIKES_DELETE,e)}function S(e){return(0,o.api)(r.CATALOG_API_METHODS.ADD_VIDEO_TO_PLAYLIST,e)}function v(e){return(0,o.api)(r.CATALOG_API_METHODS.ADD_VIDEO,e)}function h(e){return(0,o.api)(r.CATALOG_API_METHODS.DELETE_VIDEO,e)}function C(e){return(0,o.api)(r.CATALOG_API_METHODS.ADD_VIDEO_TO_FAVE,e)}function f(e){return(0,o.api)(r.CATALOG_API_METHODS.MARK_VIDEO_NOT_INTERESTED,e)}function I(e){return(0,o.api)(r.CATALOG_API_METHODS.REMOVE_VIDEO_FROM_FAVE,e)}function E(e){return(0,o.api)(r.CATALOG_API_METHODS.REMOVE_VIDEO_FROM_PLAYLIST,e)}function k(e){return(0,o.api)(r.CATALOG_API_METHODS.REMOVE_VIEWING_HISTORY_RECORDS,e)}function y(e){return(0,o.api)(r.CATALOG_API_METHODS.FAVE_ADD_POST,e)}function T(e){return(0,o.api)(r.CATALOG_API_METHODS.FAVE_REMOVE_POST,e)}function A(e){return(0,o.api)(r.CATALOG_API_METHODS.SAVE_SELECTION,e)}function R(e,t){return(0,o.api)(r.CATALOG_API_METHODS.GET_PLAYLISTS_BY_VIDEO,e,void 0,t)}function L(e,t){return(0,o.api)(r.CATALOG_API_METHODS.GET_PLAYLISTS,e,void 0,t)}function b(e){return(0,o.api)(r.CATALOG_API_METHODS.SUBSCRIBE_TO_ALBUM,e)}function x(e){return(0,o.api)(r.CATALOG_API_METHODS.UNSUBSCRIBE_TO_ALBUM,e)}function O(e,t){return(0,o.api)(r.CATALOG_API_METHODS.ADD_AUDIO,e,void 0,t)}function w(e,t){return(0,o.api)(r.CATALOG_API_METHODS.DELETE_AUDIO,e,void 0,t)}function N(e,t){return(0,o.api)(r.CATALOG_API_METHODS.FOLLOW_RADIO_STATION,e,void 0,t)}function M(e,t){return(0,o.api)(r.CATALOG_API_METHODS.UNFOLLOW_RADIO_STATION,e,void 0,t)}function P(e,t){return(0,o.api)(r.CATALOG_API_METHODS.RESTORE_AUDIO,e,void 0,t)}function V(e){return(0,o.api)(r.CATALOG_API_METHODS.AGREE_BLUR_RESTRICTION,e)}function B(e){return(0,o.api)(r.CATALOG_API_METHODS.REMOVE_SEARCH_RECENT_QUERY,e)}},86011:(e,t,a)=>{a.d(t,{CatalogSnackbar:()=>l});var o=a(474848),r=a(476726),i=a(123083),n=a(116800),s=a(780074);const l=({event:e,actionLink:t,...a})=>{const{isError:l,content:c,onActionClick:d}=a,{navGo:u}=(0,i.useCatalogConfig)(),_=(0,r.partConfigEnabled)("video_bookmarks_renaming_to_watch_later");return(0,o.jsx)(s.Snackbar,{layout:"vertical",before:!l&&_?(0,n.getSnackbarStatusIcon)(e):void 0,onActionClick:t?()=>{u(t)}:d,content:e?(0,n.getSnackbarStatusText)(e):c,...a})}},489569:(e,t,a)=>{a.d(t,{CatalogSnackbar:()=>o.CatalogSnackbar});var o=a(86011)},116800:(e,t,a)=>{a.d(t,{getSnackbarStatusIcon:()=>u,getSnackbarStatusText:()=>d});var o=a(474848),r=a(610989),i=a(189776),n=a(13966),s=a(455878),l=a(234337),c=a(476726);const d=e=>{const t=(0,c.partConfigEnabled)("video_bookmarks_renaming_to_watch_later");switch(e){case i.SNACKBAR_EVENTS.ADD_TO_FAVE:return t?r.getLang("mobile_video_added_to_watch_later"):r.getLang("mobile_video_added_to_fave");case i.SNACKBAR_EVENTS.REMOVE_FROM_FAVE:return t?r.getLang("mobile_video_removed_from_watch_later"):r.getLang("mobile_video_removed_from_fave");case i.SNACKBAR_EVENTS.ADD_TO_MY:return r.getLang("mobile_video_added_to_my_videos");case i.SNACKBAR_EVENTS.REMOVE_FROM_MY:return r.getLang("mobile_video_removed_from_my_videos");case i.SNACKBAR_EVENTS.REMOVE_FROM_GROUP:return r.getLang("mobile_video_removed_from_group");case i.SNACKBAR_EVENTS.ADD_TO_PLAYLIST:return r.getLang("mobile_video_added_to_playlist");case i.SNACKBAR_EVENTS.ADD_TO_PLAYLISTS:return r.getLang("mobile_video_added_to_playlists");case i.SNACKBAR_EVENTS.REMOVE_FROM_PLAYLIST:return r.getLang("mobile_video_removed_from_playlist");case i.SNACKBAR_EVENTS.REMOVE_FROM_PLAYLISTS:return r.getLang("mobile_video_removed_from_playlists");case i.SNACKBAR_EVENTS.COPY_LINK:return r.getLang("mobile_video_link_copied");case i.SNACKBAR_EVENTS.COPY_ERID:return r.getLang("mobile_video_erid_copied");case i.SNACKBAR_EVENTS.ORD_ADDED:return r.getLang("mobile_video_ord_snackbar_added");case i.SNACKBAR_EVENTS.DELETE_PLAYLIST:return r.getLang("mobile_video_playlist_deleted");case i.SNACKBAR_EVENTS.PLAYLIST_SAVED:return r.getLang("mobile_video_playlist_saved");case i.SNACKBAR_EVENTS.REMOVE_FROM_HISTORY:return r.getLang("mobile_video_removed_from_history");case i.SNACKBAR_EVENTS.CLEAR_VIEWING_HISTORY:return r.getLang("mobile_video_cleared_history");case i.SNACKBAR_EVENTS.ONBOARDING_RELOAD_CATALOG:return r.getLang("mobile_video_onboarding_snackbar_refresh_text");case i.SNACKBAR_EVENTS.UPLOAD_SUCCESS:return r.getLang("mobile_video_showcase_form_file_upload_success");case i.SNACKBAR_EVENTS.UPLOAD_PROGRESS:return r.getLang("mobile_video_showcase_form_upload_in_progress");case i.SNACKBAR_EVENTS.VIDEO_SAVED:return r.getLang("mobile_video_saved");case i.SNACKBAR_EVENTS.ERROR:return r.getLang("mobile_video_global_error")}},u=e=>{switch(e){case i.SNACKBAR_EVENTS.ADD_TO_FAVE:case i.SNACKBAR_EVENTS.REMOVE_FROM_FAVE:return(0,o.jsx)(n.Icon24ClockOutline,{className:(0,l.getColorClass)("color_accent_blue")});default:return(0,o.jsx)(s.Icon24CheckCircleOn,{className:(0,l.getColorClass)("color_accent_blue")})}}},311515:(e,t,a)=>{a.d(t,{IconButton:()=>s});var o=a(474848),r=a(8520),i=a(595154),n=a(776696);const s=({className:e,children:t,...a})=>(0,o.jsx)(i.IconButton,{className:(0,r.classNames)(n.default.button,e),...a,children:t})},917702:(e,t,a)=>{a.d(t,{IconButton:()=>o.IconButton});var o=a(311515)},584859:(e,t,a)=>{a.d(t,{VirtualList:()=>d});var o=a(474848),r=a(296540),i=a(694743),n=a(72788),s=a(8520),l=a(293721),c=a(104316);const d=({Item:e,items:t})=>{const{appCatalogService:a}=(0,i.useCatalogConfig)(),[d,u]=(0,r.useState)(!1),[_,p]=(0,r.useState)(0),m=(0,r.useRef)(null),g=(0,r.useRef)(null),S=(0,l.useStore)(a.postsService.$postExpandedStates);(0,r.useEffect)((()=>{const e=m.current;if(!e)return;const t=(0,s.throttle)((()=>{const t=(0,n.getScrollTop)();u((a=>!t&&a?a:t<=e.offsetTop+e.offsetHeight+800&&t+window.innerHeight>=e.offsetTop-800))}),50);return t(),window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)}),[]);const v=(0,r.useCallback)((0,s.throttle)((e=>{const t=e.contentRect.height??e.target.clientHeight;t&&p(t)}),50),[]);(0,r.useEffect)((()=>{if(!g.current||!d||_)return;const e=new ResizeObserver((e=>{e.forEach(v)}));return e.observe(g.current),()=>e.disconnect()}),[v,d]),(0,r.useEffect)((()=>{d&&g.current&&p(g.current.clientHeight)}),[S]);const h={"--virtual-list-height":_?`${_}px`:"100%"};return(0,o.jsx)("div",{ref:m,className:c.default.root,style:h,children:(0,o.jsx)("div",{className:(0,s.classNames)(_&&c.default.viewport),children:d&&(0,o.jsx)("div",{ref:g,children:t.map((t=>(0,r.createElement)(e,{...t,key:t.id})))})})})}},446726:(e,t,a)=>{a.d(t,{VirtualList:()=>o.VirtualList});var o=a(584859)},540474:(e,t,a)=>{a.d(t,{CatalogSnackbar:()=>o.CatalogSnackbar,VirtualList:()=>r.VirtualList});a(917702);var o=a(489569),r=a(446726)},189776:(e,t,a)=>{a.d(t,{CRITERIA_PARAMS_REG_EXP:()=>o,FAVORITE_SOURCES:()=>i,SNACKBAR_EVENTS:()=>r});const o=/^\w\[(.*)]$/,r={ADD_TO_FAVE:"ADD_TO_FAVE",REMOVE_FROM_FAVE:"REMOVE_FROM_FAVE",ADD_TO_MY:"ADD_TO_MY",REMOVE_FROM_MY:"REMOVE_FROM_MY",REMOVE_FROM_GROUP:"REMOVE_FROM_GROUP",ADD_TO_PLAYLIST:"ADD_TO_PLAYLIST",ADD_TO_PLAYLISTS:"ADD_TO_PLAYLISTS",REMOVE_FROM_PLAYLIST:"REMOVE_FROM_PLAYLIST",REMOVE_FROM_PLAYLISTS:"REMOVE_FROM_PLAYLISTS",DELETE_PLAYLIST:"DELETE_PLAYLIST",PLAYLIST_SAVED:"PLAYLIST_SAVED",COPY_LINK:"COPY_LINK",COPY_ERID:"COPY_ERID",ORD_ADDED:"ORD_ADDED",REMOVE_FROM_HISTORY:"REMOVE_FROM_HISTORY",CLEAR_VIEWING_HISTORY:"CLEAR_VIEWING_HISTORY",ONBOARDING_RELOAD_CATALOG:"ONBOARDING_RELOAD_CATALOG",UPLOAD_SUCCESS:"UPLOAD_SUCCESS",UPLOAD_PROGRESS:"UPLOAD_PROGRESS",VIDEO_SAVED:"VIDEO_SAVED",ERROR:"ERROR"},i={VIDEO_PLAYER_MODAL:"video_player_modal",VIDEO_PLAYER_BUTTON:"video_player_button",VIDEO_CARD_MODAL:"video_card_modal",VIDEO_CARD_BUTTON:"video_card_button",SNACKBAR:"snackbar"}},520713:(e,t,a)=>{a(474848),a(694743),a(610989),a(480958),a(926436),a(175712),a(569658)},857867:(e,t,a)=>{a.d(t,{getCatalogUserDescription:()=>n});var o=a(474848),r=a(480958),i=a(926436);const n=({friendsDescription:e,descriptions:t,friendsPhotos:a,userStackSize:n="s"})=>{const s=[],l=e?.text,[c,d]=t?.map((e=>e.text))||[];return!c||a.length&&!l||s.push((0,o.jsx)(r.TextClamp,{lines:1,children:c})),d?s.push((0,o.jsx)(r.TextClamp,{lines:1,children:d})):a.length&&(l||c)&&s.push((0,o.jsx)(i.UsersStack,{photos:a,size:n,children:(0,o.jsx)(r.TextClamp,{lines:1,children:l||c})})),s}},948659:(e,t,a)=>{a(520713),a(857867)},172834:(e,t,a)=>{a.d(t,{prepareSpellcheck:()=>o});const o=e=>{const t={...e};return t.title&&(t.title=t.title.replace(/\$query/g,"")),t.suggest&&(t.suggest=t.suggest.replace(/\$search_action/g,"")),t}},781281:(e,t,a)=>{a.d(t,{FAVORITE_SOURCES:()=>r.FAVORITE_SOURCES,SNACKBAR_EVENTS:()=>r.SNACKBAR_EVENTS,VirtualList:()=>o.VirtualList,chunks:()=>i.chunks,getObjectPropertyNumber:()=>i.getObjectPropertyNumber,getObjectPropertyString:()=>i.getObjectPropertyString,getUrlWithTrackCode:()=>i.getUrlWithTrackCode});var o=a(540474),r=(a(948659),a(189776)),i=a(596104)},596104:(e,t,a)=>{a.d(t,{chunks:()=>u,extractIds:()=>d,fromQueryObjectField:()=>c,getAvatarOwnerSrc:()=>_,getObjectPropertyNumber:()=>m,getObjectPropertyString:()=>p,getUrlWithTrackCode:()=>l});var o=a(189776),r=a(240751),i=a(694743),n=a(8520);const s=e=>{switch(e){case i.CatalogType.SEARCH:return"search_track_code";case i.CatalogType.VIDEO:return"video_track_code";case i.CatalogType.GROUPS:return"trackcode";default:return"search_track_code"}},l=(e,t,a)=>t&&a?(0,r.makeUrl)(e,{[s(a)]:t,from:a}):e,c=(e="")=>{const t=decodeURI(e);let a=t;return t.startsWith("?")&&(a=a.substr(1)),a.split("&").reduce(((e,t)=>{let[a="",r=""]=t.split("=");if(o.CRITERIA_PARAMS_REG_EXP.test(a)){const e=a.match(o.CRITERIA_PARAMS_REG_EXP);a=e?.length&&e[1]?e[1]:""}return{...e,[a]:r}}),{})},d=e=>{const[t,a]=`${e}`.split("_");return[+t,+a]};function*u(e,t){for(let a=0;a<e.length;a+=t)yield e.slice(a,a+t)}const _=e=>e.photo_100||e.photo_200,p=(e,t)=>{if((0,n.isObject)(e)&&(0,n.isString)(e[t]))return e[t]},m=(e,t)=>{if((0,n.isObject)(e)&&(0,n.isNumber)(e[t]))return e[t]}},767971:(e,t,a)=>{a.d(t,{Action:()=>n});var o=a(474848),r=a(700782),i=a(296540);const n=({action:e,dataTestId:t,...a})=>{if(!e)return(0,o.jsx)(i.Fragment,{});const n=(0,r.getAction)(e);return(0,o.jsx)(n,{...a,action:e,dataTestId:t})}},472064:(e,t,a)=>{a.d(t,{BlockFilter:()=>u});var o=a(474848),r=a(296540),i=a(753457),n=a(293721),s=a(551090),l=a(123083),c=a(559713);const d=e=>`catalog-action-${e}`,u=({layout:e,action:t})=>{const{appCatalogService:a}=(0,l.useCatalogConfig)(),u=(0,n.useStore)(a.actionsService.$selectedAction);switch((0,r.useEffect)((()=>{u?.replacement_id&&document.getElementById(d(u.replacement_id))?.scrollIntoView({block:"nearest",behavior:"smooth",inline:"center"})}),[u?.replacement_id]),e){case s.CatalogBlockLayoutName.HORIZONTAL_BUTTONS:case s.CatalogBlockLayoutName.SLIDER:return(0,o.jsx)(r.Fragment,{children:(t.options||[]).map((e=>{const t=e.icon_sizes?.[0]?.url,r=u?e.replacement_id===u.replacement_id:1===e.selected;return(0,o.jsx)(i.SubnavigationButton,{"data-testid":"block_filter",id:d(e.replacement_id),className:c.default.root,selected:r,mode:r?"tertiary":"outline",before:t&&(0,o.jsx)("img",{className:c.default.icon,alt:e.text,src:t}),onClick:()=>(e=>{e.replacement_id!==u?.replacement_id&&a.actionsService.selectAction(e)})(e),children:e.text},e.replacement_id)}))});default:return(0,o.jsx)(r.Fragment,{})}}},242159:(e,t,a)=>{a.d(t,{BlockFilter:()=>o.BlockFilter});var o=a(472064)},556912:(e,t,a)=>{a.d(t,{ClearRecentGroups:()=>p});var o=a(474848),r=a(595154),i=a(234337),n=a(75123),s=a(695290),l=a(273555),c=a(123083),d=a(293721),u=a(551090),_=a(610989);const p=({action:e})=>{const{appCatalogService:t}=(0,c.useCatalogConfig)(),a=(0,c.useCollectClick)(),p=(0,d.useStore)(t.pageService.$catalogType),m=(0,l.useRefLogView)({type:s.EventItemType.CATALOG_ITEM,trackCode:e.track_code});return(0,o.jsx)(r.IconButton,{"data-testid":"clear_recent_groups",getRootRef:m,onClick:()=>{if(a({track_code:e.track_code,type:s.EventItemType.CATALOG_ITEM,action:s.SearchClickActionMap.REMOVE_RECENT}),t.catalogService.fireRemoveBlocks(e.target_block_ids||[]),p===u.CatalogType.SEARCH)return t.searchRecentService.fireClearSearchRecent({});t.searchRecentService.fireGroupsRemoveRecent({})},noPadding:!0,"aria-label":_.getLang("groups_catalog_header_aria_label_clear_recent"),children:(0,o.jsx)(n.Icon24Dismiss,{className:(0,i.getColorClass)("color_icon_secondary")})})}},995514:(e,t,a)=>{a.d(t,{ClearRecentGroups:()=>o.ClearRecentGroups});var o=a(556912)},633382:(e,t,a)=>{a.d(t,{CreatePlaylist:()=>l});var o=a(474848),r=a(785118),i=a(533048),n=a(694430),s=a(610989);const l=({action:e})=>{const t=e.owner_id??window.vk.id;return(0,o.jsx)(r.Div,{children:(0,o.jsx)(i.Button,{before:(0,o.jsx)(n.Icon24Add,{}),mode:"secondary",stretched:!0,href:`/video?action=add_playlist&owner_id=${t}`,size:"m",children:s.getLang("mobile_video_showcase_create_playlist")})})}},765762:(e,t,a)=>{a.d(t,{CreatePlaylist:()=>o.CreatePlaylist});var o=a(633382)},971118:(e,t,a)=>{a.d(t,{GroupsMyGroupsTabs:()=>u});var o=a(474848),r=a(296540),i=a(428918),n=a(320324),s=a(358678),l=a(293721),c=a(551090),d=a(123083);const u=({layout:e,action:t})=>{const{appCatalogService:a}=(0,d.useCatalogConfig)(),u=(0,l.useStore)(a.actionsService.$selectedAction);return t.options&&e===c.CatalogBlockLayoutName.LIST?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.Spacing,{size:4}),(0,o.jsx)(n.Tabs,{children:t.options.map((e=>{const t=u?e.replacement_id===u.replacement_id:1===e.selected,r=e.badge?.text?Number(e.badge.text):void 0;return(0,o.jsx)(s.TabsItem,{"data-testid":"tabs_item",id:(i=e.replacement_id,`catalog-action-${i}`),selected:t,status:r,onClick:()=>(e=>{e.replacement_id!==u?.replacement_id&&a.actionsService.selectAction(e)})(e),children:e.text},e.replacement_id);var i}))})]}):(0,o.jsx)(r.Fragment,{})}},380418:(e,t,a)=>{a.d(t,{GroupsMyGroupsTabs:()=>o.GroupsMyGroupsTabs});var o=a(971118)},680656:(e,t,a)=>{a.d(t,{HideBlock:()=>u});var o=a(474848),r=a(52509),i=a(293721),n=a(296540),s=a(610989),l=a(349826),c=a(765668),d=a(694743);const u=({action:e})=>{const{appCatalogService:t}=(0,d.useCatalogConfig)(),a=(0,i.useEvent)(t.catalogService.fireHideBlock),u=(0,n.useRef)(null),_=s.getLang("global_hide"),p=(0,n.useCallback)((()=>{e?.block_id&&a(e.block_id)}),[e.block_id]);return(0,o.jsx)(l.DropdownActionSheet,{offsetByMainAxis:-7,placement:"bottom-end",content:(0,o.jsx)(l.DropdownActionSheet.Item,{onClick:p,children:_},_),children:(0,o.jsx)(c.Link,{mode:"tertiary",getRootRef:u,children:(0,o.jsx)(r.Icon24MoreHorizontal,{})})})}},219885:(e,t,a)=>{a.d(t,{HideBlock:()=>o.HideBlock});var o=a(680656)},726984:(e,t,a)=>{a.d(t,{Onboarding:()=>g});var o=a(474848),r=a(296540),i=a(533048),n=a(380118),s=a(293721),l=a(753457),c=a(256195),d=a(525652),u=a(610989),_=a(682534),p=a(707249),m=a(694743);const g=({action:e})=>{const{appCatalogService:t}=(0,m.useCatalogConfig)(),a=(0,s.useStore)(t.onboardingService.$onboardingOptions),g=(0,s.useStore)(t.onboardingService.$onboardingStatus),S=a.some((e=>!!e.selected)),v=e.title,h=e.block_id;(0,r.useEffect)((()=>{t.onboardingService.fireInitOptions(e.options||[])}),[e.options]);return(0,o.jsxs)(o.Fragment,{children:[(g.status===_.OnboardingResponseStatus.IDLE||g.status===_.OnboardingResponseStatus.PENDING)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:p.default.options,children:a.map((e=>(0,o.jsx)(l.SubnavigationButton,{size:"m",mode:"primary",selected:!!e.selected,onClick:()=>t.onboardingService.fireToggleOption(e),children:e.text},e.replacement_id)))}),S&&(0,o.jsx)(i.Button,{onClick:()=>{const e=a.filter((e=>!!e.selected)).map((e=>e.replacement_id)).join(",");h&&t.onboardingService.fireSaveOptions({selection_ids:e,block_id:h})},loading:g.status===_.OnboardingResponseStatus.PENDING,size:"m",stretched:!0,className:p.default.saveButton,children:v})]}),g.status===_.OnboardingResponseStatus.SUCCESS&&(0,o.jsxs)("div",{className:p.default.doneBox,children:[(0,o.jsx)(c.Icon56LikeOutline,{className:p.default.doneBoxIcon}),(0,o.jsx)(n.Headline,{className:p.default.headlineDone,children:g.message})]}),g.status===_.OnboardingResponseStatus.ERROR&&(0,o.jsxs)("div",{className:p.default.doneBox,children:[(0,o.jsx)(d.Icon56ErrorOutline,{className:p.default.doneBoxIcon}),(0,o.jsx)(n.Headline,{className:p.default.headlineDone,children:u.getLang("mobile_video_global_error")})]})]})}},860613:(e,t,a)=>{a.d(t,{Onboarding:()=>o.Onboarding});var o=a(726984)},161824:(e,t,a)=>{a.d(t,{OpenSearchTab:()=>p});var o=a(474848),r=a(296540),i=a(765668),n=a(596104),s=a(695290),l=a(551090),c=a(123083),d=a(273555),u=a(271192),_=a(523481);const p=({action:e})=>{const{navGo:t}=(0,c.useCatalogConfig)(),a=(0,c.useCollectClick)(),p=(0,d.useRefLogView)({type:s.EventItemType.CATALOG_ITEM,trackCode:e.track_code}),m=(0,n.fromQueryObjectField)(window.location.search),g=(0,u.encodeUrlSearchParams)({q:m.q},"&"),S=(0,r.useMemo)((()=>{switch(e.search_tab){case"groups":return`${l.OPEN_SEARCH_TAB_ACTION_URL.GROUPS}${g}`;case"people":return`${l.OPEN_SEARCH_TAB_ACTION_URL.PEOPLE}${g}`;case"video":case"videos":return`${l.OPEN_SEARCH_TAB_ACTION_URL.VIDEO}${g}`;case"mini_apps":return`${l.OPEN_SEARCH_TAB_ACTION_URL.SERVICES}${g}`;case"games":return`${l.OPEN_SEARCH_TAB_ACTION_URL.GAMES}${g}`;case"music":return`${l.OPEN_SEARCH_TAB_ACTION_URL.MUSIC}${g}`;case"clips":return`${l.OPEN_SEARCH_TAB_ACTION_URL.CLIPS}${g}`;default:return""}}),[e]),v=(0,r.useCallback)((o=>{o.preventDefault(),a({track_code:e.track_code,type:s.EventItemType.CATALOG_ITEM,action:s.SearchClickActionMap.TAP_SHOW_ALL}),t(S)}),[e,S]);return(0,o.jsx)(i.Link,{"data-testid":"open_search_tab",getRootRef:p,href:S,onClick:v,className:_.default.link,children:e.title})}},780463:(e,t,a)=>{a.d(t,{OpenSearchTab:()=>o.OpenSearchTab});var o=a(161824)},609768:(e,t,a)=>{a.d(t,{OpenSection:()=>p});var o=a(474848),r=a(595154),i=a(765668),n=a(273555),s=a(293721),l=a(695290),c=a(123083),d=a(240751),u=a(642790),_=a(694743);const p=({action:e,layout:t,ariaLabel:a,dataTestId:p})=>{const{appCatalogService:m}=(0,c.useCatalogConfig)(),g=(0,s.useStore)(m.pageService.$catalogType),S=(0,n.useRefLogView)({type:l.EventItemType.CATALOG_ITEM,trackCode:e.track_code}),v=(0,c.useCollectClick)(),h=t===_.CatalogBlockLayoutName.HEADER_LARGE&&g===_.CatalogType.GROUPS?void 0:e?.action?.url,C=e.section_id,f=(0,u.getActionIcon)(e.icon);if(f)return(0,o.jsx)(r.IconButton,{noPadding:!0,href:h,"aria-hidden":!h,"aria-label":a,children:f});const I=(()=>{if(h)return e?.action?.type===_.CatalogActionType.OPEN_URL?(0,_.getUrlWithTrackCode)((0,d.makeUrl)(h,{section_id:C||""}),e.track_code,g):(0,d.makeUrl)(h,{section_id:C||"",from:g})})();return(0,o.jsx)(i.Link,{"data-testid":Boolean(p)?p:"open_section",getRootRef:S,href:I,onClick:()=>{v({action:l.SearchClickActionMap.TAP_SHOW_ALL,track_code:e.track_code,type:l.EventItemType.CATALOG_ITEM})},children:e.title})}},526739:(e,t,a)=>{a.d(t,{OpenSection:()=>o.OpenSection});var o=a(609768)},642790:(e,t,a)=>{a.d(t,{getActionIcon:()=>s});var o=a(474848),r=a(133524),i=a(234337),n=a(551090);const s=e=>e===n.CatalogActionIcons.CHEVRON_RIGHT_CIRCLE_28?(0,o.jsx)(r.Icon28ChevronRightCircle,{className:(0,i.getColorClass)("color_icon_secondary")}):null},719124:(e,t,a)=>{a.d(t,{OpenSectionSliderCell:()=>u});var o=a(474848),r=a(347112),i=a(533048),n=a(380118),s=a(140083),l=a(123083),c=a(695290),d=a(5549);const u=e=>{const{title:t,section_id:a,track_code:u,action:_}=e.action,p=(0,l.useCollectClick)(),m=_?.url?_?.url+(a?`?section_id=${a}`:""):void 0;return(0,o.jsx)("div",{className:d.default.openSectionSliderCell,children:(0,o.jsxs)(r.HorizontalCell,{"data-testid":"open_section_slider_cell",href:m,onClick:()=>{p({action:c.SearchClickActionMap.TAP_SHOW_ALL,track_code:u,type:c.EventItemType.CATALOG_ITEM})},className:d.default.openSectionSliderCard,children:[(0,o.jsx)(i.Button,{appearance:"accent",mode:"tertiary",className:d.default.openSectionSliderCellButton,children:(0,o.jsx)(s.Icon24ChevronCompactRight,{className:d.default.openSectionSliderCellButtonIcon})}),(0,o.jsx)(n.Text,{className:d.default.openSectionSliderCellText,children:t})]})})}},992800:(e,t,a)=>{a.d(t,{PlayVideosFromBlock:()=>u});var o=a(474848),r=a(293721),i=a(800483),n=a(610989),s=a(296540),l=a(533048),c=a(123083),d=a(695290);const u=({action:e})=>{const{appCatalogService:t}=(0,c.useCatalogConfig)(),a=(0,r.useStore)(t.catalogService.$catalog),u=(0,c.useCollectClick)(),_=(0,s.useMemo)((()=>a?.sections?.find((({id:e})=>e===a?.default_section))),[a?.sections,a?.default_section]),p=(0,s.useMemo)((()=>_?.blocks?.find((t=>t.id===e.block_id&&t.videos_ids?.length))?.videos_ids?.[0]),[_]);return(0,o.jsx)(l.Button,{before:(0,o.jsx)(i.Icon24Play,{}),appearance:"overlay",mode:"primary",stretched:!0,href:p?`/video${p}`:"",onClick:()=>{u?.({action:d.SearchClickActionMap.PLAY_ALL_OUT,track_code:e?.track_code,type:d.EventItemType.VIDEO})},size:"m",children:n.getLang("mobile_video_playlist_play")})}},267659:(e,t,a)=>{a.d(t,{PlayVideosFromBlock:()=>o.PlayVideosFromBlock});var o=a(992800)},331206:(e,t,a)=>{a.d(t,{SearchShowMore:()=>c});var o=a(474848),r=a(753457),i=a(972289),n=a(610989),s=a(123083),l=a(293721);const c=({action:e,next_from:t})=>{const{appCatalogService:a}=(0,s.useCatalogConfig)(),c=(0,l.useUnit)(a.catalogService.fireGetBlockItems);return(0,l.useUnit)(a.catalogService.CatalogGetBlockItemsFx.pending)?(0,o.jsx)(r.PanelSpinner,{size:"regular"}):(0,o.jsx)(r.CellButton,{centered:!0,after:(0,o.jsx)(i.Icon16DropdownOutline,{}),onClick:()=>{e.block_id&&c({block_id:e.block_id,start_from:t})},children:n.getLang("search_show_more")})}},289048:(e,t,a)=>{a.d(t,{ShowFilters:()=>m});var o=a(474848),r=a(753457),i=a(741583),n=a(985441),s=a(293721),l=a(695290),c=a(296540),d=a(123083),u=a(445248),_=a(380118),p=a(706777);const m=({action:e})=>{const{appCatalogService:t}=(0,d.useCatalogConfig)(),{appliedFiltersCount:a,setFilterModal:m}=(0,d.useCatalogSearch)(),g=(0,d.useCollectClick)(),S=(0,s.useStore)(t.pageService.$pageId);return(0,o.jsx)(u.SimpleCell,{"data-testid":"show_filters",className:p.default.root,onClick:()=>{g({track_code:e.track_code,type:l.EventItemType.CATALOG_ITEM,action:l.SearchClickActionMap.OPEN_FILTERS}),m(S)},before:(0,o.jsx)(i.Icon24Filter,{className:p.default.iconBefore}),after:(0,o.jsxs)(c.Fragment,{children:[!!a&&(0,o.jsx)(r.Counter,{mode:"primary",children:a}),(0,o.jsx)(n.Icon24ChevronRight,{})]}),children:(0,o.jsx)(_.Headline,{className:p.default.headline,children:e.title})})}},238048:(e,t,a)=>{a.d(t,{ShowFilters:()=>o.ShowFilters});var o=a(289048)},709668:(e,t,a)=>{a.d(t,{ToggleAlbumSubscription:()=>m});var o=a(474848),r=a(533048),i=a(753457),n=a(309496),s=a(824835),l=a(610989),c=a(293721),d=a(123083),u=a(27995),_=a(33362),p=a(695290);const m=({id:e,action:t})=>{const{appCatalogService:a}=(0,d.useCatalogConfig)(),{openUnauthorizedMoreBox:m}=(0,d.useCatalogVideo)(),[g,S]=e.toString().split("_"),v=(0,d.useCollectClick)(),h=(0,c.useStoreMap)({store:a.playlistService.$playlistItems,keys:[g,S],fn:(e,[t,a])=>e.find((({id:e,owner_id:o})=>e===+a&&o===+t))}),C=Boolean(h?.is_subscribed);if(!h)return null;if((0,u.isVKUserAnonymous)()){const e=e=>{m({source:_.UnauthorizedSourceType.SUBSCRIBE_VIDEO_AUTHOR,event:e})};return(0,o.jsx)(r.Button,{appearance:"overlay",mode:"outline",stretched:!0,onClick:e,size:"m",children:(0,o.jsx)(i.Paragraph,{children:l.getLang("mobile_video_playlist_subscribe_need_auth_action")})})}return(0,o.jsx)(r.Button,{before:C?(0,o.jsx)(n.Icon24CheckSquareOutline,{}):(0,o.jsx)(s.Icon24AddSquareOutline,{}),appearance:"overlay",mode:C?"secondary":"primary",stretched:!0,onClick:()=>{const e=h.owner_id,o=h.id;void 0!==e&&void 0!==o&&(C?(a.playlistService.unsubscribeFromPlaylist({owner_id:e,album_id:o}),v?.({action:p.SearchClickActionMap.UNSUBSCRIBE_OUT,track_code:t?.track_code,type:p.EventItemType.VIDEO_PLAYLIST})):(a.playlistService.subscribeOnPlaylist({owner_id:e,album_id:o}),v?.({action:p.SearchClickActionMap.SUBSCRIBE_OUT,track_code:t?.track_code,type:p.EventItemType.VIDEO_PLAYLIST})))},size:"m",children:C?l.getLang("mobile_groups_you_are_in_public"):l.getLang("mobile_groups_public_subscribe")})}},294714:(e,t,a)=>{a.d(t,{ToggleAlbumSubscription:()=>o.ToggleAlbumSubscription});var o=a(709668)},878711:(e,t,a)=>{a.d(t,{Action:()=>o.Action});var o=a(767971)},700782:(e,t,a)=>{a.d(t,{getAction:()=>v});var o=a(551090),r=a(526739),i=a(780463),n=a(995514),s=a(242159),l=a(860613),c=a(719124),d=a(238048),u=a(267659),_=a(294714),p=a(765762),m=a(380418),g=a(219885),S=a(331206);const v=e=>{switch(e.action?.type){case o.CatalogActionType.OPEN_URL:case o.CatalogActionType.OPEN_SECTION:return r.OpenSection;case o.CatalogActionType.OPEN_SEARCH_TAB:return i.OpenSearchTab;case o.CatalogActionType.CLEAR_RECENT_GROUPS:return n.ClearRecentGroups;case o.CatalogActionType.GROUPS_MY_GROUPS_TABS:return m.GroupsMyGroupsTabs;case o.CatalogActionType.BLOCK_FILTER:return s.BlockFilter;case o.CatalogActionType.OPEN_SECTION_SLIDER_CELL:return c.OpenSectionSliderCell;case o.CatalogActionType.ONBOARDING:return l.Onboarding;case o.CatalogActionType.SHOW_FILTERS:return d.ShowFilters;case o.CatalogActionType.PLAY_VIDEOS_FROM_BLOCK:return u.PlayVideosFromBlock;case o.CatalogActionType.TOGGLE_ALBUM_SUBSCRIPTION:return _.ToggleAlbumSubscription;case o.CatalogActionType.CREATE_ALBUM:return p.CreatePlaylist;case o.CatalogActionType.HIDE_BLOCK:return g.HideBlock;case o.CatalogActionType.SEARCH_SHOW_MORE:return S.SearchShowMore;default:return()=>null}}},439129:(e,t,a)=>{a.d(t,{AudioPlaylist:()=>I});var o=a(474848),r=a(293721),i=a(89409),n=a(347112),s=a(480958),l=a(380118),c=a(445248),d=a(441914),u=a(694743),_=a(952881),p=a(398038),m=a(123083),g=a(695290),S=a(273555),v=a(551090),h=a(679714),C=a(569964);const f="photo_270",I=({id:e,layout:t})=>{const{appCatalogService:a}=(0,u.useCatalogConfig)(),{ownerId:I}=(0,d.mapAPIRawIdToAudioIdentity)(String(e)),E=(0,u.useCatalogStoreMap)(a.musicPlaylistsService.$musicPlaylists,e),k=(0,u.useCatalogStoreMap)(a.groupsService.$groups,Math.abs(Number(I))),y=(0,r.useStoreMap)({store:a.profilesService.$profiles,keys:[I],fn:(e,[t])=>e.get(+t)}),T=E&&"playlist"===(0,i.getAudioPlaylistAlbumType)(E)?g.EventItemType.MUSIC_PLAYLIST:g.EventItemType.MUSIC_ALBUM,A=(0,m.useCollectClick)(),R=(0,S.useRefLogView)({type:T,trackCode:E?.track_code});if(!E)return null;const L=`/audio_playlist${e}`,{title:b,main_artists:x,thumbs:O,photo:w,year:N,track_code:M}=E,P=x?.length&&(0,p.createAuthorsString)(x)||(0,_.getOwnerName)(k||y);let V=O?.filter((e=>f in e)).map((e=>e[f]))||[];!V.length&&w&&f in w&&V.push(w[f]);const B=()=>{A({action:g.SearchClickActionMap.TAP,track_code:M,type:T})};switch(t){case v.CatalogBlockLayoutName.LARGE_SLIDER:return(0,o.jsx)(n.HorizontalCell,{size:"dynamic",header:(0,o.jsx)(s.TextClamp,{TypographyComponent:l.Text,className:C.default.title,lines:1,children:b}),onClick:B,getRootRef:R,href:L,subtitle:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s.TextClamp,{TypographyComponent:l.Subhead,className:C.default.subtitle,weight:"3",lines:1,children:[P," "]}),N&&(0,o.jsx)(l.Subhead,{weight:"3",className:C.default.year,children:N})]}),children:(0,o.jsx)(h.AudioPlaylistImage,{images:V,size:156})},e);case v.CatalogBlockLayoutName.LIST:return(0,o.jsx)(c.SimpleCell,{onClick:B,getRootRef:R,href:L,before:(0,o.jsx)(h.AudioPlaylistImage,{images:V,size:72}),subtitle:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.TextClamp,{TypographyComponent:l.Subhead,weight:"3",lines:1,children:P}),N&&(0,o.jsx)(l.Subhead,{weight:"3",className:C.default.year,children:N})]}),children:(0,o.jsx)(s.TextClamp,{TypographyComponent:l.Text,lines:1,children:b})});default:return null}}},679714:(e,t,a)=>{a.d(t,{AudioPlaylistImage:()=>s});var o=a(474848),r=a(181916),i=a(138358),n=a(624338);const s=({images:e,size:t})=>e?.length?(0,o.jsx)(i.GridImage,{size:t,src:e}):(0,o.jsx)(n.Image,{size:t,children:(0,o.jsx)(r.Icon56PlaylistOutline,{width:t/2,height:t/2})})},321903:(e,t,a)=>{a.d(t,{AudioPlaylist:()=>o.AudioPlaylist});var o=a(439129)},398038:(e,t,a)=>{function o(e){return e?.map((({name:e})=>e)).join(", ")}a.d(t,{createAuthorsString:()=>o})},622975:(e,t,a)=>{a.d(t,{Banner:()=>u});var o=a(474848),r=a(296540),i=a(560370),n=a(269285),s=a(878711),l=a(694743),c=a(30389),d=a(100822);const u=e=>{const t=(0,r.useMemo)((()=>(0,i.extractItemsIds)(e)),[e]),a=(0,i.getBlockByDataType)(e),u=(0,n.getEventItemTypeByDataType)(e);return e.data_type===l.CatalogBlockDataType.GROUPS_COLLECTION?(0,o.jsx)(c.DoubleStackedList,{...e}):(0,o.jsx)("div",{children:t.map((t=>(0,o.jsxs)("div",{className:d.default.banner,children:[(0,o.jsx)(a,{...t,layout:e.layout.name,type:u}),(0,o.jsx)("div",{className:d.default.actionsWrapper,children:e.actions?.map(((e,a)=>(0,o.jsx)(s.Action,{id:t.id,action:e},e.track_code||a)))})]},t.id)))})}},326155:(e,t,a)=>{a.d(t,{Banner:()=>o.Banner});var o=a(622975)},560370:(e,t,a)=>{a.d(t,{extractItemsIds:()=>i,getBlockByDataType:()=>n});var o=a(551090),r=a(558923);const i=e=>e.data_type===o.CatalogBlockDataType.ALBUMS&&e.albums_ids?.map((e=>({id:e})))||[],n=e=>e.data_type===o.CatalogBlockDataType.ALBUMS?r.Playlist:()=>null},991571:(e,t,a)=>{a.d(t,{Button:()=>s});var o=a(474848),r=a(296540),i=a(778576),n=a(269285);const s=e=>{const t=(0,r.useMemo)((()=>(0,i.extractItemsIds)(e)),[e]),a=(0,i.getBlockByDataType)(e),s=(0,n.getEventItemTypeByDataType)(e);return(0,o.jsx)(r.Fragment,{children:t.map((t=>(0,o.jsx)(a,{...t,layout:e.layout.name,type:s},t.id)))})}},68185:(e,t,a)=>{a.d(t,{Button:()=>o.Button});var o=a(991571)},778576:(e,t,a)=>{a.d(t,{extractItemsIds:()=>n,getBlockByDataType:()=>s});var o=a(551090),r=a(418562),i=a(878711);const n=e=>e.data_type===o.CatalogBlockDataType.ACTION&&e.actions?.map((e=>({id:(0,r.default)(),action:e})))||[],s=e=>e.data_type===o.CatalogBlockDataType.ACTION?i.Action:()=>null},384795:(e,t,a)=>{a.d(t,{CatalogSeparator:()=>i});var o=a(474848),r=a(216806);const i=()=>(0,o.jsx)(r.Separator,{})},606039:(e,t,a)=>{a.d(t,{CatalogSeparator:()=>o.CatalogSeparator});var o=a(384795)},219373:(e,t,a)=>{a.d(t,{Chips:()=>_});var o=a(474848),r=a(296540),i=a(380118),n=a(293721),s=a(8520),l=a(878711),c=a(682534),d=a(27472),u=a(694743);const _=({actions:e,layout:t,...a})=>{const{appCatalogService:_}=(0,u.useCatalogConfig)(),p=(0,n.useStore)(_.onboardingService.$onboardingStatus),{title:m,subtitle:g}=t;return(0,r.useEffect)((()=>{if(p.status===c.OnboardingResponseStatus.SUCCESS){const e=setTimeout((()=>_.onboardingService.fireCompleteOnboarding()),3e3);return()=>clearTimeout(e)}}),[p.status]),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:(0,s.classNames)(d.default.chips,p.status===c.OnboardingResponseStatus.COMPLETE&&d.default.chipsHidden,p.status===c.OnboardingResponseStatus.SUCCESS&&d.default.chipsFadedOut),children:[(p.status===c.OnboardingResponseStatus.IDLE||p.status===c.OnboardingResponseStatus.PENDING)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.Headline,{level:"1",className:d.default.chipsHeadline,children:m}),(0,o.jsx)(i.Subhead,{className:d.default.chipsSubhead,children:g})]}),e?.map(((e,o)=>(0,r.createElement)(l.Action,{...a,key:o,action:e,layout:t.name})))]})})}},201312:(e,t,a)=>{a.d(t,{Chips:()=>o.Chips});var o=a(219373)},925777:(e,t,a)=>{a.d(t,{DoubleStackedList:()=>_});var o=a(474848),r=a(296540),i=a(8520),n=a(673596),s=a(269285),l=a(694743),c=a(753457),d=a(126960),u=a(192924);const _=e=>{const t=(0,c.useAdaptivityWithJSMediaQueries)(),a=(0,n.getColumnsCount)(e.data_type,t),_=(0,n.getBlockByDataType)(e),p=(0,s.getEventItemTypeByDataType)(e),m=(0,r.useMemo)((()=>(0,n.extractItemsIds)(e).map((t=>(0,r.createElement)(_,{...t,key:t.id,layout:e.layout.name,type:p})))),[e]),g=e.data_type===l.CatalogBlockDataType.ALBUMS;return(0,o.jsx)("div",{className:(0,i.classNames)(u.default.root,g&&u.default.rootWithoutGrid),children:g?m:(0,o.jsx)(d.Grid,{columns:a,spacing:8,children:m.map((e=>(0,o.jsx)(d.Grid.Item,{children:e},e.key)))})})}},30389:(e,t,a)=>{a.d(t,{DoubleStackedList:()=>o.DoubleStackedList});var o=a(925777)},673596:(e,t,a)=>{a.d(t,{extractItemsIds:()=>s,getBlockByDataType:()=>l,getColumnsCount:()=>c});var o=a(551090),r=a(558923),i=a(798167),n=a(753457);const s=e=>{switch(e.data_type){case o.CatalogBlockDataType.ALBUMS:return e?.albums_ids?.map((e=>({id:e})))||[];case o.CatalogBlockDataType.GROUPS_ITEMS:case o.CatalogBlockDataType.GROUPS_COLLECTION:return e.group_items||[];default:return[]}},l=e=>{switch(e.data_type){case o.CatalogBlockDataType.ALBUMS:return r.Playlist;case o.CatalogBlockDataType.GROUPS_ITEMS:case o.CatalogBlockDataType.GROUPS_COLLECTION:return i.GroupItem;default:return()=>null}},c=(e,t)=>{const a=(e=>{switch(e){case o.CatalogBlockDataType.GROUPS_ITEMS:case o.CatalogBlockDataType.GROUPS_COLLECTION:return!0;default:return!1}})(e);if(a&&t.viewWidth){return t.viewWidth>=n.ViewWidth.SMALL_TABLET?3:2}return 2}},346117:(e,t,a)=>{a.d(t,{GroupCategory:()=>h});var o=a(474848),r=a(296540),i=a(293721),n=a(347112),s=a(548842),l=a(445248),c=a(624338),d=a(551090),u=a(273555),_=a(695290),p=a(8520),m=a(240751),g=a(929537),S=a(694743);const v=({id:e,layout:t,action:a,group_items:r=[]})=>{const{appCatalogService:v}=(0,S.useCatalogConfig)(),h=(0,i.useStoreMap)({store:v.groupCategoryItemsService.$groupCategoryItems,keys:[e],fn:(e,[t])=>e.find((({id:e})=>e===t))}),C=(0,u.useRefLogView)({type:_.EventItemType.GROUP_CATEGORY_ITEM,trackCode:a?.track_code});if(!h)return null;const f=a?.action?.url,I=a?.section_id,E=f?(0,m.makeUrl)(f,{section_id:I||"",from:_.EventItemType.GROUP_CATEGORY_ITEM}):void 0,k=h.images?(0,p.getPhotoSize)(h.images,44*window.devicePixelRatio)?.url:void 0;if(!k||!h.name)return null;switch(t){case d.CatalogBlockLayoutName.TRIPLE_STACKED_SLIDER:return(0,o.jsx)(n.HorizontalCell,{getRootRef:C,"data-testid":"group_category_item_triple_stacked_slider_card",size:"dynamic",children:(0,o.jsx)(s.CommunityCategoryItem,{mode:"horizontal",src:k,title:h.name,href:E})});case d.CatalogBlockLayoutName.SMALL_SLIDER:return(0,o.jsx)(n.HorizontalCell,{getRootRef:C,"data-testid":"group_category_item_small_slider_card",size:"dynamic",children:(0,o.jsx)(s.CommunityCategoryItem,{mode:"vertical",src:k,title:h.name,href:E})});case d.CatalogBlockLayoutName.LARGE_SLIDER:return(0,o.jsx)(g.GroupCategoryLargeItem,{categoryItem:h,href:E,getRootRef:C,groupItems:r});case d.CatalogBlockLayoutName.LIST:return(0,o.jsx)(l.SimpleCell,{"data-testid":"group_category_list_item",getRootRef:C,href:E,before:(0,o.jsx)(c.Image,{borderRadius:"l",size:44,src:k}),children:h.name});default:return null}},h=(0,r.memo)(v)},929537:(e,t,a)=>{a.d(t,{GroupCategoryLargeItem:()=>l});var o=a(474848),r=a(545898),i=a(8520),n=a(895132),s=a(309862);const l=({categoryItem:e,getRootRef:t,href:a,groupItems:l})=>{const c=(0,n.useCommunityCollectionItems)(l),d=e.images?(0,i.getPhotoSize)(e.images,307*window.devicePixelRatio)?.url:void 0,u={title:e.link_text||"",href:a};return(0,o.jsx)("div",{className:s.default.largeSliderCard,ref:t,"data-testid":"group_category_item_large_slider_card",children:(0,o.jsx)(r.CommunityCollection,{title:e.name,action:u,coverSrc:d,items:c})})}},164500:(e,t,a)=>{a.d(t,{GroupCategory:()=>o.GroupCategory});var o=a(346117)},388749:(e,t,a)=>{a.d(t,{GroupCollection:()=>m});var o=a(474848),r=a(456921),i=a(610989),n=a(545898),s=a(234337),l=a(551090),c=a(273555),d=a(694743),u=a(895132),_=a(671113),p=a(346800);const m=(0,r.observer)((function({id:e,layout:t,type:a,group_items:r=[],isSingleItem:m}){const{groupsService:g}=(0,d.useCatalogGroupsContext)(),S=g?.getCollection?.(String(e)),v=m?6:3,h=r.slice(0,v),C=(0,u.useCommunityCollectionItems)(h),f=(0,_.getTrackCodesArray)(h),I=(0,c.useRefLogView)({type:a,trackCodes:f});if(!S)return null;const E=(0,_.getGroupCollectionCover)(S,m),k={title:i.getLang("groups_catalog_view_all"),href:S.url};return t===l.CatalogBlockLayoutName.SLIDER_CARD?(0,o.jsx)("div",{className:m?p.default.singleSliderCard:p.default.sliderCard,ref:I,"data-testid":"group_community_item_slider_card",children:(0,o.jsx)(n.CommunityCollection,{title:(0,o.jsx)("span",{className:(0,s.getColorClass)("color_text_contrast"),children:S.name}),action:k,coverSrc:E,subtitle:S.short_description,items:C,columns:m?2:1})}):null}))},485852:(e,t,a)=>{a.d(t,{GroupCollection:()=>o.GroupCollection});var o=a(388749)},671113:(e,t,a)=>{a.d(t,{getGroupCollectionCover:()=>i,getTrackCodesArray:()=>r});var o=a(8520);const r=e=>e.reduce(((e,t)=>(t.track_code&&e.push(t.track_code),e)),[]),i=(e,t)=>t&&e.images_wide?(0,o.getPhotoSize)(e.images_wide,window.innerWidth*window.devicePixelRatio)?.url:e.images?(0,o.getPhotoSize)(e.images,300*window.devicePixelRatio)?.url:void 0},746361:(e,t,a)=>{a.d(t,{CommonFriends:()=>c});var o=a(474848),r=a(926436),i=a(569658),n=a(234337),s=a(610989),l=a(842382);const c=({group:e})=>{const t=e.friends?.count||0,a=e.friends?.preview_profiles?.reduce(((e,t)=>t.photo_50?[...e,t.photo_50]:e),[])??[],c=(0,l.getMembersCountText)(e.members_count);return t>0?(0,o.jsxs)(r.UsersStack,{photos:a,children:[c,(0,o.jsx)(i.InterpunctSeparator,{spacing:4}),s.getLang("groups_friends_count",t).replace("{count}",String(t))]}):(0,o.jsx)("span",{className:(0,n.getColorClass)("color_text_secondary"),children:c})}},121713:(e,t,a)=>{a.d(t,{GroupInvite:()=>S});var o=a(474848),r=a(456921),i=a(607200),n=a(414698),s=a(234337),l=a(551090),c=a(842382),d=a(694743),u=a(960384),_=a(746361),p=a(628042),m=a(246528),g=a(753457);const S=(0,r.observer)((function({id:e,layout:t}){const{groupsService:a,profilesService:r,platformVars:S}=(0,d.useCatalogGroupsContext)(),v=Number(e),h=a?.getGroup(v),C=r?.getProfile(Number(h?.invited_by)),f=a?.getGroup(Math.abs(Number(h?.invited_by)));if(!h||!C&&!f)return null;const{hasSenderAvatar:I,avatarSize:E}=S?.groupInviteConfig||{avatarSize:48},k=C?`${C.first_name} ${C.last_name}`:f?.name||f?.screen_name||"",y=(0,m.getInviterHref)(C,f),T=C?.photo_100||f?.photo_100,A=a?.getIsLeftGroup?.(v)??!1,R=a?.checkSubscriptionLoading(v)??!1;return t===l.CatalogBlockLayoutName.LIST?(0,o.jsx)(i.RichCell,{before:(0,o.jsx)(n.Avatar,{size:E,src:h.photo_100,href:(0,c.getGroupUrl)(h),"aria-hidden":!0,tabIndex:-1}),caption:(0,o.jsx)(p.GroupInviteSender,{inviterName:k,inviterHref:y}),after:I&&(0,o.jsx)(n.Avatar,{size:48,src:T,alt:""}),bottom:(0,o.jsx)(_.CommonFriends,{group:h}),actions:(0,o.jsx)(u.GroupInviteActions,{groupId:v,groupIsLeft:A,isMember:h.is_member,subscriptionLoading:R,isEvent:"event"===h.type}),disabled:!0,"aria-disabled":!1,role:"",children:(0,o.jsx)(g.Tappable,{href:(0,c.getGroupUrl)(h),className:(0,s.getColorClass)("color_text_primary"),hoverMode:"",hasActive:!1,children:h.name})}):null}))},960384:(e,t,a)=>{a.d(t,{GroupInviteActions:()=>u});var o=a(474848),r=a(123083),i=a(533048),n=a(234337),s=a(757550),l=a(819952),c=a(610989),d=a(344634);const u=({groupId:e,isMember:t,groupIsLeft:a,subscriptionLoading:u,isEvent:_})=>{const{platformVars:p,groupsService:m}=(0,r.useCatalogGroupsContext)(),{negativeButtonMode:g,hasEventNotSureButton:S}=p?.groupInviteConfig||{},v=_&&S;return t?(0,o.jsx)(i.Button,{mode:"link",size:"s",before:(0,o.jsx)(d.Icon16CheckOutline,{className:(0,n.getColorClass)("color_icon_secondary")}),onClick:l.cancelEvent,hasHover:!1,hasActive:!1,children:(0,o.jsx)("span",{className:(0,n.getColorClass)("color_text_secondary"),children:c.getLang("notifications_group_invite_accept_success")})}):a?(0,o.jsx)(i.Button,{mode:"link",size:"s",onClick:l.cancelEvent,hasHover:!1,hasActive:!1,children:(0,o.jsx)("span",{className:(0,n.getColorClass)("color_text_secondary"),children:c.getLang("notifications_group_invite_decline_success")})}):(0,o.jsxs)(s.ButtonGroup,{mode:"horizontal",gap:"m",stretched:!0,children:[(0,o.jsx)(i.Button,{mode:"primary",size:"s",onClick:t=>{(0,l.cancelEvent)(t),m?.subscribe({group_id:e})},disabled:u,children:v?c.getLang("groups_event_action_will_go"):c.getLang("global_accept")}),v&&(0,o.jsx)(i.Button,{mode:"secondary",size:"s",onClick:t=>{(0,l.cancelEvent)(t),m?.subscribe({group_id:e,not_sure:"1"})},disabled:u,children:c.getLang("groups_event_action_maybe_will_go")}),(0,o.jsx)(i.Button,{mode:g,size:"s",onClick:t=>{(0,l.cancelEvent)(t),m?.unsubscribe({group_id:e})},disabled:u,children:v?c.getLang("groups_catalog_decline_invitation_event"):c.getLang("groups_decline")})]})}},628042:(e,t,a)=>{a.d(t,{GroupInviteSender:()=>c});var o=a(474848),r=a(305082),i=a(765668),n=a(234337),s=a(610989),l=a(694743);const c=({inviterName:e,inviterHref:t})=>{const{platformVars:a}=(0,l.useCatalogGroupsContext)(),{isClickableSender:c}=a?.groupInviteConfig||{},d=s.getLang("groups_tag_user_invite").replace("{user}",e),u=s.getLang("groups_user_invite").replace("{user}",e);return c&&t?(0,o.jsx)(r.LangTag,{tag:"tag",Component:i.Link,href:t,target:"_blank","aria-label":u,children:d}):(0,o.jsx)(r.LangTag,{tag:"tag",className:(0,n.getColorClass)("color_text_primary"),"aria-label":u,children:d})}},11593:(e,t,a)=>{a.d(t,{CommonFriends:()=>r.CommonFriends,GroupInvite:()=>o.GroupInvite});var o=a(121713),r=a(746361)},246528:(e,t,a)=>{a.d(t,{getInviterHref:()=>r});var o=a(842382);const r=(e,t)=>e?`/id${e.id}`:t?(0,o.getGroupUrl)(t):""},152480:(e,t,a)=>{a.d(t,{FavoriteActionSheetItemWidget:()=>_});var o=a(474848),r=a(456921),i=a(245332),n=a(3110),s=a(770125),l=a(349826),c=a(759301),d=a(127126);const u=(0,r.observer)((function(){const{groupsFavoriteService:e,group:t}=(0,c.useGroupActionsSheetItemModel)(),{getLang:a}=(0,s.useLangs)(),r=t.is_favorite,d=e.getIsLoading(t.id);return void 0===r?null:(0,o.jsx)(l.DropdownActionSheet.Item,{before:r?(0,o.jsx)(i.Icon20BookmarkSlashOutline,{}):(0,o.jsx)(n.Icon20BookmarkOutline,{}),keepOpen:!0,loading:d,onClick:()=>e.toggle(t.id),children:a(r?"groups_bookmark_delete":"groups_bookmark_add")})})),_=(0,d.createWidget)(c.GroupActionsSheetItemModelProvider,u)},357715:(e,t,a)=>{a.d(t,{SubscribeActionSheetItemWidget:()=>m});var o=a(474848),r=a(456921),i=a(78060),n=a(349826),s=a(234337),l=a(770125),c=a(759301),d=a(127126),u=a(753843),_=a(694743);const p=(0,r.observer)((function(){const{groupsSubscribeService:e,group:t,trackCode:a}=(0,c.useGroupActionsSheetItemModel)(),{platformVars:r}=(0,_.useCatalogGroupsContext)(),{getLang:d}=(0,l.useLangs)(),p=e.getIsLoading(t.id);if(!t.is_member)return null;return(0,o.jsx)(n.DropdownActionSheet.Item,{loading:p,onClick:()=>{!t.is_member||t.is_closed!==u.GroupsGroupIsClosedEnumNames.CLOSED&&t.is_closed!==u.GroupsGroupIsClosedEnumNames.PRIVATE?e.leave({group_id:t.id,track_code:a}):r?.showConfirmModal?.({groupId:t.id,isAdmin:Boolean(t.is_admin),trackCode:a})},before:(0,o.jsx)(i.Icon20MinusSquareOutline,{className:(0,s.getColorClass)("color_icon_negative")}),children:d("groups_unsubscribe")})})),m=(0,d.createWidget)(c.GroupActionsSheetItemModelProvider,p)},563147:(e,t,a)=>{a.d(t,{WallSubscribeActionSheetItemWidget:()=>_});var o=a(474848),r=a(456921),i=a(233593),n=a(198475),s=a(770125),l=a(349826),c=a(759301),d=a(127126);const u=(0,r.observer)((function(){const{groupsWallSubscribeService:e,group:t}=(0,c.useGroupActionsSheetItemModel)(),{getLang:a}=(0,s.useLangs)(),r=t.is_subscribed,d=e.getIsLoading(t.id);return void 0===r?null:(0,o.jsx)(l.DropdownActionSheet.Item,{before:r?(0,o.jsx)(i.Icon20NotificationSlashOutline,{}):(0,o.jsx)(n.Icon20NotificationOutline,{}),keepOpen:!0,loading:d,onClick:()=>e.toggle(t.id),children:a(r?"wall_unsubscribe_from_posts":"wall_subscribe_to_posts")})})),_=(0,d.createWidget)(c.GroupActionsSheetItemModelProvider,u)},985463:(e,t,a)=>{a.d(t,{FavoriteActionSheetItemWidget:()=>r.FavoriteActionSheetItemWidget,SubscribeActionSheetItemWidget:()=>o.SubscribeActionSheetItemWidget,WallSubscribeActionSheetItemWidget:()=>i.WallSubscribeActionSheetItemWidget});var o=a(357715),r=a(152480),i=a(563147)},568118:(e,t,a)=>{a.d(t,{GroupActionsSheetItemModelProvider:()=>u,useGroupActionsSheetItemModel:()=>d});var o=a(331635),r=a(263507),i=a(574601),n=a(414527),s=a(327813),l=a(127126);class c{[l.init]({group:e,trackCode:t}){this._group=e,this._trackCode=t}get trackCode(){if(!this._trackCode)throw new Error("Trying to use before initialization");return this._trackCode}get group(){if(!this._group)throw new Error("Trying to use before initialization");return this._group}constructor(e,t,a){this.groupsSubscribeService=e,this.groupsFavoriteService=t,this.groupsWallSubscribeService=a,(0,s.makeAutoObservable)(this)}}c=(0,o.__decorate)([l.scope.transient(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===r.GroupsSubscribeService?Object:r.GroupsSubscribeService,void 0===i.GroupsFavoriteService?Object:i.GroupsFavoriteService,void 0===n.GroupsWallSubscribeService?Object:n.GroupsWallSubscribeService])],c);const{useModel:d,Provider:u}=(0,l.createProvider)(c)},759301:(e,t,a)=>{a.d(t,{GroupActionsSheetItemModelProvider:()=>o.GroupActionsSheetItemModelProvider,useGroupActionsSheetItemModel:()=>o.useGroupActionsSheetItemModel});var o=a(568118)},752157:(e,t,a)=>{a.d(t,{GroupItem:()=>O});var o=a(474848),r=a(596104),i=a(842382),n=a(551090),s=a(123083),l=a(273555),c=a(610989),d=a(347112),u=a(480958),_=a(280234),p=a(499130),m=a(646509),g=a(445248),S=a(414698),v=a(188718),h=a(234337),C=a(204733),f=a(133051),I=a(8520),E=a(517074),k=a(753843),y=a(847891),T=a(456921),A=a(296540),R=a(97424),L=a(37276),b=a(22832),x=a(441073);const O=(0,T.observer)((function({id:e,track_code:t,layout:a,type:T,itemIndex:O,description:w,counter:N,meta:M}){const{groupsService:P,platformVars:V}=(0,s.useCatalogGroupsContext)(),B=P?.getGroup(Number(e)),D=P?.checkSubscriptionLoading(Number(e)),j=(0,A.useCallback)((e=>{e?.stopPropagation(),e?.preventDefault(),B?.id&&!D&&(B.is_member||B.member_status===E.GroupsGroupFullMemberStatusEnumNames.HAS_SENT_A_REQUEST?P?.unsubscribe({group_id:B.id,track_code:t}):P?.subscribe({group_id:B.id,track_code:t}))}),[B,t,D]),G=(0,l.useRefLogView)({type:T,trackCode:t,meta:M});if(!B)return null;const F=V?.openStories,U=(0,r.getUrlWithTrackCode)((0,i.getGroupUrl)(B),t,n.CatalogType.GROUPS),H=!!O&&O>3,$=H?-1:0,z=B.cover?.images?(0,I.getPhotoSize)(B.cover.images,400*window.devicePixelRatio)?.url:void 0,W=y.Ranges.convertGroupIdToOwnerId(B.id),K=B.has_unseen_stories&&(B.is_member||B.is_closed===k.GroupsGroupIsClosedEnumNames.OPEN),Y=e=>{K&&F&&(e.metaKey||e.ctrlKey||(e.preventDefault(),e.stopPropagation(),F(`${W}/owner_feed${W}`,{source:"avatar"})))};switch(a){case n.CatalogBlockLayoutName.SMALL_LIST:return(0,o.jsx)(L.GroupItemActions,{group:B,href:U,onButtonClick:j,description:w,trackCode:t,showStoryHandler:Y,hasUnseenStories:K});case n.CatalogBlockLayoutName.SLIDER:return(0,o.jsx)(d.HorizontalCell,{size:"s",href:U,getRootRef:G,"data-testid":"group_item_slider",header:(0,o.jsx)(u.TextClamp,{lines:1,children:B.name}),"aria-label":B.name,noPadding:!0,children:(0,o.jsx)(_.RichAvatar,{size:n.SLIDER_AVATAR_SIZE_SM,nft:Boolean(B.is_nft_photo),src:B.photo_200,alt:"",children:Boolean(B.verified)&&(0,o.jsx)(_.RichAvatar.Badge,{children:(0,o.jsx)(x.RasterIcon24Verified,{alt:c.getLang("search_verified")})})})});case n.CatalogBlockLayoutName.SLIDER_MINIMALISTIC_CARD:case n.CatalogBlockLayoutName.SLIDER_CARD:return(0,o.jsx)("div",{className:b.default.sliderCard,ref:G,"data-testid":"group_item_slider_card",children:(0,o.jsx)(p.RecommendationBlock.Card,{stretched:!0,withBorder:!0,titleWeight:"2",badgeSize:"s",hideButtonIcon:!D,title:B.name||"",subtitle:B.activity||"",image:B.photo_400,href:U,badge:(0,i.getBadge)(B.members_count,B.friends),buttonLabel:B.is_member?c.getLang("groups_dd_you_in_group"):c.getLang("global_share_button_join_public"),buttonType:"primary",isButtonLoading:D,onButtonClick:j,isVerified:Boolean(B.verified),isButtonDone:Boolean(B.is_member),"aria-label":B.name,ariaHidden:H,tabIndex:$,buttonAriaHidden:H,buttonTabIndex:$})});case n.CatalogBlockLayoutName.COMPACT_LIST:return(0,o.jsx)(m.CommunityListItem,{subtitle:(0,i.getMembersCountText)(B.members_count),getRootRef:G,photo:B.photo_100,href:U,checked:Boolean(B.is_member),loading:D,isVerified:Boolean(B.verified),onSubscribeClick:j,buttonAriaLabel:Boolean(B.is_member)?c.getLang("groups_dd_you_in_group"):c.getLang("global_share_button_join_public"),ariaLabel:B.name,children:B.name});case n.CatalogBlockLayoutName.LARGE_LIST:return(0,o.jsx)(g.SimpleCell,{before:(0,o.jsx)(S.Avatar,{src:B.photo_100,size:48,alt:""}),getRootRef:G,subtitle:B.activity,badgeAfterTitle:Boolean(B.verified)&&(0,o.jsx)(C.Icon16Verified,{}),extraSubtitle:(0,i.getMembersCountText)(B.members_count),href:U,children:B.name});case n.CatalogBlockLayoutName.SLIDER_EVENT:return(0,o.jsx)("div",{className:b.default.sliderEvent,ref:G,"data-testid":"group_item_slider_event",children:(0,o.jsx)(v.EventCard,{title:(0,o.jsx)("span",{className:(0,h.getColorClass)("color_text_primary"),title:B.name,children:B.name}),avatar:B.photo_100,cover:z,href:U,descriptions:[{text:B.activity}],"aria-label":B.name,"aria-hidden":H,tabIndex:$})});case n.CatalogBlockLayoutName.STACKED_LIST:return(0,o.jsx)("div",{className:b.default.stacked,ref:G,"data-testid":"group_item_stacked_event",children:(0,o.jsx)(v.EventCard,{title:(0,o.jsx)("span",{className:(0,h.getColorClass)("color_text_primary"),title:B.name,children:B.name}),avatar:B.photo_100,cover:z,href:U,descriptions:[{text:B.activity}],"aria-label":B.name})});case n.CatalogBlockLayoutName.DOUBLE_STACKED_LIST_MINIMALISTIC_CARD:case n.CatalogBlockLayoutName.DOUBLE_STACKED_LIST:case n.CatalogBlockLayoutName.BANNER:return(0,o.jsx)("div",{className:b.default.stacked,ref:G,"data-testid":"group_item_double_stacked_list",children:(0,o.jsx)(p.RecommendationBlock.Card,{stretched:!0,withBorder:!0,titleWeight:"2",badgeSize:"s",hideButtonIcon:!D,title:B.name||"",subtitle:B.activity||"",image:B.photo_400,href:U,badge:(0,i.getBadge)(B.members_count,B.friends),buttonLabel:B.is_member?c.getLang("groups_dd_you_in_group"):c.getLang("global_share_button_join_public"),buttonType:"primary",isButtonLoading:D,onButtonClick:j,isVerified:Boolean(B.verified),isButtonDone:Boolean(B.is_member),"aria-label":B.name})});case n.CatalogBlockLayoutName.DOUBLE_LIST:return(0,o.jsx)(g.SimpleCell,{href:U,subtitle:B.activity,getRootRef:G,"data-testid":"group_item_list","aria-label":B.name,badgeAfterTitle:Boolean(B.verified)&&(0,o.jsx)(C.Icon16Verified,{}),after:(0,o.jsx)(R.GroupItemCounter,{value:N}),before:(0,o.jsx)(_.RichAvatar,{size:n.CATALOG_AVATAR_SIZE_M,src:(0,r.getAvatarOwnerSrc)(B),nft:Boolean(B.is_nft_photo),onClick:Y,"aria-hidden":!0,tabIndex:-1,alt:"",children:K&&(0,o.jsx)(_.RichAvatar.Outline,{appearance:"accent"})}),badgeBeforeSubtitle:Boolean(B.is_government_organization)&&(0,o.jsx)(f.Icon12Flag,{className:(0,h.getColorClass)("color_icon_tertiary")}),children:B.name});default:return null}}))},37276:(e,t,a)=>{a.d(t,{GroupItemActions:()=>C});var o=a(474848),r=a(456921),i=a(607200),n=a(280234),s=a(480958),l=a(380118),c=a(234337),d=a(765668),u=a(694743),_=a(97424),p=a(985463),m=a(8520),g=a(133051),S=a(610989),v=a(753843),h=a(22832);const C=(0,r.observer)((function({group:e,href:t,onButtonClick:a,trackCode:r,description:C,showStoryHandler:f,hasUnseenStories:I}){const{groupsService:E}=(0,u.useCatalogGroupsContext)(),k=E?.checkSubscriptionLoading(e.id),y=E?.getIsJoinedGroup?.(e.id),T=e.is_closed===v.GroupsGroupIsClosedEnumNames.PRIVATE;return(0,o.jsx)(i.RichCell,{disabled:!0,className:!e.is_member&&T?h.default.blur:"",before:(0,o.jsx)(n.RichAvatar,{size:u.CATALOG_AVATAR_SIZE_L,src:e.photo_200,nft:!!e?.is_nft_photo,href:t,onClick:f,children:I&&(0,o.jsx)(n.RichAvatar.Outline,{appearance:"accent"})}),rightAction:(0,o.jsx)(_.GroupItemAfter,{group:e,loading:k,canLeaveGroup:y,actionSheetContent:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.FavoriteActionSheetItemWidget,{group:e}),(0,o.jsx)(p.WallSubscribeActionSheetItemWidget,{group:e}),(0,o.jsx)(p.SubscribeActionSheetItemWidget,{group:e,trackCode:r})]}),toggleMembership:a}),caption:(0,o.jsx)(s.TextClamp,{TypographyComponent:l.Footnote,lines:1,children:e.is_government_organization?(0,o.jsxs)("div",{className:(0,m.classNames)(h.default.government,(0,c.getColorClass)("color_text_secondary")),children:[(0,o.jsx)(g.Icon12Flag,{className:h.default.governmentIcon}),(0,o.jsx)(l.Text,{weight:"2",children:S.getLang("search_search_government_label")})]}):C||e.activity}),bottom:(0,o.jsx)(_.GroupItemBottom,{membersCount:e.members_count,membersCountText:e.members_count_text}),children:Boolean(e.verified)?(0,o.jsx)(_.GroupItemVerifiedLabel,{href:t,groupName:e.name}):(0,o.jsx)(d.Link,{href:t,className:(0,c.getColorClass)("color_text_primary"),children:(0,o.jsx)(s.TextClamp,{TypographyComponent:l.Headline,level:"1",weight:"2",lines:1,children:e.name})})})}))},370428:(e,t,a)=>{a.d(t,{GroupItemAfter:()=>p});var o=a(474848),r=a(917702),i=a(610989),n=a(533048),s=a(828902),l=a(349826),c=a(234337),d=a(52509),u=a(753843),_=a(517074);const p=(0,a(456921).observer)((function({loading:e,canLeaveGroup:t,actionSheetContent:a,toggleMembership:p,group:m}){const g=m.is_closed===u.GroupsGroupIsClosedEnumNames.PRIVATE,S=m.is_closed===u.GroupsGroupIsClosedEnumNames.CLOSED,v=m.is_member,h="event"===m.type;if(m.ban_info||m.deactivated||g&&!v)return null;if(h&&S)return null;if(!v||t&&v){const t=()=>v?h?i.getLang("search_joined_event_group_btn"):i.getLang("search_joined_group_btn"):S?m.member_status===_.GroupsGroupFullMemberStatusEnumNames.HAS_SENT_A_REQUEST?i.getLang("groups_cancel_application"):i.getLang("groups_apply"):h?i.getLang("search_join_event_group_btn"):i.getLang("search_join_group_btn");return(0,o.jsx)(n.Button,{minWidth:134,mode:"secondary",loading:e,disabled:e,onClick:p,"data-testid":"desktop_group_item_button",children:t()})}return a?e?(0,o.jsx)(r.IconButton,{disabled:!0,size:40,children:(0,o.jsx)(s.Spinner,{stretched:!1})}):(0,o.jsx)(l.DropdownActionSheet,{restoreFocus:!1,width:225,placement:"bottom-end",content:a,children:(0,o.jsx)(r.IconButton,{size:40,"data-testid":"desktop_group_item_button","aria-label":i.getLang("global_more"),children:(0,o.jsx)(d.Icon24MoreHorizontal,{className:(0,c.getColorClass)("color_icon_secondary")})})}):null}))},729453:(e,t,a)=>{a.d(t,{GroupItemBottom:()=>l});var o=a(474848),r=a(480958),i=a(380118),n=a(234337),s=a(842382);const l=(0,a(296540).memo)((function({membersCount:e,membersCountText:t,text:a}){const l=t??e?(0,s.getMembersCountText)(e):a;if(l)return(0,o.jsx)(r.TextClamp,{lines:1,children:(0,o.jsx)(i.Text,{weight:"3",className:(0,n.getColorClass)("color_text_secondary"),children:l})})}))},636714:(e,t,a)=>{a.d(t,{GroupItemCounter:()=>i});var o=a(474848),r=a(753457);const i=({value:e,minCountForShowBadge:t=20})=>e?e>t?(0,o.jsx)(r.Badge,{mode:"new"}):(0,o.jsx)(r.Counter,{size:"s",children:e}):null},238848:(e,t,a)=>{a.d(t,{GroupItemVerifiedLabel:()=>u});var o=a(474848),r=a(456921),i=a(480958),n=a(380118),s=a(863358),l=a(765668),c=a(770125);const d="/verify",u=(0,r.observer)((function({groupName:e,href:t}){const{getLang:a}=(0,c.useLangs)();return(0,o.jsx)(i.TextClamp,{TypographyComponent:n.Headline,level:"1",weight:"2",lines:1,children:(0,o.jsx)(s.VerifiedLabel,{mode:"primary",href:t,iconSize:16,tooltip:{header:(0,o.jsx)(l.Link,{href:d,children:a("groups_catalog_verification_tooltip_title")}),text:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.Text,{children:a("groups_catalog_verification_tooltip_text")}),(0,o.jsx)(l.Link,{href:"/blog/verification",children:a("groups_catalog_verification_tooltip_blog_link")})]}),maxWidth:300},iconHref:d,children:e})})}))},97424:(e,t,a)=>{a.d(t,{GroupItemAfter:()=>o.GroupItemAfter,GroupItemBottom:()=>r.GroupItemBottom,GroupItemCounter:()=>n.GroupItemCounter,GroupItemVerifiedLabel:()=>i.GroupItemVerifiedLabel});var o=a(370428),r=a(729453),i=a(238848),n=a(636714)},798167:(e,t,a)=>{a.d(t,{GroupItem:()=>o.GroupItem});var o=a(752157)},842382:(e,t,a)=>{a.d(t,{getBadge:()=>s,getGroupUrl:()=>i,getMembersCountText:()=>n});var o=a(610989),r=a(542701);const i=e=>e.screen_name?`/${e.screen_name}`:`/club${e.id}`,n=(e=0)=>{const t=(0,r.formatCount)(e),a=e<1e3?e:0;return o.getLang("groups_X_app_users",a).replace(String(a),t)},s=(e,t)=>{if(!t||!t.count)return{text:n(e)};const a=t.preview_profiles?.reduce(((e,t)=>t.photo_50?[...e,t.photo_50]:e),[]);return{photos:a,text:o.getLang("groups_subscribed_friends",t.count)}}},388493:(e,t,a)=>{a.d(t,{HeaderCompact:()=>m});var o=a(474848),r=a(296540),i=a(488618),n=a(625134),s=a(878711),l=a(8520),c=a(476726),d=a(694743),u=a(166581),_=a(269285),p=a(991552);const m=({actions:e,layout:t,badge:a,...m})=>{const g=(0,c.partConfigEnabled)("search_enable_new_design_catalog_header"),S=(0,c.partConfigEnabled)("video_showcase_mvk_continue_watch_design_fixes"),v=(0,d.useScrollToBlockById)(m.id);return(0,o.jsxs)(o.Fragment,{children:[v,S?(0,o.jsx)(i.HeaderLayout,{className:p.default.header,aside:e?.map(((e,a)=>(0,r.createElement)(s.Action,{...m,key:e.track_code||a,action:e,layout:t.name,dataTestId:(0,_.getClipDataTestId)(e)}))),children:(0,o.jsx)(n.Header,{indicator:(0,o.jsx)(u.HeaderIndicator,{badge:a}),size:g?"large":"small",mode:g?"primary":"secondary",className:(0,l.classNames)(!g&&"CatalogHeaderCompact"),"data-testid":"catalog-header-section-block",children:t.title})}):(0,o.jsx)(n.Header,{indicator:(0,o.jsx)(u.HeaderIndicator,{badge:a}),size:g?"large":"small",mode:g?"primary":"secondary",className:(0,l.classNames)(p.default.header,!g&&"CatalogHeaderCompact"),aside:e?.map(((e,a)=>(0,r.createElement)(s.Action,{...m,key:e.track_code||a,action:e,layout:t.name,dataTestId:(0,_.getClipDataTestId)(e)}))),children:t.title})]})}},956485:(e,t,a)=>{a.d(t,{HeaderCompact:()=>o.HeaderCompact});var o=a(388493)},570629:(e,t,a)=>{a.d(t,{HeaderIndicator:()=>i});var o=a(474848),r=a(753457);const i=({badge:e})=>e?.text?"prominent"===e?.type?(0,o.jsx)(r.Counter,{size:"s",mode:"prominent",children:e.text}):(0,o.jsx)(o.Fragment,{children:e.text}):null},166581:(e,t,a)=>{a.d(t,{HeaderIndicator:()=>o.HeaderIndicator});var o=a(570629)},197865:(e,t,a)=>{a.d(t,{HeaderLarge:()=>_});var o=a(474848),r=a(296540),i=a(625134),n=a(624338),s=a(878711),l=a(585962),c=a(166581),d=a(293721),u=a(694743);const _=({actions:e,layout:t,badge:a,..._})=>{const{appCatalogService:p}=(0,u.useCatalogConfig)(),m=(0,d.useStore)(p.pageService.$catalogType)===u.CatalogType.GROUPS?(0,l.getOpenSectionHref)(e):void 0;return(0,o.jsx)(i.Header,{size:"large",href:m,mode:"primary",indicator:(0,o.jsx)(c.HeaderIndicator,{badge:a}),before:t.icon&&(0,o.jsx)(n.Image,{src:t.icon,size:28,borderRadius:"l"}),aside:e?.map(((e,a)=>(0,r.createElement)(s.Action,{..._,key:e.track_code||a,action:e,layout:t.name,ariaLabel:t.title}))),"aria-label":t.title,children:t.title})}},501811:(e,t,a)=>{a.d(t,{HeaderLarge:()=>o.HeaderLarge});var o=a(197865)},585962:(e,t,a)=>{a.d(t,{getOpenSectionHref:()=>o});const o=e=>e?.find((e=>"open_section"===e.action?.type))?.action?.url},595859:(e,t,a)=>{a.d(t,{Link:()=>R});var o=a(474848),r=a(476726),i=a(753457),n=a(932709),s=a(165753),l=a(280234),c=a(624338),d=a(347112),u=a(480958),_=a(445248),p=a(441073),m=a(555986),g=a(269285),S=a(764558),v=a(78510),h=a(551090),C=a(695290),f=a(10492),I=a(273555),E=a(123083),k=a(694743),y=a(422495),T=a(610989),A=a(464778);const R=({id:e,layout:t,type:a})=>{const{appCatalogService:R}=(0,E.useCatalogConfig)(),L=(0,E.useCollectClick)(),b=(0,k.useCatalogStoreMap)(R.linksService.$links,e),x=b?.meta?.track_code,O=(0,I.useRefLogView)({type:a,trackCode:x}),w=(0,n.useHelpHint)(s.AvailableHelpHints.ACCOUNT_HINT_VIDEO_WATCH_LATER_MENU),N=(0,n.useHelpHint)(s.AvailableHelpHints.ACCOUNT_HINT_VIDEO_WATCH_LATER_ACTION),M=(0,r.partConfigEnabled)("video_bookmarks_renaming_to_watch_later");if(!b)return null;const P=b?.url,V=()=>{L({track_code:x,type:a,action:C.SearchClickActionMap.TAP})},B=(0,f.getImageSrc)(t,b?.image);switch(t){case"slider":const e="verified"===b?.meta?.icon?(0,o.jsx)(p.RasterIcon24Verified,{alt:T.getLang("search_verified")}):void 0,t="mini_app"!==b?.meta?.content_type?(0,o.jsx)(l.RichAvatar,{size:h.SLIDER_AVATAR_SIZE_SM,src:B,nft:Boolean(b?.is_nft),children:e&&(0,o.jsx)(l.RichAvatar.Badge,{children:e})}):(0,o.jsx)(c.Image,{src:B,size:h.SLIDER_AVATAR_SIZE_SM,borderRadius:"l",children:e&&(0,o.jsx)(c.Image.Badge,{children:e})});return(0,o.jsx)(d.HorizontalCell,{"data-testid":"link_slider",getRootRef:O,size:"s",header:(0,o.jsx)(u.TextClamp,{lines:2,children:b.title}),href:P,onClick:V,children:t});case"triple_stacked_slider":return(0,o.jsx)(m.TripleStackedSliderLinkItem,{href:P,ref:O,avatarSrc:B,onClick:V,title:b.title||""});case"list":return(0,o.jsx)(_.SimpleCell,{"data-testid":"link_list",getRootRef:O,href:P,before:(0,f.isContentTypeUrl)(b)?(0,o.jsx)("div",{className:A.default.iconUrl,children:(0,o.jsx)(S.Icon28LinkOutline,{})}):(0,o.jsx)(c.Image,{size:h.CATALOG_AVATAR_SIZE_M,src:B,borderRadius:"l"}),after:(0,f.isArrowVisible)(b)?(0,o.jsx)(v.Icon28ChevronRightOutline,{}):void 0,subtitle:b.subtitle,onClick:V,children:b.title});case"small_list":return(0,o.jsx)(i.OnboardingTooltipContainer,{fixed:!0,children:(0,o.jsx)(_.SimpleCell,{"data-testid":"link_small_list",getRootRef:O,href:P,before:(0,g.testBookmarksSection)(P)&&w&&N&&M?(0,o.jsx)(y.MenuHelpHintTooltip,{helpHint:w,placement:"top-start",maxWidth:262,children:(0,o.jsx)("img",{className:A.default.iconSmall,src:B})}):(0,o.jsx)("img",{className:A.default.iconSmall,src:B}),expandable:"always",onClick:V,children:b.title})});default:return null}}},555986:(e,t,a)=>{a.d(t,{TripleStackedSliderLinkItem:()=>c});var o=a(474848),r=a(296540),i=a(204733),n=a(551090),s=a(445248),l=a(280234);const c=(0,r.forwardRef)((({href:e,onClick:t,title:a,isVerified:r,avatarSrc:c},d)=>(0,o.jsx)(s.SimpleCell,{"data-testid":"link_triple_stacked_slider",getRootRef:d,onClick:t,href:e,before:(0,o.jsx)(l.RichAvatar,{size:n.CATALOG_AVATAR_SIZE_M,src:c,onClick:t}),badgeAfterTitle:r?(0,o.jsx)(i.Icon16Verified,{}):null,children:a})));c.displayName="TripleStackedSliderLinkItem"},850933:(e,t,a)=>{a.d(t,{Link:()=>o.Link});var o=a(595859)},10492:(e,t,a)=>{a.d(t,{getImageSrc:()=>n,isArrowVisible:()=>i,isContentTypeUrl:()=>r});var o=a(7144);const r=e=>"url"===e.meta?.content_type,i=e=>!r(e)&&!["curator","artist"].includes(e?.meta?.content_type??""),n=(e,t)=>{if(!t||!t?.length)return"";const[a,r,i]=t;return"small_list"===e?i?.url??"":(0,o.isRetina)()&&r?.url?r.url:a?.url??""}},816711:(e,t,a)=>{a.d(t,{List:()=>h});var o=a(474848),r=a(296540),i=a(500774),n=a(753457),s=a(551090),l=a(269285),c=a(8520),d=a(700782),u=a(123083),_=a(293721),p=a(694743),m=a(235696),g=a(515029),S=a(554594);const v=e=>{switch(e.data_type){case s.CatalogBlockDataType.LINKS:return null;case s.CatalogBlockDataType.VIDEOS:return"CatalogList--small";case s.CatalogBlockDataType.NEWSFEED_ITEMS:return"CatalogList--statuses";case s.CatalogBlockDataType.SEARCH_ENTITY_ITEMS:return"card"===e.layout.style?(0,c.classNames)("CatalogList--no-bottom","CatalogList--entity-card"):(0,c.classNames)("CatalogList--no-bottom",S.default.searchEntityFlat,0===e.blockIndex&&S.default.searchEntityFlatFirst)}if(0===e.blockIndex)return"CatalogList--no-header"},h=e=>{const{blockResolvers:t,appCatalogService:a}=(0,u.useCatalogConfig)(),S=(0,_.useStore)(a.pageService.$catalogType),{data_type:h,layout:C,actions:f}=e,I=(0,_.useStore)(a.catalogService.$loadingBlockIds),E=t?.[C.name]?.(e)||(0,m.getBlockByDataType)(e),k=h===s.CatalogBlockDataType.CATALOG_SEARCH_SUGGESTION,y=h===s.CatalogBlockDataType.NEWSFEED_ITEMS,T=(0,l.getEventItemTypeByDataType)(e),A=I.includes(e.id),R=(0,r.useMemo)((()=>{const t=(0,l.extractItemsIds)(e),a=(0,l.getMaxItemsByBlock)(e);return a?[...(0,p.chunks)(t,a)]:[t]}),[e]);return(0,o.jsx)(o.Fragment,{children:R.map(((t,a)=>(0,o.jsxs)(i.Group,{"data-suggester-item":k,mode:"plain",separator:"hide",className:(0,c.classNames)("CatalogList",S===s.CatalogType.GROUPS&&"CatalogList--groups",v(e)),children:[f?.map(((t,a)=>{const o=(0,d.getAction)(t);return(0,r.createElement)(o,{...e,key:t.track_code||a,action:t,layout:C.name})})),A&&(0,o.jsx)(n.PanelSpinner,{}),!A&&(y&&(0,g.isResizeObserverSupported)()?(0,o.jsx)(p.VirtualList,{items:t,Item:E}):t.map((t=>(0,r.createElement)(E,{...t,key:t.id,layout:e.layout.name,block_id:e.id,blockActions:e.actions,type:T}))))]},t[0]?.id||a)))})}},548089:(e,t,a)=>{a.d(t,{List:()=>o.List});var o=a(816711)},235696:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>p});var o=a(551090),r=a(850933),i=a(456272),n=a(558923),s=a(395641),l=a(779313),c=a(587431),d=a(321903),u=a(164500),_=a(11593);const p=e=>{switch(e.data_type){case o.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS:return u.GroupCategory;case o.CatalogBlockDataType.GROUPS_INVITES:return _.GroupInvite;case o.CatalogBlockDataType.LINKS:return r.Link;case o.CatalogBlockDataType.VIDEOS:return i.Video;case o.CatalogBlockDataType.ALBUMS:return n.Playlist;case o.CatalogBlockDataType.SEARCH_SUGGESTIONS:return l.SearchSuggestion;case o.CatalogBlockDataType.CATALOG_SEARCH_SUGGESTION:return s.Suggestion;case o.CatalogBlockDataType.MUSIC_AUDIOS:return c.MusicAudios;case o.CatalogBlockDataType.MUSIC_PLAYLISTS:return d.AudioPlaylist;default:return()=>null}}},880921:(e,t,a)=>{a.d(t,{MarketItem:()=>L});var o=a(474848),r=a(296540),i=a(293721),n=a(753457),s=a(361125),l=a(24882),c=a(204733),d=a(734370),u=a(414257),_=a(358054),p=a(431087),m=a(551090),g=a(695290),S=a(123083),v=a(273555),h=a(1199),C=a(347112),f=a(765668),I=a(624338),E=a(595154),k=a(380118),y=a(480958),T=a(596104),A=a(694743),R=a(281568);const L=({id:e,type:t,layout:a})=>{const{appCatalogService:L}=(0,S.useCatalogConfig)(),b=(0,S.useCollectClick)(),[[x]]=(0,r.useState)((0,T.extractIds)(e)),[O,w]=(0,h.useElementSize)(),N=(0,A.useCatalogStoreMap)(L.marketItemsService.$marketItems,e),M=(0,A.useCatalogStoreMap)(L.groupsService.$groups,Math.abs(x)),P=(0,A.useCatalogStoreArray)(L.marketItemsService.$marketItemPendingIds,String(e)),V=(0,i.useStore)(L.pageService.$catalogType),B=N?.track_code,D=(0,v.useRefLogView)({type:t,trackCode:B}),j=e=>{b({track_code:B,type:t,action:e})},G=()=>j(g.SearchClickActionMap.TAP),F=(0,r.useCallback)((()=>{L.searchRecentService.fireAddRecent({owner_ids:`-${M?.id}`})}),[M]),U=(0,r.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),!P&&N&&(N.is_favorite?(j(g.SearchClickActionMap.UNFAVE),L.marketItemsService.fireRemoveFavorite({id:N.id,owner_id:N.owner_id})):(j(g.SearchClickActionMap.FAVE),L.marketItemsService.fireMakeFavorite({params:{id:N.id,owner_id:N.owner_id}})))}),[N,P]),H=(0,r.useMemo)((()=>{switch(a){case m.CatalogBlockLayoutName.SLIDER:return(0,p.getClosestImage)(N?.thumb||[],m.MARKET_ITEM_AVATAR_SIZE_SM)?.url??"";case m.CatalogBlockLayoutName.STACKED_LIST:return w.width?(0,p.getClosestImage)(N?.thumb||[],w.width)?.url??N?.thumb_photo??"":"";default:return N?.thumb_photo??""}}),[a,N,w.width]);if(!N)return null;const $=(0,T.getUrlWithTrackCode)((0,p.getMarketItemUrl)(N),B,V),z={"--image-height":`${w.width}px`};switch(a){case m.CatalogBlockLayoutName.SLIDER:return(0,o.jsx)(C.HorizontalCell,{"data-testid":"market_item_slider",getRootRef:D,size:"dynamic",className:"CatalogMarketItem",onClick:G,children:(0,o.jsxs)("div",{className:"CatalogMarketItem__inner",children:[(0,o.jsxs)(f.Link,{className:"CatalogMarketItem__avatar",hasHover:!1,href:$,children:[(0,o.jsx)(I.Image,{size:m.MARKET_ITEM_AVATAR_SIZE_SM,src:H}),(0,o.jsx)(E.IconButton,{"data-testid":"market_item_favorite",size:48,className:"CatalogMarketItem__avatarBtn",onClick:U,children:N.is_favorite?(0,o.jsx)(s.Icon28Favorite,{}):(0,o.jsx)(l.Icon28FavoriteOutline,{})})]}),(0,o.jsx)(f.Link,{className:"CatalogMarketItem__title",hasHover:!1,href:$,children:N.title}),(0,o.jsx)(k.Text,{weight:"1",className:"CatalogMarketItem__price",children:N.price.text}),M&&(0,o.jsxs)(f.Link,{className:"CatalogMarketItem__owner",hasHover:!1,href:`/${M.screen_name}`,onClick:F,children:[(0,o.jsx)("span",{className:"CatalogMarketItem__ownerName",children:M.name}),Boolean(M.verified)&&(0,o.jsx)("span",{className:"CatalogMarketItem__ownerIcon",children:(0,o.jsx)(c.Icon16Verified,{})})]})]})});case m.CatalogBlockLayoutName.STACKED_LIST:return(0,o.jsx)(n.Card,{"data-testid":"market_item_stacked_list",className:R.default.card,mode:"tint",children:(0,o.jsxs)(n.Tappable,{href:$,hasActive:!1,hasHover:!1,onClick:G,children:[(0,o.jsxs)("div",{className:R.default.imageWrapper,ref:O,style:z,children:[H?(0,o.jsx)("img",{className:R.default.image,src:H,width:"100%",height:"100%",alt:N.title}):(0,o.jsx)(d.Icon56MarketOutline,{}),(0,o.jsx)(E.IconButton,{"data-testid":"market_item_favorite",className:R.default.bookmark,onClick:U,children:N.is_favorite?(0,o.jsx)(u.Icon28Bookmark,{}):(0,o.jsx)(_.Icon28BookmarkOutline,{})})]}),(0,o.jsxs)("div",{className:R.default.body,children:[(0,o.jsx)(y.TextClamp,{TypographyComponent:k.Footnote,lines:1,weight:"3",className:R.default.subtitle,children:N.title}),(0,o.jsxs)(k.Subhead,{className:R.default.header,weight:"1",children:[(0,o.jsx)("span",{children:N.price.text}),N.price.old_amount_text&&(0,o.jsx)(k.Footnote,{weight:"3",className:R.default.oldPrice,children:N.price.old_amount_text})]}),M&&(0,o.jsxs)(k.Footnote,{className:R.default.group,weight:"3",children:[(0,o.jsx)(y.TextClamp,{lines:1,className:R.default.caption,children:M.name}),!!M.verified&&(0,o.jsx)(c.Icon16Verified,{className:R.default.verified})]})]})]})});default:return null}}},236874:(e,t,a)=>{a.d(t,{MarketItem:()=>o.MarketItem});var o=a(880921)},431087:(e,t,a)=>{a.d(t,{getClosestImage:()=>i,getMarketItemUrl:()=>r});var o=a(7144);const r=e=>`/product${e.owner_id}_${e.id}`,i=(e,t)=>{(0,o.isRetina)()&&(t*=2);return e.sort(((e,a)=>{const o=Math.max(e.width,e.height),r=Math.max(a.width,a.height),i=Math.abs(o-t),n=Math.abs(r-t);return i===n?r-o:i-n}))[0]}},115473:(e,t,a)=>{a.d(t,{MusicAudios:()=>S});var o=a(474848),r=a(8520),i=a(962772),n=a(162730),s=a(293721),l=a(345654),c=a(123083),d=a(695290),u=a(273555),_=a(610989),p=a(694743),m=a(441914),g=a(316412);const S=({id:e,type:t})=>{const{musicPlayer:a,userId:S,appCatalogService:v}=(0,c.useCatalogConfig)(),{id:h}=(0,m.mapAPIRawIdToAudioIdentity)(String(e)),C=(0,s.useStoreMap)(v.audioService.$audioItems,(e=>Array.from(e,(([,e])=>e)))),f=(0,p.useCatalogStoreMap)(v.audioService.$audioItems,e),I=(0,s.useStore)(v.audioService.$audioModifiedItems),E=I?.[h],k=(0,l.useAudioPlayer)(),y=(0,c.useCollectClick)(),T=(0,u.useRefLogView)({type:t,trackCode:f?.track_code});if(!f)return null;const A=k?.currentAudio?.id===f?.id,R=A&&"playing"===k.status;return(0,o.jsx)("div",{ref:T,children:(0,o.jsx)(n.MusicCell,{thumb:f?.album?.thumb?.photo_135,title:f.title,artists:[{name:f.artist}],duration:f.duration,isPlaying:R,isActive:A,isExplicit:f.is_explicit,onClick:()=>{if(y({action:R?d.SearchClickActionMap.PAUSE:d.SearchClickActionMap.PLAY,track_code:f.track_code,type:t}),R)k?.platformAudioPlayer?.pause();else{const e=a?.playlistType&&{ownerId:S,albumId:f?.id,type:a.playlistType};k?.platformAudioPlayer?.playAudio(f,C,k?.audioPlayerContext,e)}},after:(0,o.jsx)(i.Icon24MoreVertical,{className:g.default.moreIcon,onClick:e=>{e.stopPropagation();const o=!!E?.isAdded||!E?.isDeleted&&f.owner_id===S,r={action:o?d.SearchClickActionMap.REMOVE_FROM_ME:d.SearchClickActionMap.ADD_TO_ME,track_code:f.track_code,type:t},i={audio_id:f.id,owner_id:f.owner_id,user_id:S,access_key:f.access_key||""},n={buttonText:o?_.getLang("global_delete_audio"):_.getLang("global_add_to_audio"),target:e.currentTarget,onButtonClick:(s=()=>(o?v.audioService.deleteAudioFromMyList:v.audioService.addAudioToMyList)(i),l=r,(...e)=>{y(l),s(...e)})};var s,l;a?.openAudioActions?.(n)}}),thumbSize:48,className:(0,r.classNames)(g.default.musicCell,g.default.padding)})})}},587431:(e,t,a)=>{a.d(t,{MusicAudios:()=>o.MusicAudios});var o=a(115473)},932941:(e,t,a)=>{a.d(t,{NextFrom:()=>l});var o=a(474848),r=a(293721),i=a(456921),n=a(39170),s=a(694743);const l=(0,i.observer)((function({nextFrom:e,sectionId:t,rootMargin:a}){const{appCatalogService:i}=(0,s.useCatalogConfig)(),l=(0,r.useStore)(i.catalogService.$isSectionPending),c=(0,r.useStore)(i.catalogService.$loadingBlockIds),d=(0,r.useStore)(i.catalogService.$fetchSectionError),{currentSectionService:u}=(0,s.useCatalogHandlersContext)();return t&&0===c.length?(0,o.jsx)(n.DynamicPagination,{isLoading:u?u.checkNextLoading():l,fetchData:()=>{const a={section_id:t,start_from:e};u?u.fetchNext():i.catalogService.fireGetSection(a)},fetchError:d,nextFrom:e,rootMargin:a}):null}))},922640:(e,t,a)=>{a.d(t,{NextFrom:()=>o.NextFrom});var o=a(932941)},85401:(e,t,a)=>{a.d(t,{Placeholder:()=>g});var o=a(474848),r=a(923594),i=a(610989),n=a(293721),s=a(551090),l=a(428879),c=a(8520),d=a(123083),u=a(296540),_=a(138756);const p={[s.CatalogBlockLayoutName.PLACEHOLDER]:56,[s.CatalogBlockLayoutName.PLACEHOLDER_IMAGE_WARNING]:100,[s.CatalogBlockLayoutName.PLACEHOLDER_ILLEGAL_QUERY]:100},m={[s.CatalogBlockLayoutName.PLACEHOLDER]:_.default.placeholderStretched,[s.CatalogBlockLayoutName.PLACEHOLDER_IMAGE_WARNING]:_.default.placeholderStretched,[s.CatalogBlockLayoutName.PLACEHOLDER_BIG]:_.default.placeholderBig,[s.CatalogBlockLayoutName.PLACEHOLDER_ILLEGAL_QUERY]:_.default.placeholderStretched},g=({placeholder_ids:e,layout:t})=>{const{appCatalogService:a}=(0,d.useCatalogConfig)(),{setContentRestricted:g}=(0,d.useCatalogSearch)(),S=(0,n.useStore)(a.placeholdersService.$placeholders),v=p[t.name];return(0,u.useEffect)((()=>{if(t.name===s.CatalogBlockLayoutName.PLACEHOLDER_ILLEGAL_QUERY){const e=setTimeout((()=>g(!0)));return()=>{clearTimeout(e),g(!1)}}}),[t.name]),(0,o.jsx)("div",{className:(0,c.classNames)(_.default.placeholder,m[t.name]),children:e?.map((e=>{const t=S.get(e);if(!t)return null;const a=t.buttons?.map(((t,a)=>{const r=(0,l.getButton)(t);return(0,o.jsx)(r,{id:e,button:t},a)}));return(0,o.jsx)(r.Placeholder,{header:t.title,action:a,icon:t.icons&&(0,o.jsx)("img",{className:_.default.image,width:v,height:v,srcSet:t.icons.map(((e,t)=>`${e.url} ${t+1}x`)).join(", "),alt:t.title}),children:t.text||i.getLang("mobile_search_no_found_summary")},e)}))})}},214860:(e,t,a)=>{a.d(t,{StartLive:()=>n});var o=a(474848),r=a(533048),i=a(694743);const n=({button:e})=>{const{openLiveSettings:t,liveEnabled:a}=(0,i.useCatalogVideo)();return(0,o.jsx)(o.Fragment,{children:a&&(0,o.jsx)(r.Button,{size:"m",mode:"primary",onClick:()=>{t({ownerId:e.owner_id})},children:e.title})})}},847330:(e,t,a)=>{a.d(t,{StartLive:()=>o.StartLive});var o=a(214860)},115616:(e,t,a)=>{a.d(t,{UploadVideo:()=>s});var o=a(474848),r=a(533048),i=a(293721),n=a(123083);const s=({button:e})=>{const{appCatalogService:t}=(0,n.useCatalogConfig)(),{openVideoUploader:a}=(0,n.useCatalogVideo)(),s=(0,i.useStoreMap)({store:t.playlistService.$playlistItems,keys:[e.owner_id||0,e.album_id||0],fn:(e,[t,a])=>e.find((({id:e,owner_id:o})=>e===a&&o===t))});return(0,o.jsx)(r.Button,{size:"m",mode:"primary",onClick:()=>{a({playlist:s})},children:e.title})}},55540:(e,t,a)=>{a.d(t,{UploadVideo:()=>o.UploadVideo});var o=a(115616)},409002:(e,t,a)=>{a.d(t,{Placeholder:()=>o.Placeholder});var o=a(85401)},428879:(e,t,a)=>{a.d(t,{getButton:()=>n});var o=a(55540),r=a(551090),i=a(847330);const n=e=>{switch(e.action?.type){case r.CatalogActionType.UPLOAD_VIDEO:return o.UploadVideo;case r.CatalogActionType.START_LIVE:return i.StartLive;default:return()=>null}}},421411:(e,t,a)=>{a.d(t,{Playlist:()=>T});var o=a(474848),r=a(296540),i=a(293721),n=a(610989),s=a(551090),l=a(392338),c=a(296912),d=a(125830),u=a(52975),_=a(891493),p=a(522924),m=a(273555),g=a(695290),S=a(581903),v=a(596104),h=a(123083),C=a(488066),f=a(723308),I=a(3931),E=a(417517),k=a(214716),y=a(694743);const T=({id:e,layout:t,type:a,badge:T})=>{const{appCatalogService:A}=(0,h.useCatalogConfig)(),[R,L]=e.toString().split("_"),{openPlaylistActions:b,isVideoPWA:x}=(0,h.useCatalogVideo)(),O=(0,h.useCollectClick)(),w=(0,u.useWindowWidth)(),N=(0,i.useStore)(A.pageService.$catalogType),M=(0,i.useStore)(A.$isStandaloneSection),P=(0,i.useStoreMap)({store:A.playlistService.$playlistItems,keys:[R,L],fn:(e,[t,a])=>e.find((({id:e,owner_id:o})=>e===+a&&o===+t))}),V=(0,v.getUrlWithTrackCode)((0,d.getPlaylistURL)(P?.owner_id,P?.id),P?.track_code,N),B=(0,y.useCatalogStoreMap)(A.groupsService.$groups,Math.abs(Number(R))),D=(0,i.useStoreMap)({store:A.profilesService.$profiles,keys:[R],fn:(e,[t])=>e.get(+t)}),j=(0,r.useMemo)((()=>B||D),[B,D]),G=(0,r.useCallback)((e=>{const t=e=>()=>{O?.({action:e,track_code:P?.track_code,type:g.EventItemType.VIDEO_PLAYLIST}),S.searchStatsCollector.logOutOfSerpEvent({action:e,type:g.EventItemType.VIDEO_PLAYLIST})},a={copy:t(M?g.SearchClickActionMap.COPY_LINK_OUT:g.SearchClickActionMap.COPY_LINK),remove:t(M?g.SearchClickActionMap.REMOVE_FROM_ME_OUT:g.SearchClickActionMap.REMOVE_FROM_ME),unsubscribe:t(M?g.SearchClickActionMap.UNSUBSCRIBE_OUT:g.SearchClickActionMap.UNSUBSCRIBE),share:t(M?g.SearchClickActionMap.SHARE_OUT:g.SearchClickActionMap.SHARE)};b({target:e.currentTarget,playlist:P,clickEvents:a})}),[P,M]),F=()=>{O?.({action:g.SearchClickActionMap.TAP,track_code:P?.track_code,type:g.EventItemType.VIDEO_PLAYLIST})},U=()=>{O?.({action:M?g.SearchClickActionMap.OPEN_OWNER_OUT:g.SearchClickActionMap.OPEN_OWNER,track_code:P?.track_code,type:g.EventItemType.VIDEO_PLAYLIST})},H=(0,m.useRefLogView)({type:a,trackCode:P?.track_code});if(!P)return null;switch(t){case s.CatalogBlockLayoutName.LIST:return(0,o.jsx)(_.VideoListItem,{getRootRef:H,title:P?.title,secondTitle:(0,n.langNumeric)(P?.count||0,n.getLang("mobile_video_videos_counter","raw"),!0),url:V,preview:(0,o.jsx)(c.PlaylistPreview,{playlist:P,badge:T}),onMoreClick:G,onClick:F});case s.CatalogBlockLayoutName.SLIDER:case s.CatalogBlockLayoutName.DOUBLE_STACKED_SLIDER:return(0,o.jsx)(p.SliderCard,{playlist:P,getRootRef:H,badge:T});case s.CatalogBlockLayoutName.DOUBLE_STACKED_LIST:return(0,o.jsx)(l.PlaylistCard,{getRootRef:H,playlist:P,parentWidth:w});case s.CatalogBlockLayoutName.BANNER:return(0,o.jsx)(C.PlaylistBanner,{images:P.image,imageBlur:Boolean(P.image_blur)});case s.CatalogBlockLayoutName.TITLE_SUBTITLE_AVATAR:return(0,o.jsx)(f.PlaylistHeader,{ownerId:P.owner_id,title:P.title,ownerUrl:(0,E.getOwnerUrl)(j,x?"/video/@":void 0),ownerAvatar:(0,I.getOwnerAvatar)(j),isNFT:(0,k.checkOwnerIsNFT)(j),followersCount:P.followers_count,onAuthorClick:U});default:return null}}},488066:(e,t,a)=>{a.d(t,{PlaylistBanner:()=>c});var o=a(474848),r=a(296540),i=a(8520),n=a(474691),s=a(52975),l=a(361931);const c=({images:e=[],imageBlur:t=!1})=>{const[a,c]=(0,r.useState)(!1),d=(0,s.useWindowWidth)(),u=(0,i.getPhotoSize)(e.filter((e=>!e.with_padding)),d);(0,r.useEffect)((()=>{u?.url&&c(!1)}),[u?.url]);const _=!!u&&u.height/u.width>1;return(0,o.jsx)("div",{className:(0,i.classNames)(l.default.root,l.default.ratio,{[l.default.verticalRatio]:_}),children:u?.url&&!a?(0,o.jsx)("img",{onError:()=>c(!0),className:(0,i.classNames)(l.default.thumb,{[l.default.verticalThumb]:_,[l.default.blur]:t}),loading:"lazy",src:u.url,width:u.width,height:u.height}):(0,o.jsx)(n.Icon56ListPlayOutline,{className:l.default.placeholder})})}},392338:(e,t,a)=>{a.d(t,{PlaylistCard:()=>m});var o=a(474848),r=a(610989),i=a(385819),n=a(125830),s=a(8520),l=a(695290),c=a(123083),d=a(293721),u=a(596104),_=a(380118),p=a(480958);const m=({playlist:e,parentWidth:t=0,getRootRef:a})=>{const{devicePixelRatio:m,appCatalogService:g}=(0,c.useCatalogConfig)(),S=(0,c.useCollectClick)(),v=(0,s.getPhotoSize)(e?.image||[],t/2*m),h=Boolean(e?.image_blur),C=(0,d.useStore)(g.pageService.$catalogType),f=(0,u.getUrlWithTrackCode)((0,n.getPlaylistURL)(e?.owner_id,e?.id),e?.track_code,C),I=()=>{S?.({action:l.SearchClickActionMap.TAP,track_code:e?.track_code,type:l.EventItemType.VIDEO_PLAYLIST})};return(0,o.jsxs)("div",{ref:a,className:i.default.root,children:[(0,o.jsxs)("a",{"data-testid":"album_card",href:f,onClick:I,className:i.default.preview,children:[(0,o.jsx)("img",{src:v?.url,className:(0,s.classNames)(i.default.thumb,{[i.default.blur]:h})}),e?.count&&e.count>1&&(0,o.jsx)(_.Footnote,{weight:"1",className:i.default.counter,children:r.getLang("mobile_video_series_counter",e.count,!0)})]}),!!e?.title&&(0,o.jsx)(p.TextClamp,{TypographyComponent:_.Headline,Component:"a",level:"2",href:f,onClick:I,className:i.default.title,lines:2,children:e.title})]})}},723308:(e,t,a)=>{a.d(t,{PlaylistHeader:()=>_});var o=a(474848),r=a(291513),i=a(280234),n=a(480958),s=a(380118),l=a(610989),c=a(123083),d=a(27995),u=a(33362);const _=({ownerId:e,ownerUrl:t,ownerAvatar:a,title:_,followersCount:p,isNFT:m,onAuthorClick:g})=>{const{navGo:S}=(0,c.useCatalogConfig)(),{openUnauthorizedMoreBox:v}=(0,c.useCatalogVideo)();return(0,o.jsxs)("div",{className:r.default.root,children:[e!==window.vk.id&&(0,o.jsx)(i.RichAvatar,{className:r.default.avatar,nft:!!m,size:40,src:a,onClick:e=>{g?.(),(0,d.isVKUserAnonymous)()?v({source:u.UnauthorizedSourceType.SUBSCRIBE_VIDEO_AUTHOR,event:e}):S(t)}}),(0,o.jsxs)("div",{className:r.default.titleWrapper,children:[(0,o.jsx)(n.TextClamp,{TypographyComponent:s.Title,level:"3",className:r.default.title,lines:2,children:_}),(0,o.jsx)(s.Headline,{level:"2",className:r.default.subtitle,children:p?(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:(0,l.langNumeric)(p,l.getLang("video_showcase_N_subscribers","raw"),!0)}}):l.getLang("mobile_video_playlist_no_subscribers")})]})]})}},296912:(e,t,a)=>{a.d(t,{PlaylistPreview:()=>c});var o=a(474848),r=a(1537),i=a(753457),n=a(372637),s=a(575489),l=a(123083);const c=({playlist:e,owner:t,badge:a})=>{const{userId:c}=(0,l.useCatalogConfig)();return(0,o.jsxs)("div",{className:r.default.root,children:[(0,o.jsx)(n.VideoPreview,{video:{image:e?.image,privacy_view:e?.privacy,restriction:e?.cover_video_restriction},ownerId:t?.id||0,viewerId:c,mode:"compact"}),(0,o.jsx)("div",{className:r.default.overlay,children:(0,o.jsx)(s.Icon20ListPlayOutline,{})}),!!a&&(0,o.jsx)(i.Badge,{mode:"new",className:r.default.badge})]})}},522924:(e,t,a)=>{a.d(t,{SliderCard:()=>_});var o=a(474848),r=a(125830),i=a(296912),n=a(123083),s=a(695290),l=a(596104),c=a(293721),d=a(347112),u=a(480958);const _=({playlist:e,getRootRef:t,badge:a})=>{const{appCatalogService:_}=(0,n.useCatalogConfig)(),p=(0,n.useCollectClick)(),m=(0,c.useStore)(_.pageService.$catalogType),g=(0,l.getUrlWithTrackCode)((0,r.getPlaylistURL)(e?.owner_id,e?.id),e?.track_code,m);return(0,o.jsx)(d.HorizontalCell,{"data-testid":"slider_card",getRootRef:t,size:"dynamic",href:g,onClick:()=>{p({action:s.SearchClickActionMap.TAP,track_code:e?.track_code,type:s.EventItemType.VIDEO_PLAYLIST})},header:e?.title?(0,o.jsx)(u.TextClamp,{lines:2,children:e.title}):null,children:(0,o.jsx)(i.PlaylistPreview,{playlist:e,badge:a})})}},558923:(e,t,a)=>{a.d(t,{Playlist:()=>o.Playlist});var o=a(421411)},304313:(e,t,a)=>{a.d(t,{Preview:()=>i});var o=a(474848),r=a(478211);const i=e=>{const{group_items:t,layout:a,actions:i,id:n}=e,s=(0,r.getBlockByDataType)(e),l=i?.find((({action:e})=>"open_url"===e?.type));return(0,o.jsx)(s,{id:n,group_items:t,action:l,layout:a.name,description:a.subtitle,title:a.title})}},478211:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>i});var o=a(551090),r=a(273738);const i=e=>e.data_type===o.CatalogBlockDataType.GROUPS_ITEMS?r.PreviewGroupItems:()=>null},904987:(e,t,a)=>{a.d(t,{Preview:()=>o.Preview});var o=a(304313)},599209:(e,t,a)=>{a.d(t,{PreviewGroupItems:()=>p});var o=a(474848),r=a(296540),i=a(293721),n=a(694743),s=a(551090),l=a(445248),c=a(348242),d=a(428918),u=a(56879);const _=({group_items:e,layout:t,description:a,title:r,action:_})=>{const{appCatalogService:p}=(0,n.useCatalogConfig)(),m=e?.map((e=>e.id)),g=(0,i.useStoreMap)({store:p.groupsService.$groups,keys:[m],fn:(e,[t=[]])=>t.map((t=>e.get(t))).filter((e=>Boolean(e))).map((e=>e.photo_50))}),S=(0,u.getHref)(_);return t===s.CatalogBlockLayoutName.PREVIEW?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.SimpleCell,{href:S,before:(0,o.jsxs)(c.AvatarStack,{size:48,direction:"top",hasHover:!1,hasActive:!1,children:[(0,o.jsx)(c.AvatarStack.Item,{src:g[0]}),(0,o.jsx)(c.AvatarStack.Item,{src:g[1]})]}),expandable:"always",subtitle:a,children:r}),(0,o.jsx)(d.Spacing,{size:12})]}):null},p=(0,r.memo)(_)},273738:(e,t,a)=>{a.d(t,{PreviewGroupItems:()=>o.PreviewGroupItems});var o=a(599209)},56879:(e,t,a)=>{a.d(t,{getHref:()=>o});const o=e=>e?.action?.url?e.action.url.replace("static.vk.com","m.vk.com/vkui"):""},908053:(e,t,a)=>{a.d(t,{SearchSpellchecker:()=>m});var o=a(474848),r=a(293721),i=a(445248),n=a(380118),s=a(428918),l=a(765668),c=a(172834),d=a(695290),u=a(273555),_=a(123083),p=a(279268);const m=({id:e,type:t})=>{const{appCatalogService:a}=(0,_.useCatalogConfig)(),{search:m}=(0,_.useCatalogSearch)(),g=(0,_.useCollectClick)(),S=(0,r.useStore)(a.pageService.$pageId),v=(0,r.useStoreMap)({store:a.searchSpellcheckersService.$searchSpellcheckers,keys:[e],fn:(e,[t])=>e.find((({id:e})=>e===t))}),h=v?.track_code,C=(0,u.useRefLogView)({type:t,trackCode:h});if(!v)return null;const f=(0,c.prepareSpellcheck)(v);return(0,o.jsxs)(i.SimpleCell,{getRootRef:C,className:p.default.searchSpellcheck,hasActive:!1,hasHover:!1,children:[(0,o.jsxs)(n.Text,{"data-testid":"spellcheker_text",className:p.default.searchSpellcheckTitle,children:[f.title," ",(0,o.jsx)(n.Text,{"data-testid":"spellcheker_request",className:p.default.searchSpellcheckQuery,weight:"1",children:f.query.text})]}),(0,o.jsx)(s.Spacing,{size:4}),(0,o.jsxs)(n.Text,{className:p.default.searchSpellcheckSubtitle,children:[f.suggest," ",(0,o.jsx)(l.Link,{"data-testid":"search_spellchecker",onClick:()=>{v?.id&&h&&(m({q:v.search_action.next_search_query,page:S,additionalParams:{suggestTrackCode:h,noSpellcheck:1}}),g({action:d.SearchClickActionMap.TAP,track_code:v.track_code,type:d.EventItemType.CATALOG_ITEM}))},className:p.default.searchSpellcheckSubtitleButton,children:f.search_action.text})]})]})}},476367:(e,t,a)=>{a.d(t,{SearchSuggestion:()=>_});var o=a(474848),r=a(293721),i=a(445248),n=a(605650),s=a(488631),l=a(123083),c=a(695290),d=a(273555),u=a(694743);const _=({id:e,layout:t,type:a})=>{const{appCatalogService:_}=(0,l.useCatalogConfig)(),{search:p}=(0,l.useCatalogSearch)(),m=(0,l.useCollectClick)(),g=(0,r.useStore)(_.pageService.$pageId),S=(0,u.useCatalogStoreMap)(_.suggestionsService.$suggestions,e),v=(0,d.useRefLogView)({type:a,trackCode:S?.track_code});if(!S)return null;const{title:h="",subtitle:C,context:f,id:I,track_code:E}=S,k=()=>{I&&h&&(m({action:c.SearchClickActionMap.TAP,track_code:E,type:a}),p({q:h,page:g,additionalParams:{context:f,suggestTrackCode:E}}))};return"slider"===t?(0,o.jsx)(s.SliderSuggestion,{title:h,subtitle:C,onClick:k,ref:v}):(0,o.jsx)(i.SimpleCell,{"data-testid":"search_suggestion","data-suggester-item":!0,onClick:k,before:(0,o.jsx)(n.Icon28SearchOutline,{}),getRootRef:v,children:h})}},110466:(e,t,a)=>{a.d(t,{SliderSuggestion:()=>l});var o=a(474848),r=a(296540),i=a(785118),n=a(987848),s=a(133695);const l=(0,r.forwardRef)((({title:e,subtitle:t,onClick:a},r)=>(0,o.jsx)(i.Div,{className:s.default.suggestionItem,getRootRef:r,children:(0,o.jsx)(n.SearchSuggestion,{title:e,subtitle:t,onClick:a})})))},488631:(e,t,a)=>{a.d(t,{SliderSuggestion:()=>o.SliderSuggestion});var o=a(110466)},779313:(e,t,a)=>{a.d(t,{SearchSuggestion:()=>o.SearchSuggestion});var o=a(476367)},160653:(e,t,a)=>{a.d(t,{Slider:()=>S});var o=a(474848),r=a(296540),i=a(753457),n=a(551090),s=a(269285),l=a(878711),c=a(418562),d=a(667126),u=a(123083),_=a(800405),p=a(785118),m=a(830492);const g=[n.CatalogBlockLayoutName.SLIDER_MINIMALISTIC_CARD,n.CatalogBlockLayoutName.SLIDER_CARD,n.CatalogBlockLayoutName.SLIDER_EVENT,n.CatalogBlockLayoutName.SHORT_VIDEO_SLIDER_WITH_VIEW_COUNTER],S=e=>{const{blockResolvers:t}=(0,u.useCatalogConfig)(),{layout:a,actions:S}=e,v=(0,r.useMemo)((()=>(0,s.extractItemsIds)(e)),[e]),h=t?.[a.name]?.(e)||(0,d.getBlockByDataType)(e),C=(0,s.getEventItemTypeByDataType)(e);if(!v.length&&1===S?.length&&a.name===n.CatalogBlockLayoutName.HORIZONTAL_BUTTONS){const e=S?.[0],t=e?.track_code||(0,c.default)();return(0,o.jsx)(l.Action,{id:t,action:e,layout:a.name},t)}const f=(0,d.getScrollSize)(a),I=g.includes(a.name),E={className:m.default.content,spacing:0,...I?{mode:"horizontal",paddingBottom:4}:{mode:"vertical",paddingBottom:8,paddingTop:8}};return(0,o.jsx)(i.HorizontalScroll,{getScrollToLeft:e=>e-f,getScrollToRight:e=>e+f,children:(0,o.jsxs)(p.Div,{...E,children:[v.map(((e,t)=>(0,o.jsx)(h,{...e,layout:a.name,type:C,itemIndex:t},e.id))),(0,o.jsx)(_.SliderPagination,{...e}),S?.map((e=>{const t=e.track_code||(0,c.default)();return(0,o.jsx)(l.Action,{id:t,action:e,layout:a.name},t)}))]})})}},800405:(e,t,a)=>{a.d(t,{SliderPagination:()=>d});var o=a(474848),r=a(39170),i=a(694743),n=a(775406),s=a(456921),l=a(293721),c=a(830492);const d=(0,s.observer)((function(e){const{appCatalogService:t}=(0,i.useCatalogConfig)(),a=(0,l.useStore)(t.catalogService.CatalogGetBlockItemsFx.pending),{next_from:s,id:d}=e,{hasPagination:u,loadingComponent:_}=(0,n.paginationData)(e),{currentSectionService:p}=(0,i.useCatalogHandlersContext)(),m=()=>{p?p.fetchNextFromBlock(d):t.catalogService.fireGetBlockItems({block_id:d,start_from:s})};return u&&s?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:c.default.pagination,children:(0,o.jsx)(r.DynamicPagination,{withSpinner:!1,isLoading:p?p.checkNextFromBlockLoading(d):a,nextFrom:s,fetchData:m})}),_]}):null}))},667126:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>m,getScrollSize:()=>g});var o=a(551090),r=a(850933),i=a(236874),n=a(798167),s=a(456272),l=a(558923),c=a(878711),d=a(779313),u=a(321903),_=a(485852),p=a(164500);const m=e=>{switch(e.data_type){case o.CatalogBlockDataType.LINKS:return r.Link;case o.CatalogBlockDataType.ACTION:return c.Action;case o.CatalogBlockDataType.MARKET_ITEMS:return i.MarketItem;case o.CatalogBlockDataType.GROUPS_ALL:case o.CatalogBlockDataType.GROUPS_ITEMS:return n.GroupItem;case o.CatalogBlockDataType.GROUPS_COLLECTION:return _.GroupCollection;case o.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS:return p.GroupCategory;case o.CatalogBlockDataType.VIDEOS:return s.Video;case o.CatalogBlockDataType.ALBUMS:return l.Playlist;case o.CatalogBlockDataType.SEARCH_SUGGESTIONS:return d.SearchSuggestion;case o.CatalogBlockDataType.MUSIC_PLAYLISTS:return u.AudioPlaylist;default:return()=>null}},g=e=>{switch(e.name){case o.CatalogBlockLayoutName.SLIDER_MINIMALISTIC_CARD:return o.GROUP_REDESIGN_SLIDER_SCROLL;case o.CatalogBlockLayoutName.SLIDER_CARD:case o.CatalogBlockLayoutName.SLIDER_EVENT:return o.GROUP_REDESIGN_EVENT_SLIDER_SCROLL;default:return o.SLIDER_SCROLL}}},341140:(e,t,a)=>{a.d(t,{Slider:()=>o.Slider});var o=a(160653)},775406:(e,t,a)=>{a.d(t,{paginationData:()=>s});var o=a(474848),r=a(551090),i=a(499130),n=a(830492);const s=({data_type:e,layout:t})=>(e=>{switch(e.name){case r.CatalogBlockLayoutName.SLIDER_MINIMALISTIC_CARD:case r.CatalogBlockLayoutName.SLIDER_EVENT:return!0;default:return!1}})(t)&&e===r.CatalogBlockDataType.GROUPS_ITEMS?{hasPagination:!0,loadingComponent:(0,o.jsx)("div",{className:n.default.groupsItemSliderElement,children:(0,o.jsx)(i.RecommendationBlock.LoadingCard,{size:"square",cardProps:{stretched:!0,buttonType:"primary"}})})}:{hasPagination:!1}},250949:(e,t,a)=>{a.d(t,{StackedList:()=>u});var o=a(474848),r=a(296540),i=a(881235),n=a(269285),s=a(753457),l=a(785118),c=a(126960),d=a(694743);const u=e=>{const{layout:t,data_type:a}=e,{blockResolvers:u}=(0,d.useCatalogConfig)(),_=(0,r.useMemo)((()=>(0,n.extractItemsIds)(e)),[e]),p=u?.[t.name]?.(e)||(0,i.getBlockByDataType)(e),m=(0,n.getEventItemTypeByDataType)(e),{viewWidth:g=s.ViewWidth.MOBILE}=(0,s.useAdaptivityWithJSMediaQueries)(),S=g>=s.ViewWidth.SMALL_TABLET;return(0,i.getIsWideGridStackedItem)(a)?(0,o.jsx)(l.Div,{mode:"horizontal",spacing:0,children:(0,o.jsx)(c.Grid,{columns:S?2:1,spacing:12,children:_.map((t=>(0,o.jsx)(c.Grid.Item,{children:(0,o.jsx)(p,{...t,layout:e.layout.name,block_id:e.id,type:m})},t.id)))})}):(0,o.jsx)(s.CardGrid,{size:S?"s":"m",spaced:!0,children:_.map((t=>(0,r.createElement)(p,{...t,key:t.id,layout:e.layout.name,block_id:e.id,type:m})))})}},447966:(e,t,a)=>{a.d(t,{StackedList:()=>o.StackedList});var o=a(250949)},881235:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>i,getIsWideGridStackedItem:()=>n});var o=a(551090),r=a(798167);const i=e=>e.data_type===o.CatalogBlockDataType.GROUPS_ITEMS?r.GroupItem:()=>null,n=e=>e===o.CatalogBlockDataType.GROUPS_ITEMS},111171:(e,t,a)=>{a.d(t,{Suggestion:()=>g});var o=a(474848),r=a(293721),i=a(445248),n=a(595154),s=a(404682),l=a(670191),c=a(605650),d=a(695290),u=a(123083),_=a(273555),p=a(694743),m=a(490898);const g=({id:e,track_code:t,block_id:a,type:g})=>{const{appCatalogService:S}=(0,u.useCatalogConfig)(),{search:v}=(0,u.useCatalogSearch)(),h=(0,u.useCollectClick)(),C=(0,r.useStore)(S.pageService.$pageId),f=(0,p.useCatalogStoreMap)(S.suggestionsService.$suggestions,e),I=f?.track_code||t,E=(0,_.useRefLogView)({type:g,trackCode:I}),k=()=>{f?.id&&f.title&&(v({q:f.title,page:C,additionalParams:{suggestTrackCode:I}}),h({action:d.SearchClickActionMap.TAP,track_code:I,type:g}))},y=e=>{e.stopPropagation(),e.preventDefault(),f?.id&&(a&&S.suggestionsService.fireRemoveSearchRecentQuery({block_id:a,params:{item_id:f.id,track_code:I}}),h({action:d.SearchClickActionMap.REMOVE_RECENT,track_code:I,type:g}))};return f?"recent"===f.type?(0,o.jsx)(i.SimpleCell,{"data-testid":"suggestion_recent",getRootRef:E,"data-suggester-item":!0,onClick:k,before:(0,o.jsx)(s.Icon28HistoryBackwardOutline,{}),after:(0,o.jsx)(n.IconButton,{onClick:y,"data-testid":"suggestion_recent_clear",children:(0,o.jsx)(l.Icon24Cancel,{className:m.default.suggestionRemove})}),children:f.title}):(0,o.jsx)(i.SimpleCell,{"data-testid":"search_suggestion",getRootRef:E,"data-suggester-item":!0,onClick:k,before:(0,o.jsx)(c.Icon28SearchOutline,{}),children:f.title}):null}},395641:(e,t,a)=>{a.d(t,{Suggestion:()=>o.Suggestion});var o=a(111171)},644793:(e,t,a)=>{a.d(t,{Text:()=>l});var o=a(474848),r=a(296540),i=a(500774),n=a(132147),s=a(269285);const l=e=>{const t=(0,r.useMemo)((()=>(0,n.extractItemsIds)(e)),[e]),a=(0,n.getBlockByDataType)(e),l=(0,s.getEventItemTypeByDataType)(e);return(0,o.jsx)(i.Group,{mode:"plain",separator:"hide",children:t.map((t=>(0,r.createElement)(a,{...t,key:t.id,layout:e.layout.name,block_id:e.id,type:l})))})}},332798:(e,t,a)=>{a.d(t,{Text:()=>o.Text});var o=a(644793)},132147:(e,t,a)=>{a.d(t,{extractItemsIds:()=>i,getBlockByDataType:()=>n});var o=a(551090),r=a(908053);const i=e=>e.data_type===o.CatalogBlockDataType.SEARCH_SPELLCHECKER&&e?.search_spellcheckers_ids?.map((e=>({id:e})))||[],n=e=>e.data_type===o.CatalogBlockDataType.SEARCH_SPELLCHECKER?r.SearchSpellchecker:()=>null},556877:(e,t,a)=>{a.d(t,{TitleSubtitleAvatar:()=>s});var o=a(474848),r=a(296540),i=a(790645),n=a(269285);const s=e=>{const t=(0,r.useMemo)((()=>(0,i.extractItemsIds)(e)),[e]),a=(0,i.getBlockByDataType)(e),s=(0,n.getEventItemTypeByDataType)(e);return(0,o.jsx)("div",{children:t.map((t=>(0,o.jsx)(a,{...t,layout:e.layout.name,type:s},t.id)))})}},586984:(e,t,a)=>{a.d(t,{TitleSubtitleAvatar:()=>o.TitleSubtitleAvatar});var o=a(556877)},790645:(e,t,a)=>{a.d(t,{extractItemsIds:()=>i,getBlockByDataType:()=>n});var o=a(551090),r=a(558923);const i=e=>e.data_type===o.CatalogBlockDataType.ALBUMS&&e.albums_ids?.map((e=>({id:e})))||[],n=e=>e.data_type===o.CatalogBlockDataType.ALBUMS?r.Playlist:()=>null},417929:(e,t,a)=>{a.d(t,{TripleStackedSlider:()=>d});var o=a(474848),r=a(296540),i=a(273034),n=a(753457),s=a(269285),l=a(950720),c=a(694743);const d=e=>{const{blockResolvers:t}=(0,c.useCatalogConfig)(),a=(0,r.useMemo)((()=>(0,i.extractItemsIds)(e)),[e]),d=t?.[e.layout.name]?.(e)||(0,i.getBlockByDataType)(e),u=(0,s.getEventItemTypeByDataType)(e),_=(0,i.getDirectionType)(e),p=(0,i.getColumnsSize)(e),m=(0,r.useMemo)((()=>a.map((t=>({key:t.id,length:t.content_length,component:(0,o.jsx)(d,{...t,layout:e.layout.name,type:u})})))),a);return(0,o.jsx)(n.HorizontalScroll,{children:(0,o.jsx)(l.TripleStackedSliderItems,{directionType:_,content:m,columnsSize:p})})}},506882:(e,t,a)=>{a.d(t,{TripleStackedSliderItems:()=>c});var o=a(474848),r=a(694743),i=a(31158),n=a(8520),s=a(956637);const l={s:s.default.catalogTripleStackedSliderColumnS,m:s.default.catalogTripleStackedSliderColumn},c=({directionType:e,content:t,columnsSize:a="m"})=>{const c=e===i.DirectionType.row,d=c?(0,r.toColumnWithRows)(t,3):(0,n.chunkArray)(t,3);return(0,o.jsx)("div",{className:s.default.catalogTripleStackedSliderInner,children:d.map(((e,t)=>(0,o.jsx)("ul",{className:l[a],children:e?.map((e=>(0,o.jsx)("li",{children:(0,o.jsx)("div",{className:(0,n.classNames)(c&&s.default.row),children:e.component})},e.key)))},t)))})}},950720:(e,t,a)=>{a.d(t,{TripleStackedSliderItems:()=>o.TripleStackedSliderItems});var o=a(506882)},535379:(e,t,a)=>{a.d(t,{TripleStackedSlider:()=>o.TripleStackedSlider});var o=a(417929)},31158:(e,t,a)=>{var o;a.d(t,{DirectionType:()=>o}),function(e){e.row="row",e.column="column"}(o||(o={}))},273034:(e,t,a)=>{a.d(t,{extractItemsIds:()=>d,getBlockByDataType:()=>u,getColumnsSize:()=>c,getDirectionType:()=>l});var o=a(551090),r=a(587431),i=a(850933),n=a(164500),s=a(31158);const l=e=>e.data_type===o.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS?s.DirectionType.row:s.DirectionType.column,c=e=>e.data_type===o.CatalogBlockDataType.MUSIC_AUDIOS?"s":"m",d=e=>{switch(e.data_type){case o.CatalogBlockDataType.MUSIC_AUDIOS:return e.audios_ids?.map((e=>({id:e})))||[];case o.CatalogBlockDataType.LINKS:return e.links_ids?.map((e=>({id:e})))||[];case o.CatalogBlockDataType.GROUPS_ITEMS:return e.group_items||[];case o.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS:return e?.group_category_items?.map((({id:e,click_action:t})=>({id:e||"",action:t,content_length:t?.title?.length})))||[];default:return[]}},u=e=>{switch(e.data_type){case o.CatalogBlockDataType.MUSIC_AUDIOS:return r.MusicAudios;case o.CatalogBlockDataType.LINKS:return i.Link;case o.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS:return n.GroupCategory;default:return()=>null}}},723565:(e,t,a)=>{a.d(t,{ShortVideoCard:()=>c});var o=a(474848),r=a(468616),i=a(519659),n=a(946709),s=a(583998),l=a(542701);const c=({video:e,owner:t,href:a,getRootRef:c})=>{if(!e||!t)return null;const d=(0,n.getThumb)(e.image??e.first_frame??[],131);return(0,o.jsx)("div",{ref:c,className:r.default.card,children:(0,o.jsx)("a",{href:a,children:(0,o.jsx)(s.ClipContainer,{width:131,size:"compact",isLocked:(0,i.isLockedVideo)(e,t),isBlured:Boolean(e.restriction?.blur),mode:"cover",views:(0,l.formatCount)(e.views??0),cover:d,"data-testid":"clips-catalog-clip-card"})})})}},407174:(e,t,a)=>{a.d(t,{ShortVideoCard:()=>o.ShortVideoCard});var o=a(723565)},519659:(e,t,a)=>{a.d(t,{isLockedVideo:()=>r});var o=a(556118);function r(e,t){return Boolean(t?.id===window.vk.id)&&Boolean(e.privacy_view&&(0,o.isBasePrivacyLimited)(e.privacy_view))}},873805:(e,t,a)=>{a.d(t,{Video:()=>I});var o=a(474848),r=a(296540),i=a(347112),n=a(293721),s=a(695290),l=a(551090),c=a(899158),d=a(407174),u=a(371421),_=a(372637),p=a(522591),m=a(743478),g=a(891493),S=a(273555),v=a(123083),h=a(596104),C=a(33281),f=a(694743);a(724891);const I=({id:e,layout:t,type:a})=>{const{userId:I,appCatalogService:E}=(0,v.useCatalogConfig)(),k=(0,v.useCollectClick)(),y=(0,n.useStore)(E.$isStandaloneSection),T=(0,n.useStore)(E.pageService.$catalogType),[A,R]=e.toString().split("_"),L=(0,n.useStoreMap)({store:E.videoService.$videoItems,keys:[A,R],fn:(e,[t,a])=>e.find((({id:e,owner_id:o})=>e===+a&&o===+t))}),b=(0,n.useStoreMap)({store:E.videoService.$notInterestedVideos,keys:[e],fn:(e,[t])=>e.hasOwnProperty(String(t))}),x=(0,f.useCatalogStoreMap)(E.groupsService.$groups,Math.abs(Number(A))),O=(0,n.useStoreMap)({store:E.profilesService.$profiles,keys:[A],fn:(e,[t])=>e.get(+t)}),w=L?.main_artists?.length?L.main_artists[0]:void 0,N=L?.track_code,M=(0,S.useRefLogView)({type:a,trackCode:N}),P=(0,r.useCallback)((e=>{if(L){const t=e=>()=>{k?.({action:e,track_code:L.track_code,type:s.EventItemType.VIDEO})},a={fave:t(y?s.SearchClickActionMap.FAVE_OUT:s.SearchClickActionMap.FAVE),unfave:t(y?s.SearchClickActionMap.UNFAVE_OUT:s.SearchClickActionMap.UNFAVE),share:t(y?s.SearchClickActionMap.SHARE_OUT:s.SearchClickActionMap.SHARE),copy:t(y?s.SearchClickActionMap.COPY_LINK_OUT:s.SearchClickActionMap.COPY_LINK),addToMe:t(y?s.SearchClickActionMap.ADD_TO_ME_OUT:s.SearchClickActionMap.ADD_TO_ME),removeFromMe:t(y?s.SearchClickActionMap.REMOVE_FROM_ME_OUT:s.SearchClickActionMap.REMOVE_FROM_ME),removeRecent:t(s.SearchClickActionMap.REMOVE_RECENT)};E.videoService.openVideoActions({target:e.currentTarget,video:L,clickEvents:a})}}),[L,k,y]);if(!L)return null;const V=()=>{k?.({action:s.SearchClickActionMap.TAP,track_code:L?.track_code,type:s.EventItemType.VIDEO})},B=()=>{L?.owner_id&&L?.id&&E.videoService.markVideoNotInterested({owner_id:L.owner_id,video_id:L.id,is_unset:1})},D=(0,h.getUrlWithTrackCode)((0,C.getVideoUrl)(L),N,T)||"";switch(t){case l.CatalogBlockLayoutName.VIDEO_SLIDER:return(0,o.jsx)(c.VideoCard,{videoData:L||{},owner:x||O||w,catalogType:T,onMoreClick:P,isLargeCard:!0,getRootRef:M});case l.CatalogBlockLayoutName.SLIDER:return(0,o.jsx)(i.HorizontalCell,{getRootRef:M,size:"dynamic",href:D,children:(0,o.jsx)(c.VideoCard,{videoData:L||{},owner:x||O||w,catalogType:T})});case l.CatalogBlockLayoutName.LIST:case l.CatalogBlockLayoutName.SHORT_VIDEO_LIST:return(0,o.jsx)(g.VideoListItem,{getRootRef:M,title:L.title,secondTitle:(0,m.formatViews)(L.views,!0),lastTitle:(0,p.formatDateTime)(L.date,!0),url:D,preview:(0,o.jsx)(_.VideoPreview,{video:L||{},ownerId:Number((x||O||w)?.id||0),viewerId:I,mode:"compact"}),onMoreClick:P,onClick:V});case l.CatalogBlockLayoutName.LARGE_LIST:return b?(0,o.jsx)(u.VideoNotInterestedCard,{onClick:B}):(0,o.jsx)(c.VideoCard,{getRootRef:M,videoData:L,owner:x||O||w,fullWidth:!0,onMoreClick:P,catalogType:T});case l.CatalogBlockLayoutName.SHORT_VIDEO_SLIDER_WITH_VIEW_COUNTER:return(0,o.jsx)(d.ShortVideoCard,{getRootRef:M,href:(0,C.getVideoUrl)(L),video:L,owner:O||x});default:return null}}},283429:(e,t,a)=>{a.d(t,{VideoCard:()=>A});var o=a(474848),r=a(521023),i=a(329040),n=a(8520),s=a(414698),l=a(480958),c=a(595154),d=a(234337),u=a(105997),_=a(625646),p=a(962772),m=a(52509),g=a(372637),S=a(952881),v=a(417517),h=a(33281),C=a(522591),f=a(3931),I=a(743478),E=a(123083),k=a(695290),y=a(596104),T=a(27995);const A=({videoData:e,owner:t,fullWidth:a,onMoreClick:A,getRootRef:R,catalogType:L,isLargeCard:b})=>{const{userId:x}=(0,E.useCatalogConfig)(),O=Boolean(A&&!(0,T.isVKUserAnonymous)()),w=(0,E.useCollectClick)(),{restriction:N,live_status:M}=e,P=(0,S.getOwnerName)(t),V=(0,f.getOwnerAvatar)(t),B=Boolean(t&&"verified"in t&&t?.verified),D=(0,y.getUrlWithTrackCode)((0,h.getVideoUrl)(e),e.track_code,L),j=t?(0,v.getOwnerUrl)(t,"/video/@"):void 0,G=!a&&!b,F=!N,U=({children:e,href:t,...a})=>G?(0,o.jsx)("div",{...a,children:e}):(0,o.jsx)("a",{href:t,...a,children:e});let H;(a||b)&&e.width&&e.height&&(H=Math.max(r.MAX_RATIO,Math.min(e.height/e.width,r.MIN_RATIO)));const $=()=>{w({action:k.SearchClickActionMap.TAP,track_code:e.track_code,type:k.EventItemType.VIDEO})},z=()=>{w({action:k.SearchClickActionMap.OPEN_OWNER,track_code:e.track_code,type:k.EventItemType.VIDEO})},W=(0,o.jsxs)("div",{className:i.default.subtitle,children:[(0,o.jsx)("div",{className:i.default.userNameWrapper,children:(0,o.jsx)(U,{"data-testid":"video_card_author_name",href:j,onClick:z,className:i.default.userName,children:P})}),B&&(0,o.jsx)(u.Icon12Verified,{className:i.default.verifiedIcon}),(a||b)&&F&&(0,o.jsxs)(o.Fragment,{children:["·",(0,o.jsxs)("span",{className:i.default.views,children:[(0,o.jsx)(_.Icon12View,{className:i.default.viewIcon})," ",(0,I.formatViews)(e?.views)]}),!M&&(0,o.jsxs)(o.Fragment,{children:["·",(0,o.jsx)("span",{children:(0,C.formatDateTime)(e?.date)})]})]})]});return(0,o.jsxs)("div",{ref:R,className:(0,n.classNames)(!a&&!b&&i.default.cardRounded,b&&i.default.largeCard),children:[(0,o.jsx)(g.VideoPreview,{video:e,ownerId:Number(t?.id||0),viewerId:x,itemUrl:G?"":D,onItemClick:$,mode:"regular",ratio:H,withTimeline:!0,fullWidth:a}),(0,o.jsxs)("div",{className:i.default.info,children:[(0,o.jsxs)("div",{className:i.default.main,children:[(a||b)&&(0,o.jsx)(U,{"data-testid":"video_card_author",href:j,onClick:z,className:i.default.avatarWrapper,children:(0,o.jsx)(s.Avatar,{src:V,size:40})}),(0,o.jsxs)("div",{className:i.default.titleWrapper,children:[(0,o.jsx)(U,{"data-testid":"video_card_title",href:D,onClick:$,className:i.default.title,children:(0,o.jsx)(l.TextClamp,{lines:b?1:2,children:e?.title})}),W]})]}),O&&(0,o.jsx)(c.IconButton,{"data-testid":"video_card_more",className:(0,d.getColorClass)("color_icon_tertiary"),onClick:A,children:b?(0,o.jsx)(p.Icon24MoreVertical,{}):(0,o.jsx)(m.Icon24MoreHorizontal,{})})]})]})}},899158:(e,t,a)=>{a.d(t,{VideoCard:()=>o.VideoCard});var o=a(283429)},263071:(e,t,a)=>{a.d(t,{VideoCardActionSheet:()=>u});var o=a(474848),r=a(293721),i=a(296540),n=a(269285),s=a(610989),l=a(694743),c=a(189776),d=a(757459);const u=({target:e,video:t,clickEvents:a={}})=>{const{appCatalogService:u}=(0,l.useCatalogConfig)(),{openVideoEditor:_,useConfirmPopout:p,VideoActionSheet:m}=(0,l.useCatalogVideo)(),g=(0,r.useStore)(u.catalogService.$catalog),S=(0,r.useStore)(u.$isStandaloneSection),v=(0,i.useMemo)((()=>g?.sections?.find((({id:e})=>e===g?.default_section))),[g?.sections,g?.default_section]),h=v?.blocks?.[0]?.albums_ids?.[0],{ownerId:C,itemId:f}=(0,d.splitRawId)(h||""),I=(0,r.useStoreMap)({store:u.playlistService.$playlistItems,keys:[C||0,f||0],fn:(e,[t,a])=>e.find((({id:e,owner_id:o})=>e===a&&o===t))}),E=t.owner_id||0,k=t.id||0,y=Boolean((0,n.testPlaylistSection)(v?.url)&&C&&f&&I?.can_upload),T=(0,n.testHistorySection)(S?window.location.pathname:v?.url),A=Boolean(!I?.can_upload||C===window.vk.id),R=Boolean(t.can_dislike&&((0,n.testDiscoverSection)(v?.url)||"/video"===window.location.pathname)),L=t.can_delete&&E!==window.vk.id,b=p({titleLabel:s.getLang("mobile_video_delete_video_confirm_title"),textLabel:s.getLang("mobile_video_delete_video_confirm_text"),callback:()=>{u.videoService.removeVideoFromMyVideos({target_id:window.vk.id,owner_id:E,video_id:k})}}),x=p({titleLabel:s.getLang("mobile_video_delete_video_confirm_title"),textLabel:s.getLang("mobile_video_delete_video_from_group_confirm_text"),callback:()=>{u.videoService.removeVideoFromMyVideos({target_id:E,owner_id:E,video_id:k})}});return(0,o.jsx)(m,{actionSheetId:"catalog_sheet_video_card",target:e,video:t,onClose:()=>u.layoutService.setPopout(null),onSuccessCopyLink:()=>u.layoutService.showSnackbar({event:c.SNACKBAR_EVENTS.COPY_LINK}),clickEvents:a,removeVideoFromMyVideos:A?b:void 0,removeVideo:L?x:void 0,addVideoToMyVideos:()=>{u.videoService.addVideoToMyVideos({target_id:window.vk.id,owner_id:E,video_id:k})},removeVideoFromFave:()=>{u.videoService.removeVideoFromFave({owner_id:E,id:k})},addVideoToFave:()=>{u.videoService.addVideoToFave({owner_id:E,id:k,ref:t.track_code})},editVideo:()=>{_({video:t,ownerId:E})},moveToPlaylist:()=>{u.videoService.openAddToPlaylistModal({ownerId:E,videoId:k})},removeVideoFromHistory:T?()=>{u.videoService.removeVideoFromHistory({owner_id:E,video_id:k})}:void 0,removeVideoFromPlaylist:y?()=>{u.videoService.removeVideoFromPlaylist({target_id:Number(C),album_ids:String(f),owner_id:E,video_id:k})}:void 0,markVideoNotInterested:R?()=>{u.videoService.markVideoNotInterested({owner_id:E,video_id:k,is_unset:0})}:void 0})}},671839:(e,t,a)=>{a.d(t,{VideoCardActionSheet:()=>o.VideoCardActionSheet});var o=a(263071)},371421:(e,t,a)=>{a.d(t,{VideoNotInterestedCard:()=>u});var o=a(474848),r=a(785118),i=a(259936),n=a(380118),s=a(234337),l=a(533048),c=a(428918),d=a(610989);const u=({onClick:e})=>(0,o.jsxs)(r.Div,{mode:"horizontal",spacing:8,children:[(0,o.jsx)(i.StatusBanner,{header:(0,o.jsx)(n.Subhead,{className:(0,s.getColorClass)("color_text_secondary"),children:d.getLang("mobile_video_not_interested_placeholder")}),before:null,after:(0,o.jsx)(l.Button,{"data-testid":"video_not_interested_card_button",onClick:e,mode:"tertiary",children:d.getLang("mobile_video_not_interested_placeholder_action")})}),(0,o.jsx)(c.Spacing,{})]})},456272:(e,t,a)=>{a.d(t,{Video:()=>o.Video});var o=a(873805)},724891:(e,t,a)=>{var o=a(474848),r=a(694743),i=a(32489),n=a(671839);const s=r.appCatalogService.domain.createEffect({name:"fetch/openVideoActions",handler:({target:e,video:t,clickEvents:a})=>{t&&(r.appCatalogService.layoutService.setSnackbar(null),r.appCatalogService.layoutService.setPopout((0,o.jsx)(n.VideoCardActionSheet,{target:e,video:t,clickEvents:a})))}});(0,i.sample)({clock:r.appCatalogService.videoService.openVideoActions,target:s})},63290:(e,t,a)=>{a.d(t,{Action:()=>i});var o=a(474848),r=a(831477);const i=({action:e,...t})=>{if(!e)return null;const a=(0,r.getActionByType)(e);return(0,o.jsx)(a,{...t,action:e})}},608115:(e,t,a)=>{a.d(t,{BlockFilter:()=>u});var o=a(474848),r=a(296540),i=a(753457),n=a(293721),s=a(551090),l=a(694743),c=a(854196);const d=e=>`catalog-action-${e}`,u=({layout:e,action:t})=>{const{appCatalogService:a}=(0,l.useCatalogConfig)(),u=(0,n.useStore)(a.actionsService.$selectedAction),_=(0,r.useCallback)((e=>{const{replacement_id:t,url:o}=e;if(t!==u?.replacement_id&&a.actionsService.selectAction(e),!o)return;const r=new URL(o);r.origin===window.location.origin&&history.replaceState(null,"",r)}),[u]);return(0,r.useEffect)((()=>{u?.replacement_id&&document.getElementById(d(u.replacement_id))?.scrollIntoView({block:"nearest",behavior:"smooth",inline:"center"})}),[u?.replacement_id]),e===s.CatalogBlockLayoutName.SLIDER?(0,o.jsx)(o.Fragment,{children:t.options?.map((e=>{const{replacement_id:t,selected:a,text:r}=e,n=u?t===u.replacement_id:1===a;return(0,o.jsx)(i.SubnavigationButton,{id:d(t),className:c.default.root,selected:n,mode:n?"tertiary":"outline",onClick:()=>_(e),size:"s","data-testid":`tab-${r.replace(" ","_")}`,children:r},t)}))}):null}},299830:(e,t,a)=>{a.d(t,{BlockFilter:()=>o.BlockFilter});var o=a(608115)},608423:(e,t,a)=>{a.d(t,{OpenUrl:()=>s});var o=a(474848),r=a(732356),i=a(765668),n=a(551090);const s=({action:e,layout:t})=>{const a=e?.action?.url;return t===n.CatalogBlockLayoutName.SLIDER?(0,o.jsx)(r.HorizontalCellShowMore,{href:a,size:"l",stretched:!0,children:e.title}):(0,o.jsx)(i.Link,{href:a,children:e.title})}},476540:(e,t,a)=>{a.d(t,{OpenUrl:()=>o.OpenUrl});var o=a(608423)},988323:(e,t,a)=>{a.d(t,{OpenVideo:()=>s});var o=a(474848),r=a(757459),i=a(765668),n=a(123083);const s=({action:e})=>{const{videoCardProps:t}=(0,n.useCatalogDesktopVideo)(),{video_raw_id:a}=e;if(void 0===a)return null;return(0,o.jsx)(i.Link,{noUnderline:!0,onClick:e=>{const{itemId:o,ownerId:i}=(0,r.splitRawId)(a);t.onVideoOpen(e,{id:o,owner_id:i})},children:e.title})}},455394:(e,t,a)=>{a.d(t,{OpenVideo:()=>o.OpenVideo});var o=a(988323)},744223:(e,t,a)=>{a.d(t,{OpenVideoPlaylist:()=>n});var o=a(474848),r=a(765668),i=a(123083);const n=({action:e})=>{const{onPlaylistOpen:t}=(0,i.useCatalogDesktopVideo)(),{album_id:a,owner_id:n,video_raw_id:s}=e;return void 0===a||void 0===n||void 0===s?null:(0,o.jsx)(r.Link,{noUnderline:!0,onClick:e=>t(e,{id:a,owner_id:n,first_video_id:s}),"data-testid":"play_all_playlist_button",children:e.title})}},237704:(e,t,a)=>{a.d(t,{OpenVideoPlaylist:()=>o.OpenVideoPlaylist});var o=a(744223)},110035:(e,t,a)=>{a.d(t,{SwitchSection:()=>d});var o=a(474848),r=a(732356),i=a(765668),n=a(687604),s=a(581903),l=a(695290),c=a(551090);const d=({action:e,layout:t})=>{const a=e?.action?.url,d=()=>{const e=(0,n.getTrackCode)("search_track_code");e&&s.searchStatsCollector.logEvent({action:l.SearchClickActionMap.TAP_SHOW_ALL,track_code:e,type:l.EventItemType.CATALOG_ITEM})};return t===c.CatalogBlockLayoutName.SLIDER?(0,o.jsx)(r.HorizontalCellShowMore,{href:a,size:"l",stretched:!0,children:e.title}):(0,o.jsx)(i.Link,{href:a,onClick:d,children:e.title})}},86250:(e,t,a)=>{a.d(t,{SwitchSection:()=>o.SwitchSection});var o=a(110035)},810675:(e,t,a)=>{a.d(t,{VideoSubscriptionsBlockFilter:()=>c});var o=a(474848),r=a(293721),i=a(736841),n=a(66816),s=a(397006),l=a(581903);const c=({action:e,layout:t})=>{const a=(0,r.useStore)(i.appCatalogService.actionsService.$selectedAction);if(!e.options?.length)return null;const c=e.options.some((e=>1===e.selected));return(0,o.jsx)(o.Fragment,{children:e.options.map((r=>{const d=()=>{r.replacement_id!==a?.replacement_id&&1!==r.selected?(l.videoAuthorFilterClickCollector.logEvent(r.trackcode),i.appCatalogService.actionsService.selectAction(r)):e.default_option&&i.appCatalogService.actionsService.selectAction(e.default_option)};return r.group_id?(0,o.jsx)(n.GroupItem,{id:r.group_id,elementId:(u=r.replacement_id,`catalog-action-${u}`),onClick:d,layout:t,...(0,s.getBlockFilterGroupMode)(a,r,c)},r.group_id):null;var u}))})}},397006:(e,t,a)=>{a.d(t,{getBlockFilterGroupMode:()=>o});const o=(e,t,a)=>e?e.replacement_id===t.replacement_id?{activated:!0}:{disableOpacity:!0}:a?1===t.selected?{activated:!0}:{disableOpacity:!0}:void 0},892295:(e,t,a)=>{a.d(t,{VideoSubscriptionsBlockFilter:()=>o.VideoSubscriptionsBlockFilter});var o=a(810675)},831477:(e,t,a)=>{a.d(t,{getActionByType:()=>p});var o=a(551090),r=a(526739),i=a(299830),n=a(476540),s=a(86250),l=a(892295),c=a(455394),d=a(237704),u=a(995514);const _=()=>null,p=e=>{switch(e.action?.type){case o.CatalogActionType.BLOCK_FILTER:return i.BlockFilter;case o.CatalogActionType.OPEN_URL:return n.OpenUrl;case o.CatalogActionType.SWITCH_SECTION:return s.SwitchSection;case o.CatalogActionType.CLEAR_RECENT_GROUPS:return u.ClearRecentGroups;case o.CatalogActionType.VIDEO_SUBSCRIPTIONS_BLOCK_FILTER:return l.VideoSubscriptionsBlockFilter;case o.CatalogActionType.OPEN_SECTION:return r.OpenSection;case o.CatalogActionType.OPEN_VIDEO_MODAL:return c.OpenVideo;case o.CatalogActionType.OPEN_VIDEO_PLAYLIST_MODAL:return d.OpenVideoPlaylist;default:return _}}},468146:(e,t,a)=>{a.d(t,{Action:()=>o.Action});var o=a(63290)},767584:(e,t,a)=>{a.d(t,{GroupItem:()=>u});var o=a(474848),r=a(347112),i=a(480958),n=a(280234),s=a(7144),l=a(551090),c=a(331955),d=a(694743);const u=({id:e,layout:t,elementId:a,onClick:u,activated:_,disableOpacity:p})=>{const{appCatalogService:m}=(0,d.useCatalogConfig)(),g=(0,d.useCatalogStoreMap)(m.groupsService.$groups,e);if(!g)return null;const S=((0,s.isRetina)()?g.photo_200:g.photo_100)||"";return t===l.CatalogBlockLayoutName.SLIDER?(0,o.jsx)(r.HorizontalCell,{id:a,size:"m",header:(0,o.jsx)(i.TextClamp,{lines:1,className:c.default.title,title:g.name,children:g.name}),activated:_,disableOpacity:p,onClick:u,children:(0,o.jsx)(n.RichAvatar,{size:72,src:S,nft:Boolean(g.is_nft_photo)})}):null}},66816:(e,t,a)=>{a.d(t,{GroupItem:()=>o.GroupItem});var o=a(767584)},282688:(e,t,a)=>{a.d(t,{Header:()=>s});var o=a(474848),r=a(296540),i=a(625134),n=a(468146);const s=({actions:e,layout:t,badge:a,...s})=>(0,o.jsx)(i.Header,{size:"large",aside:e?.map(((e,a)=>(0,r.createElement)(n.Action,{...s,key:e.track_code||a,action:e,layout:t.name}))),indicator:a?.text,stretched:!1,children:t.title})},231681:(e,t,a)=>{a.d(t,{Header:()=>o.Header});var o=a(282688)},268672:(e,t,a)=>{a.d(t,{IslandSeparator:()=>i});var o=a(474848),r=a(373763);const i=()=>(0,o.jsxs)("div",{className:r.default.separator,children:[(0,o.jsx)("div",{className:r.default.upperSeparator}),(0,o.jsx)("div",{className:r.default.lowerSeparatorWrapper,children:(0,o.jsx)("div",{className:r.default.lowerSeparator})})]})},627836:(e,t,a)=>{a.d(t,{IslandSeparator:()=>o.IslandSeparator});var o=a(268672)},598638:(e,t,a)=>{a.d(t,{Link:()=>n});var o=a(474848),r=a(162730),i=a(694743);const n=({id:e})=>{const{appCatalogService:t}=(0,i.useCatalogConfig)(),a=(0,i.useCatalogStoreMap)(t.linksService.$links,e);return a?(0,o.jsx)(r.MusicCell,{thumb:a?.image?.length?a.image[0].url:"",title:"",duration:0,after:(0,o.jsx)(o.Fragment,{}),artists:[{name:a.title??"",href:a.url??""}],thumbSize:48}):null}},82676:(e,t,a)=>{a.d(t,{Link:()=>o.Link});var o=a(598638)},996550:(e,t,a)=>{a.d(t,{List:()=>m});var o=a(474848),r=a(753457),i=a(126960),n=a(8520),s=a(293721),l=a(123083),c=a(269285),d=a(108578),u=a(515647),_=a(151305);const p={className:a(192313).default.list,rowSpacing:24,columnSpacing:12,numberOfSkeletons:12},m=e=>{const{listGridProps:t}=(0,l.useCatalogDesktopVideo)(),{appCatalogService:a}=(0,l.useCatalogConfig)(),{spacing:m,rowSpacing:g,columnSpacing:S,numberOfSkeletons:v,columnsQueries:h,columnsDefault:C,...f}=t||p,I=m?{spacing:m}:{rowSpacing:g,columnSpacing:S},E=(0,u.useListAdaptivityColumns)(h,C),k=(0,c.extractItemsIds)(e),y=(0,d.getBlockByDataType)(e),T=(0,s.useStore)(a.catalogService.$loadingBlockIds).includes(e.id),A=(0,_.isListItemSkeletonAvailable)(e);return T&&!A?(0,o.jsx)(r.PanelSpinner,{}):(0,o.jsx)(i.Grid,{...f,...I,columns:E,children:T?(0,n.createArray)(v||0).map(((t,a)=>(0,o.jsx)(i.Grid.Item,{children:(0,o.jsx)(_.ListItemSkeleton,{...e},a)},a))):k?.map((({id:t,...a})=>(0,o.jsx)(i.Grid.Item,{children:(0,o.jsx)(y,{...a,id:t,layout:e.layout.name,itemBadges:e.item_badges})},t)))})}},3815:(e,t,a)=>{a.d(t,{ListItemSkeleton:()=>s,isListItemSkeletonAvailable:()=>n});var o=a(474848),r=a(551090),i=a(86999);const n=e=>[r.CatalogBlockDataType.VIDEOS].includes(e.data_type),s=e=>n(e)&&e.data_type===r.CatalogBlockDataType.VIDEOS?(0,o.jsx)(i.VideoCardSkeleton,{singleLineTitle:!0}):null},151305:(e,t,a)=>{a.d(t,{ListItemSkeleton:()=>o.ListItemSkeleton,isListItemSkeletonAvailable:()=>o.isListItemSkeletonAvailable});var o=a(3815)},108578:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>d});var o=a(551090),r=a(776982),i=a(86999),n=a(113260),s=a(747979),l=a(11593);const c=()=>null,d=e=>{switch(e.data_type){case o.CatalogBlockDataType.ALBUMS:return r.Playlist;case o.CatalogBlockDataType.SEARCH_AUTHORS:return s.SearchAuthor;case o.CatalogBlockDataType.VIDEOS:return i.Video;case o.CatalogBlockDataType.GROUPS_INVITES:return l.GroupInvite;case o.CatalogBlockDataType.MUSIC_AUDIOS:return n.MusicAudios;default:return c}}},156248:(e,t,a)=>{a.d(t,{List:()=>o.List,useListAdaptivityColumns:()=>r.useListAdaptivityColumns});var o=a(996550),r=a(515647)},515647:(e,t,a)=>{a.d(t,{useListAdaptivityColumns:()=>r});var o=a(670432);const r=(e=[{value:3,query:{minWidth:1106,maxWidth:1357}},{value:4,query:{minWidth:1358,maxWidth:2040}},{value:5,query:{minWidth:2041}}],t=2)=>(0,o.useAdaptivityMediaQueries)(e,t)},929012:(e,t,a)=>{a.d(t,{MusicAudios:()=>S});var o=a(474848),r=a(943081),i=a(610989),n=a(785118),s=a(162730),l=a(293721),c=a(345654),d=a(123083),u=a(695290),_=a(273555),p=a(694743),m=a(514640),g=a(441914);const S=({id:e,type:t,block_id:a})=>{const{musicPlayer:S,userId:v,appCatalogService:h}=(0,d.useCatalogConfig)(),{id:C}=(0,g.mapAPIRawIdToAudioIdentity)(String(e)),f=(0,l.useStoreMap)(h.audioService.$audioItems,(e=>Array.from(e,(([,e])=>e)))),I=(0,p.useCatalogStoreMap)(h.audioService.$audioItems,e),E=(0,l.useStore)(h.audioService.$audioModifiedItems),k=E?.[C],y=(0,c.useAudioPlayer)(),T=(0,d.useCollectClick)(),A=(0,_.useRefLogView)({type:t,trackCode:I?.track_code});if(!I)return null;const R=y?.currentAudio?.id===I?.id,L=R&&"playing"===y.status,b=(()=>{const a=!!k?.isAdded||!k?.isDeleted&&I.owner_id===v,o={action:a?u.SearchClickActionMap.REMOVE_FROM_ME:u.SearchClickActionMap.ADD_TO_ME,track_code:I.track_code,type:t},r={audio_id:I.id,owner_id:I.owner_id,user_id:v,access_key:I.access_key||""};return[{children:a?i.getLang("global_delete_audio"):i.getLang("global_add_to_audio"),onClick:t=>(t.stopPropagation(),T(o),y.platformAudioPlayer?.notify?.(a?m.AudioPlayerEventType.REMOVED:m.AudioPlayerEventType.ADDED,e),void(a?h.audioService.deleteAudioFromMyList:h.audioService.addAudioToMyList)(r))}]})();return(0,o.jsx)(n.Div,{getRootRef:A,mode:"horizontal",children:(0,o.jsx)(s.MusicCell,{thumb:I?.album?.thumb?.photo_135,title:I.title,artists:I.main_artists?I.main_artists:[{name:I.artist}],featuredArtists:I.featured_artists,duration:I.duration,isPlaying:L,isActive:R,isExplicit:I.is_explicit,onClick:()=>{if(T({action:L?u.SearchClickActionMap.PAUSE:u.SearchClickActionMap.PLAY,track_code:I.track_code,type:t}),L)y?.platformAudioPlayer?.pause();else{const e=S?.playlistType&&{ownerId:v,albumId:I?.id,type:S.playlistType,blockId:a},t=`catalog:${a}`;y?.platformAudioPlayer?.playAudio(I,f,t,e)}},after:(0,o.jsx)(r.MusicAudiosMenu,{items:b}),thumbSize:48})})}},943081:(e,t,a)=>{a.d(t,{MusicAudiosMenu:()=>s});var o=a(474848),r=a(349826),i=a(234337),n=a(52509);const s=({items:e=[]})=>{const t=e.map(((e,t)=>(0,o.jsx)(r.DropdownActionSheet.Item,{...e},t)));return(0,o.jsx)(r.DropdownActionSheet,{trigger:"click",placement:"bottom-end",content:(0,o.jsx)(o.Fragment,{children:t}),children:(0,o.jsx)(n.Icon24MoreHorizontal,{onClick:e=>{e.stopPropagation(),e.preventDefault()},className:(0,i.getColorClass)("color_icon_secondary")})})}},113260:(e,t,a)=>{a.d(t,{MusicAudios:()=>o.MusicAudios});var o=a(929012)},361396:(e,t,a)=>{a.d(t,{MusicPlaylist:()=>v});var o=a(474848),r=a(296540),i=a(542701),n=a(587026),s=a(480958),l=a(380118),c=a(175712),d=a(89409),u=a(952881),_=a(694743),p=a(695290),m=a(159995),g=a(345654),S=a(687604);const v=(0,r.memo)((0,_.withCatalogStore)((({item:e,blockId:t,collectClick:a,getRootRef:d,trackCode:v})=>{const{findOwner:h}=(0,_.useCatalogOwner)(),{showAudioPlaylist:C}=(0,_.useCatalogSearch)(),{currentPlaylist:f,platformAudioPlayer:I,status:E}=(0,g.useAudioPlayer)(),k=(0,r.useMemo)((()=>h(e.owner_id)),[h,e]),y=`catalog:${t}`,T=e.original?e.original.playlist_id===f?.original?.playlist_id&&e.original.owner_id===f.original.owner_id:f?.id===e.id&&f.owner_id===e.owner_id,A=T&&E===m.AudioPlayerStatus.PLAYING,{title:R,main_artists:L,thumbs:b,photo:x,year:O,count:w,plays:N}=e,M=L?.map((e=>e.name)).join(", ")||(0,u.getOwnerName)(k),P=[x,...b??[]].map((e=>e?.photo_270)).filter((e=>Boolean(e)));return(0,o.jsx)("div",{ref:d,children:(0,o.jsx)(n.MusicPlaylistItem,{size:"l",thumbs:P,onClick:t=>{a(p.SearchClickActionMap.TAP),C?.({event:t,ctx:y,audioPlaylist:e,onDone:()=>(0,S.setTrackCode)("search_track_code",v)})},countLabel:w,isActive:T,isPlaying:A,playsLabel:(0,i.formatCount)(N),onPlayPauseClick:()=>{I&&(a(A?p.SearchClickActionMap.PAUSE:p.SearchClickActionMap.PLAY),A?I.pause():I.playPlaylist(e,y))},title:(0,o.jsx)(s.TextClamp,{TypographyComponent:l.Text,lines:1,children:R}),subtitle:(0,o.jsxs)(c.Join,{separator:" ",children:[(0,o.jsx)(s.TextClamp,{TypographyComponent:l.Subhead,weight:"3",lines:1,children:M}),O&&(0,o.jsx)(l.Subhead,{weight:"3",children:O})]})})})}),_.appCatalogService.musicPlaylistsService.$musicPlaylists,(e=>"playlist"===(0,d.getAudioPlaylistAlbumType)(e)?p.EventItemType.MUSIC_PLAYLIST:p.EventItemType.MUSIC_ALBUM)))},581733:(e,t,a)=>{a.d(t,{MusicPlaylist:()=>o.MusicPlaylist});var o=a(361396)},82072:(e,t,a)=>{a.d(t,{PinnedVideo:()=>u});var o=a(474848),r=a(269285),i=a(123083),n=a(93557),s=a(293721),l=a(753457),c=a(785118),d=a(338891);const u=e=>{const{appCatalogService:t}=(0,i.useCatalogConfig)(),a=(0,r.extractItemsIds)(e),u=(0,n.getBlockByDataType)(e);if((0,s.useStore)(t.catalogService.$loadingBlockIds).includes(e.id))return(0,o.jsx)(l.PanelSpinner,{});const[{id:_,...p}]=a,m=String(_);return(0,o.jsx)(c.Div,{mode:"vertical",spacing:8,className:d.default.container,children:(0,o.jsx)(u,{id:m,...p,layout:e.layout.name,kitVideoCardProps:{direction:"horizontal"}})})}},93557:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>n});var o=a(551090),r=a(86999);const i=()=>null,n=e=>e.data_type===o.CatalogBlockDataType.VIDEOS?r.Video:i},149725:(e,t,a)=>{a.d(t,{PinnedVideo:()=>o.PinnedVideo});var o=a(82072)},361308:(e,t,a)=>{a.d(t,{Placeholder:()=>c});var o=a(474848),r=a(753457),i=a(923594),n=a(293721),s=a(123083),l=a(889300);const c=({placeholder_ids:e,id:t})=>{const{appCatalogService:a,withStretchedPlaceholders:c}=(0,s.useCatalogConfig)(),d=(0,n.useStore)(a.placeholdersService.$placeholders);return(0,n.useStore)(a.catalogService.$loadingBlockIds).includes(t)?(0,o.jsx)(r.PanelSpinner,{}):(0,o.jsx)(o.Fragment,{children:e?.map((e=>{const t=d.get(e);if(!t)return null;const{title:a,text:r,vk_icons_icon:n}=t,s=(0,l.getPlaceholderIcon)(n);return(0,o.jsx)(i.Placeholder,{icon:s,header:a,stretched:c,children:r},e)}))})}},580924:(e,t,a)=>{a.d(t,{PLACEHOLDER_ICONS:()=>i});var o=a(715083),r=a(62802);const i={list_play_outline_36:o.Icon36ListPlayOutline,hearts_2_outline_36:r.Icon36Hearts2Outline}},820557:(e,t,a)=>{a.d(t,{Placeholder:()=>o.Placeholder});var o=a(361308)},889300:(e,t,a)=>{a.d(t,{getPlaceholderIcon:()=>i});var o=a(474848),r=a(580924);const i=e=>{const t=e?r.PLACEHOLDER_ICONS[e]:void 0;return t&&(0,o.jsx)(t,{})}},304242:(e,t,a)=>{a.d(t,{Playlist:()=>c});var o=a(474848),r=a(757459),i=a(293721),n=a(296540),s=a(481047),l=a(123083);const c=({id:e,itemBadges:t})=>{const{appCatalogService:a}=(0,l.useCatalogConfig)(),c=(0,i.useStoreMap)({store:a.playlistService.$playlistItems,keys:[e],fn:(e,[t])=>{const{ownerId:a,itemId:o}=(0,r.splitRawId)(t);return e.find((e=>e.id===o&&e.owner_id===a))}}),d=(0,i.useStoreMap)({store:a.playlistService.$playlistsSubscribeLoading,keys:[e],fn:(e,[t])=>e.has(t)}),u=(0,n.useMemo)((()=>t?.some((t=>t.item_id===e&&"primary"===t.badge?.type))),[t]);return c?(0,o.jsx)(s.PlaylistCard,{playlist:c,isSubscribeLoading:d,isUpdated:u}):null}},337977:(e,t,a)=>{a.d(t,{PlaylistCard:()=>d});var o=a(474848),r=a(446290),i=a(123083),n=a(610989),s=a(717298),l=a(265514),c=a(718333);const d=e=>{const{playlist:t,isUpdated:a}=e,{isAvatarHidden:d,onPlaylistOpen:u}=(0,i.useCatalogDesktopVideo)(),_=(0,l.usePlaylist)(t),p=(0,s.useOverlay)(t),m=(0,c.useMenuItems)(e);return _?(0,o.jsx)(r.VideoPlaylistCard,{item:_,withBadge:a,isAvatarHidden:d,menuItems:m,overlay:p,hoverText:n.getLang("video_playlist_watch_all_videos"),onClick:e=>u(e,t)}):null}},481047:(e,t,a)=>{a.d(t,{PlaylistCard:()=>o.PlaylistCard});var o=a(337977)},718333:(e,t,a)=>{a.d(t,{useMenuItems:()=>p});var o=a(474848),r=a(296540),i=a(307438),n=a(829713),s=a(629775),l=a(725763),c=a(485749),d=a(490639),u=a(610989),_=a(123083);const p=e=>{const{playlist:t,isSubscribeLoading:a}=e,{onPlaylistUpload:p,onPlaylistEdit:m,onPlaylistCopyUrl:g,onPlaylistToggleSubscribe:S,onPlaylistDelete:v}=(0,_.useCatalogDesktopVideo)();return(0,r.useMemo)((()=>{const e=[],r=window.vk.id===t.owner_id;return t.can_upload&&e.push({before:(0,o.jsx)(i.Icon20ListAddOutline,{}),children:u.getLang("video_playlist_add"),onClick:e=>p(e,t),"data-testid":"playlist_card_add_video_button"}),t.can_edit&&e.push({before:(0,o.jsx)(n.Icon20WriteOutline,{}),children:u.getLang("video_edit_playlist"),onClick:e=>m(e,t),"data-testid":"playlist_card_edit_button"}),t.is_system||r||e.push({before:t.is_subscribed?(0,o.jsx)(s.Icon20CheckAlt,{}):(0,o.jsx)(l.Icon20AddSquareOutline,{}),children:t.is_subscribed?u.getLang("video_you_subscribed_to_playlist"):u.getLang("video_subscribe_to_playlist"),onClick:a?void 0:e=>S(e,t),loading:a,keepOpen:!0,"data-testid":"playlist_card_subscribe_button"}),e.push({before:(0,o.jsx)(c.Icon20CopyOutline,{}),children:u.getLang("video_copy_playlist_url"),onClick:e=>g(e,t),"data-testid":"playlist_card_copy_link_button"}),t.can_delete&&e.push({type:"destructive",before:(0,o.jsx)(d.Icon20DeleteOutline,{}),children:u.getLang("video_delete_playlist"),onClick:e=>v(e,t),"data-testid":"playlist_card_delete_button"}),e}),[t,a,p,m,S,g,v])}},717298:(e,t,a)=>{a.d(t,{useOverlay:()=>i});var o=a(296540),r=a(123083);const i=e=>{const{playlistOverlay:t}=(0,r.useCatalogDesktopVideo)(),[a,i]=(0,o.useState)(!0),[n,s]=(0,o.useMemo)((()=>{const o=t?.(e);if(!o)return[];const{actionProps:r,hideTime:i,...n}=o;return[i,a?{...n,actionProps:r}:n]}),[a,e,t]);return(0,o.useEffect)((()=>{if(void 0===n)return;const e=setTimeout((()=>{i(!1)}),n);return()=>{clearTimeout(e)}}),[n]),s}},265514:(e,t,a)=>{a.d(t,{usePlaylist:()=>n});var o=a(296540),r=a(123083),i=a(422495);const n=e=>{const{findOwner:t}=(0,r.useCatalogOwner)(),{ownerRoutePrefix:a}=(0,r.useCatalogDesktopVideo)();return(0,o.useMemo)((()=>{const o=t(e.owner_id);return o?{...(0,i.mapPlaylistToPlaylistCardItem)(e),owner:(0,i.mapUserOrGroupToPlaylistCardOwner)(o,a)}:null}),[e,t,a])}},776982:(e,t,a)=>{a.d(t,{Playlist:()=>o.Playlist});var o=a(304242)},689704:(e,t,a)=>{a.d(t,{SearchAuthor:()=>d});var o=a(474848),r=a(847891),i=a(694743),n=a(551090),s=a(948476),l=a(695290),c=a(293721);const d=({id:e,content_type:t,description:a,layout:d,track_code:u})=>{const{appCatalogService:_}=(0,i.useCatalogConfig)(),p=(0,c.useStore)(_.pageService.$catalogType),m=(0,i.useCollectClick)(),g=(0,i.useRefLogView)({type:l.EventItemType.SEARCH_AUTHOR,trackCode:u}),S=(0,c.useStore)(_.pageService.$pageId),v=(0,i.useCatalogStoreMap)(_.groupsService.$groups,r.Ranges.convertOwnerIdToGroupId(e));if(!v)return null;const h=()=>{p===i.CatalogType.SEARCH&&m({action:l.SearchClickActionMap.TAP,track_code:u,type:l.EventItemType.SEARCH_AUTHOR})};switch(d){case n.CatalogBlockLayoutName.LARGE_LIST:case n.CatalogBlockLayoutName.LIST_WITH_NOTIFICATION_STATE:if("videos"===t)return(0,o.jsx)(s.VideoSearchAuthor,{onClick:h,group:v,description:a,getRootRef:p===i.CatalogType.SEARCH?g:void 0,trackCode:"SearchSubscriptionsModal"===S?u:void 0});default:return null}}},392788:(e,t,a)=>{a.d(t,{VideoSearchAuthor:()=>u});var o=a(474848),r=a(607200),i=a(280234),n=a(480958),s=a(380118),l=a(694743),c=a(7144),d=a(417517);const u=({group:e,description:t,onClick:a,getRootRef:u,trackCode:_})=>{const{ownerRoutePrefix:p}=(0,l.useCatalogDesktopVideo)(),m=_?`?search_track_code=${_}`:"",g=(0,d.getOwnerUrl)(e,p,m),S=((0,c.isRetina)()?e.photo_200:e.photo_100)||"";return(0,o.jsx)(r.RichCell,{getRootRef:u,href:g,onClick:a,before:(0,o.jsx)(i.RichAvatar,{src:S,size:96}),caption:t?(0,o.jsx)(n.TextClamp,{TypographyComponent:s.Footnote,lines:1,title:t,children:t}):void 0,children:(0,o.jsx)(n.TextClamp,{TypographyComponent:s.Headline,level:"1",weight:"2",lines:1,title:e.name,children:e.name})})}},948476:(e,t,a)=>{a.d(t,{VideoSearchAuthor:()=>o.VideoSearchAuthor});var o=a(392788)},747979:(e,t,a)=>{a.d(t,{SearchAuthor:()=>o.SearchAuthor});var o=a(689704)},590344:(e,t,a)=>{a.d(t,{Separator:()=>s});var o=a(474848),r=a(428918),i=a(216806);const n={"top-small-bottom-small":{top:3,bottom:3},"top-small-bottom-large":{top:3,bottom:11},"top-extra-large":{top:28}},s=({layout:e})=>{const t=e.custom_style?n[e.custom_style]:null;return(0,o.jsxs)(o.Fragment,{children:[t?.top&&(0,o.jsx)(r.Spacing,{size:t.top}),(0,o.jsx)(i.Separator,{}),t?.bottom&&(0,o.jsx)(r.Spacing,{size:t.bottom})]})}},683763:(e,t,a)=>{a.d(t,{Separator:()=>o.Separator});var o=a(590344)},875260:(e,t,a)=>{a.d(t,{ShortVideoList:()=>g});var o=a(474848),r=a(753457),i=a(126960),n=a(8520),s=a(293721),l=a(123083),c=a(269285),d=a(108578),u=a(354691),_=a(151305),p=a(249531);const m={className:a(772939).default.shortVideoList,rowSpacing:12,columnSpacing:12,numberOfSkeletons:12},g=e=>{const{listGridProps:t}=(0,l.useCatalogDesktopVideo)(),{appCatalogService:a}=(0,l.useCatalogConfig)(),{spacing:g,rowSpacing:S,columnSpacing:v,numberOfSkeletons:h,...C}=t||m,f=g?{spacing:g}:{rowSpacing:S,columnSpacing:v},I=(0,u.useListAdaptivityShortVideoColumns)(t?.columnsQueries,t?.columnsDefault),E=(0,c.extractItemsIds)(e),k=(0,d.getBlockByDataType)(e),y=(0,s.useStore)(a.catalogService.$loadingBlockIds).includes(e.id),T=(0,_.isListItemSkeletonAvailable)(e);return y&&!T?(0,o.jsx)(r.PanelSpinner,{}):(0,o.jsx)(i.Grid,{...C,...f,columns:I,children:y?(0,n.createArray)(h||0).map(((t,a)=>(0,o.jsx)(i.Grid.Item,{children:(0,o.jsx)(p.ShortVideoListItemSkeleton,{...e},a)},a))):E?.map((({id:t,...a})=>(0,o.jsx)(i.Grid.Item,{children:(0,o.jsx)(k,{...a,id:t,layout:e.layout.name,itemBadges:e.item_badges})},t)))})}},181998:(e,t,a)=>{a.d(t,{ShortVideoListItemSkeleton:()=>s});var o=a(474848),r=a(551090),i=a(151305),n=a(395799);const s=e=>(0,i.isListItemSkeletonAvailable)(e)&&e.data_type===r.CatalogBlockDataType.VIDEOS?(0,o.jsx)(n.ShortVideoCardSkeleton,{}):null},249531:(e,t,a)=>{a.d(t,{ShortVideoListItemSkeleton:()=>o.ShortVideoListItemSkeleton});var o=a(181998)},398333:(e,t,a)=>{a.d(t,{ShortVideoList:()=>o.ShortVideoList,useListAdaptivityShortVideoColumns:()=>r.useListAdaptivityShortVideoColumns});var o=a(875260),r=a(354691)},354691:(e,t,a)=>{a.d(t,{useListAdaptivityShortVideoColumns:()=>r});var o=a(670432);const r=(e=[{value:5,query:{minWidth:1106,maxWidth:1357}},{value:6,query:{minWidth:1358,maxWidth:1535}},{value:7,query:{minWidth:1536,maxWidth:2040}},{value:8,query:{minWidth:2041}}],t=4)=>(0,o.useAdaptivityMediaQueries)(e,t)},549252:(e,t,a)=>{a.d(t,{Slider:()=>m});var o=a(474848),r=a(8520),i=a(753457),n=a(500774),s=a(123083),l=a(269285),c=a(468146),d=a(151373),u=a(23235);const _={isGroupExpanded:!0,showArrows:!0,arrowSize:"m"},p=e=>{const{sliderProps:t={}}=(0,s.useCatalogConfig)(),{isGroupExpanded:a,...n}={..._,...t},p=(0,l.extractItemsIds)(e),m=(0,d.getBlockByDataType)(e);return(0,o.jsx)(i.HorizontalScroll,{...n,children:(0,o.jsxs)("div",{className:(0,r.classNames)(u.default.scrollContainer,a&&u.default.groupContainer),children:[p.map((t=>(0,o.jsx)(m,{...t,layout:e.layout.name},t.id))),e.actions?.map(((t,a)=>(0,o.jsx)(c.Action,{...e,action:t,layout:e.layout.name},t.track_code||a)))]})})},m=e=>{const{sliderProps:t={}}=(0,s.useCatalogConfig)(),{isGroupExpanded:a}={..._,...t};return a?(0,o.jsx)(n.Group.ExpandedContent,{children:(0,o.jsx)(p,{...e})}):(0,o.jsx)(p,{...e})}},151373:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>c});var o=a(551090),r=a(581733),i=a(82676),n=a(86999),s=a(798167);const l=()=>null,c=e=>{switch(e.data_type){case o.CatalogBlockDataType.VIDEOS:return n.Video;case o.CatalogBlockDataType.MUSIC_PLAYLISTS:return r.MusicPlaylist;case o.CatalogBlockDataType.LINKS:return i.Link;case o.CatalogBlockDataType.GROUPS_ITEMS:return s.GroupItem;default:return l}}},43909:(e,t,a)=>{a.d(t,{Slider:()=>o.Slider});var o=a(549252)},543308:(e,t,a)=>{a.d(t,{TripleStackedSlider:()=>c});var o=a(474848),r=a(296540),i=a(273034),n=a(269285),s=a(432909),l=a(637701);const c=e=>{const t=(0,r.useMemo)((()=>(0,i.extractItemsIds)(e)),[e]),a=(0,l.getBlockByDataType)(e),c=(0,n.getEventItemTypeByDataType)(e),d=(0,i.getDirectionType)(e),u=(0,r.useMemo)((()=>t.map((t=>({key:t.id,length:t.content_length,component:(0,o.jsx)(a,{...t,layout:e.layout.name,type:c,block_id:e.id})})))),t);return(0,o.jsx)(s.TripleStackedSliderItems,{directionType:d,content:u})}},585647:(e,t,a)=>{a.d(t,{TripleStackedSliderItems:()=>d});var o=a(474848),r=a(126960),i=a(296540),n=a(31158),s=a(694743),l=a(8520),c=a(963146);const d=({directionType:e,content:t})=>{const a=e===n.DirectionType.row?(0,s.toColumnWithRows)(t,3):(0,l.chunkArray)(t,3),d=a.length>2;return(0,o.jsx)(r.Grid,{columns:d?"dynamic":2,children:(0,o.jsx)(r.Grid.HorizontalScroll,{getScrollToLeft:e=>e-800,getScrollToRight:e=>e+800,arrowSize:"m",children:a.map(((e,t)=>(0,o.jsx)(r.Grid.Item,{children:(0,o.jsx)("div",{className:(0,l.classNames)(d&&c.default.item),children:e?.map(((e,t)=>(0,o.jsx)(i.Fragment,{children:e.component},t)))})},t)))})})}},432909:(e,t,a)=>{a.d(t,{TripleStackedSliderItems:()=>o.TripleStackedSliderItems});var o=a(585647)},637701:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>n});var o=a(694743),r=a(82676),i=a(113260);const n=e=>{switch(e.data_type){case o.CatalogBlockDataType.MUSIC_AUDIOS:return i.MusicAudios;case o.CatalogBlockDataType.LINKS:return r.Link;default:return()=>null}}},266024:(e,t,a)=>{a.d(t,{TripleStackedSlider:()=>o.TripleStackedSlider});var o=a(543308)},854032:(e,t,a)=>{a.d(t,{ShortVideoCard:()=>m});var o=a(474848),r=a(583998),i=a(923594),n=a(380118),s=a(428918),l=a(765668),c=a(925087),d=a(296540),u=a(610989),_=a(542701),p=a(123083);const m=({video:e})=>{const t=(0,d.useMemo)((()=>e?.image?.filter((e=>!e.with_padding))||[]),[e?.image]),{videoCardProps:a}=(0,p.useCatalogDesktopVideo)(),{onVideoOpen:m,onVideoDelete:g,onVideoEdit:S}=a,[v,h]=(0,d.useState)(!1),C=t=>{h(!v),g?.(t,e)};return v?(0,o.jsx)(r.ClipContainer,{size:"compact",centerComponent:(0,o.jsxs)(i.Placeholder,{icon:(0,o.jsx)(c.Icon28DeleteOutline,{}),children:[(0,o.jsx)(n.Headline,{level:"1",weight:"2",children:u.getLang("video_clip_deleted")}),(0,o.jsx)(s.Spacing,{size:8}),(0,o.jsx)(l.Link,{onClick:C,children:u.getLang("video_restore")})]})}):(0,o.jsx)(r.ClipContainer,{size:"compact",views:(0,_.formatCount)(e.views??0),onClick:t=>m(t,e),cover:t[0]?.url,actions:(()=>{if(Boolean(e.can_edit||e.can_delete))return(0,o.jsxs)(o.Fragment,{children:[1===e.can_edit&&(0,o.jsx)(r.ClipContainer.Action,{label:u.getLang("video_edit"),icon:"edit",onClick:t=>S(t,e)},"edit"),1===e.can_delete&&(0,o.jsx)(r.ClipContainer.Action,{label:u.getLang("global_delete"),icon:"delete",onClick:C},"delete")]})})()})}},490401:(e,t,a)=>{a.d(t,{ShortVideoCardSkeleton:()=>n});var o=a(474848),r=a(753457),i=a(515073);const n=()=>(0,o.jsx)(r.AspectRatio,{ratio:9/16,children:(0,o.jsx)("div",{children:(0,o.jsx)(i.Skeleton,{borderRadius:8,width:"100%",height:"100%"})})})},395799:(e,t,a)=>{a.d(t,{ShortVideoCard:()=>o.ShortVideoCard,ShortVideoCardSkeleton:()=>r.ShortVideoCardSkeleton});var o=a(854032),r=a(490401)},502288:(e,t,a)=>{a.d(t,{Video:()=>d});var o=a(474848),r=a(293721),i=a(757459),n=a(694743),s=a(276433),l=a(285444),c=a(395799);const d=({id:e,layout:t,kitVideoCardProps:a={}})=>{const{appCatalogService:d}=(0,n.useCatalogConfig)(),u=(0,r.useStoreMap)({store:d.videoService.$videoItems,keys:[e],fn:(e,[t])=>{const{ownerId:a,itemId:o}=(0,i.splitRawId)(t);return e.find((e=>e.id===o&&e.owner_id===a))}});if(!u)return null;switch(t){case n.CatalogBlockLayoutName.SLIDER:return(0,o.jsx)(l.VideoCardSlider,{video:u});case n.CatalogBlockLayoutName.SHORT_VIDEO_LIST:return(0,o.jsx)(c.ShortVideoCard,{video:u});default:return(0,o.jsx)(s.VideoCard,{video:u,kitVideoCardProps:a})}}},619750:(e,t,a)=>{a.d(t,{IconControls:()=>s});var o=a(474848),r=a(296540),i=a(954394),n=a(352560);const s=(0,r.memo)((function({video:e,controls:t,cardRef:a,searchTrackCode:r}){return t.length?(0,o.jsx)(o.Fragment,{children:t.map((t=>{if(t.type===n.ControlTypes.ICON){const{text:a,onClick:r,component:n,...s}=t;return(0,o.jsx)(i.VideoCard.IconControl,{tooltipText:a,onClick:t=>r(t,e),icon:n,...s},a)}if(t.type===n.ControlTypes.PLAYLIST_POPOVER){const{component:i,...n}=t;return(0,o.jsx)(i,{video:e,cardRef:a,searchTrackCode:r,...n},e.id)}}))}):null}))},797921:(e,t,a)=>{a.d(t,{getDeleteControl:()=>n});var o=a(196147),r=a(610989),i=a(352560);const n=(e,t)=>({component:o.Icon16Cancel,text:t??r.getLang("global_delete"),onClick:e,type:i.ControlTypes.ICON,"data-testid":"video_card_delete_button"})},246980:(e,t,a)=>{a.d(t,{getWatchLaterControls:()=>s});var o=a(868687),r=a(48876),i=a(610989),n=a(352560);const s=(e,t)=>e.is_favorite?[{type:n.ControlTypes.ICON,component:o.Icon16Clock,text:i.getLang("video_remove_from_watch_later"),onClick:t,"data-testid":"video_card_watch_later_button"}]:e.can_add_to_faves?[{type:n.ControlTypes.ICON,component:r.Icon16ClockOutline,text:i.getLang("video_catalog_showcase_section_my_watch_later_title"),onClick:t,"data-testid":"video_card_watch_later_button"}]:[]},713077:(e,t,a)=>{a.d(t,{ControlTypes:()=>r.ControlTypes,IconControls:()=>o.IconControls,isShowingPlaylistPopover:()=>i.isShowingPlaylistPopover});var o=a(619750),r=a(352560),i=a(847207)},847207:(e,t,a)=>{a.d(t,{isShowingPlaylistPopover:()=>r});var o=a(476726);const r=e=>1===e&&(!(0,o.partConfigEnabled)("video_bookmarks_renaming_to_watch_later")||(0,o.partConfigEnabled)("video_can_show_playlist_popover_with_watch_later"))},352560:(e,t,a)=>{var o;a.d(t,{ControlTypes:()=>o}),function(e){e[e.ICON=0]="ICON",e[e.PLAYLIST_POPOVER=1]="PLAYLIST_POPOVER"}(o||(o={}))},666116:(e,t,a)=>{a.d(t,{useControls:()=>S});var o=a(947962),r=a(379539),i=a(719619),n=a(847891),s=a(123083),l=a(422495),c=a(610989),d=a(476726),u=a(797921),_=a(246980),p=a(352560),m=a(713077),g=a(781281);const S=e=>{const{videoCardProps:t,isCurrentUserEditor:a,onOpenPlaylistModal:S}=(0,s.useCatalogDesktopVideo)(),{isFaves:v,videoDeleteText:h,onVideoToggleFave:C,onVideoDelete:f,onVideoDownload:I,onVideoEdit:E,addToPlaylistControl:k,searchTrackCode:y}=t,T=[];if(!n.Ranges.isUserId(window.vk.id))return T;const A=(0,d.partConfigEnabled)("video_bookmarks_renaming_to_watch_later"),R=S&&(0,l.canAddVideoToCommunityPlaylist)(e)&&a;R||!A||v||T.push(...(0,_.getWatchLaterControls)(e,(t=>C(t,e,{source:g.FAVORITE_SOURCES.VIDEO_CARD_BUTTON,searchTrackCode:y}))));return(2===e.can_download||3===e.can_download)&&"interactive"!==e.type&&T.push({component:o.Icon16DownloadOutline,text:c.getLang("video_download"),onClick:t=>I(t,e),type:p.ControlTypes.ICON,"data-testid":"video_download"}),1===e.can_edit&&T.push({component:r.Icon16PenOutline,text:c.getLang("video_edit"),onClick:t=>E(t,e),type:p.ControlTypes.ICON,"data-testid":"video_edit"}),R&&T.push({component:i.Icon16ListPlayOutline,text:c.getLang("video_move_to_playlist"),onClick:()=>S(e),type:p.ControlTypes.ICON,"data-testid":"video_card_add_to_playlist"}),v?((0,m.isShowingPlaylistPopover)(e.can_add)&&T.push({type:p.ControlTypes.PLAYLIST_POPOVER,component:k,"data-testid":"video_card_delete_button"}),T.push((0,u.getDeleteControl)((t=>C(t,e,{searchTrackCode:y})),h))):1===e.can_delete&&f&&T.push((0,u.getDeleteControl)((t=>f(t,e)),h)),v||R||!(0,m.isShowingPlaylistPopover)(e.can_add)||T.push({type:p.ControlTypes.PLAYLIST_POPOVER,component:k}),T}},291448:(e,t,a)=>{a.d(t,{VideoCard:()=>m});var o=a(474848),r=a(954394),i=a(123083),n=a(713077),s=a(267708),l=a(716971),c=a(38007),d=a(666116),u=a(296540);const _=e=>Boolean(e.onSelect&&e.selectMode),p=({isHighlighted:e,size:t,direction:a,...o})=>o,m=({video:e,kitVideoCardProps:t={}})=>{const{isAvatarHidden:a,videoCardProps:m}=(0,i.useCatalogDesktopVideo)(),{menuItems:g,onMenuPopoverShownChange:S,onMenuPopoverShownChanged:v}=(0,c.useMenuItems)(e),h=(0,d.useControls)(e),C=(0,s.useOverlay)(e),f=(0,l.useVideo)(e),I=(0,u.useRef)(null),E={controlItems:h.length?(0,o.jsx)(n.IconControls,{controls:h,video:e,cardRef:I,searchTrackCode:m.searchTrackCode}):void 0,getRef:I,isAvatarHidden:a,menuItems:g,onAuthorClick:t=>m.onVideoAuthorClick?.(t,e),onMenuPopoverShownChange:S,onMenuPopoverShownChanged:v,onVideoOpen:t=>m.onVideoOpen(t,e),overlay:C,video:f};return(0,o.jsx)(r.VideoCard,{...(()=>{const{size:e,direction:a}=t;if("s"!==e||"horizontal"!==a){if(_(t))return{size:e,direction:a,...E,...p(t)};const{selectMode:o,onSelect:r,isHighlighted:i,...n}=t;return{...E,...n}}const{isHighlighted:o,onSelect:r,selectMode:i,size:n,direction:s,...l}=t,c={...E,direction:a,size:e,isHighlighted:o};return _(t)?{...c,...p(t)}:{...c,...l}})()})}},276433:(e,t,a)=>{a.d(t,{VideoCard:()=>o.VideoCard});var o=a(291448)},38007:(e,t,a)=>{a.d(t,{useMenuItems:()=>f});var o=a(474848),r=a(296540),i=a(418287),n=a(202453),s=a(426222),l=a(370),c=a(223173),d=a(405816),u=a(932709),_=a(165753),p=a(741531),m=a(847891),g=a(610989),S=a(123083),v=a(476726),h=a(422495),C=a(781281);const f=e=>{const[t,a]=(0,r.useState)(!1),{videoCardProps:f}=(0,S.useCatalogDesktopVideo)(),{onVideoSendReport:I,onVideoShare:E,onVideoToggleFave:k,onVideoTogglePin:y,isWatchLaterTooltipViewed:T,handleWatchLaterTooltipClose:A}=f,R=(0,v.partConfigEnabled)("video_bookmarks_renaming_to_watch_later"),L=(0,v.partConfigEnabled)("video_community_redesign_pinned_video"),b=(0,u.useHelpHint)(_.AvailableHelpHints.ACCOUNT_HINT_VIDEO_WATCH_LATER_ACTION),x=(0,u.useHelpHint)(_.AvailableHelpHints.ACCOUNT_HINT_VIDEO_PIN),O=()=>{x&&(0,p.ensureAccountHelpHintsService)().hideHelpHint({hintId:x.id})};return{menuItems:(0,r.useMemo)((()=>{const t=[];if(!m.Ranges.isUserId(window.vk.id))return;const a=(t,a)=>R&&b&&!T?{before:(0,o.jsx)(h.MenuHelpHintTooltip,{helpHint:b,placement:"top-start",maxWidth:262,onClose:A,children:t}),children:a,"data-testid":"video_card_watch_later_button"}:{before:t,children:a,onClick:t=>k(t,e,{source:C.FAVORITE_SOURCES.VIDEO_CARD_MODAL}),"data-testid":"video_card_favorite_button"};if(e.can_be_pinned&&L&&y){const a=(t,a)=>{const r=t=>y(t,e);if(x){const e=e=>{O(),r(e)};return{before:(0,o.jsx)(h.MenuHelpHintTextTooltip,{text:`${x.title} ${x.description}`,placement:"top-start",appearance:"accent",maxWidth:230,children:t}),children:a,onClick:e,"data-testid":"video_card_pin_button"}}return{before:t,children:a,onClick:r}};t.push(e.is_pinned?a((0,o.jsx)(i.Icon20PinSlashOutline,{}),g.getLang("video_unpin_video_action")):a((0,o.jsx)(n.Icon20PinOutline,{}),g.getLang("video_pin_video_action")))}return e.is_favorite?t.push(R?a((0,o.jsx)(s.Icon20ClockOutline,{}),g.getLang("video_remove_from_watch_later")):a((0,o.jsx)(l.Icon20FavoriteOutline,{}),g.getLang("global_remove_from_bookmarks"))):e.can_add_to_faves&&t.push(R?a((0,o.jsx)(s.Icon20ClockOutline,{}),g.getLang("video_catalog_showcase_section_my_watch_later_title")):a((0,o.jsx)(l.Icon20FavoriteOutline,{}),g.getLang("global_add_to_bookmarks"))),e.can_repost&&t.push({before:(0,o.jsx)(c.Icon20ShareOutline,{}),children:g.getLang("video_share_with_friends"),onClick:t=>E(t,e),"data-testid":"video_card_share_button"}),e.owner_id!==window.vk.id&&t.push({before:(0,o.jsx)(d.Icon20ReportOutline,{}),children:g.getLang("global_report_spam"),onClick:t=>I(t,e),"data-testid":"video_card_complain_button"}),t}),[t]),onMenuPopoverShownChange:e=>{L&&x&&!e&&O()},onMenuPopoverShownChanged:e=>{a(e)}}}},267708:(e,t,a)=>{a.d(t,{useOverlay:()=>i});var o=a(296540),r=a(123083);const i=e=>{const{videoCardProps:{videoOverlay:t}}=(0,r.useCatalogDesktopVideo)(),[a,i]=(0,o.useState)(!0),[n,s]=(0,o.useMemo)((()=>{const o="function"==typeof t?t(e):t;if(!o)return[];const{actionProps:r,hideTime:i,...n}=o;return[i,a?{...n,actionProps:r}:n]}),[a,e,t]);return(0,o.useEffect)((()=>{if(void 0===n)return;const e=setTimeout((()=>{i(!1)}),n);return()=>{clearTimeout(e)}}),[n]),s}},716971:(e,t,a)=>{a.d(t,{useVideo:()=>n});var o=a(296540),r=a(123083),i=a(422495);const n=e=>{const{findOwner:t}=(0,r.useCatalogOwner)(),{ownerRoutePrefix:a,videoCardProps:{getVerifiedBadge:n}}=(0,r.useCatalogDesktopVideo)();return(0,o.useMemo)((()=>{const o=t(e?.user_id??e.owner_id);return{...(0,i.mapVideoToVideoCardItem)(e),owner:{...(0,i.mapArtistToVideoCardOwner)(e)??(0,i.mapUserOrGroupToVideoCardOwner)(o,a),badge:n(o)}}}),[e,t,a,n])}},979500:(e,t,a)=>{a.d(t,{VideoCardSkeleton:()=>n});var o=a(474848),r=a(93022),i=a(694743);const n=({singleLineTitle:e})=>{const{isAvatarHidden:t}=(0,i.useCatalogDesktopVideo)();return(0,o.jsx)(r.VideoCardSkeleton,{singleLineTitle:e,withAvatar:!t})}},724566:(e,t,a)=>{a.d(t,{VideoCardSkeleton:()=>o.VideoCardSkeleton});var o=a(979500)},971244:(e,t,a)=>{a.d(t,{VideoCardSlider:()=>c});var o=a(474848),r=a(8520),i=a(694743),n=a(276433),s=a(832335);const l={s:s.default.sizeS,m:s.default.sizeM},c=({video:e})=>{const{videoCardProps:{sliderCardSize:t="m"}}=(0,i.useCatalogDesktopVideo)();return(0,o.jsx)("div",{className:(0,r.classNames)(s.default.container,l[t]),children:(0,o.jsx)(n.VideoCard,{video:e})})}},285444:(e,t,a)=>{a.d(t,{VideoCardSlider:()=>o.VideoCardSlider});var o=a(971244)},86999:(e,t,a)=>{a.d(t,{Video:()=>o.Video,VideoCardSkeleton:()=>r.VideoCardSkeleton});var o=a(502288),r=a(724566)},246103:(e,t,a)=>{a.d(t,{Header:()=>o.Header,IslandSeparator:()=>m.IslandSeparator,List:()=>r.List,MusicPlaylist:()=>_.MusicPlaylist,PinnedVideo:()=>n.PinnedVideo,Placeholder:()=>s.Placeholder,Playlist:()=>l.Playlist,Separator:()=>c.Separator,ShortVideoList:()=>i.ShortVideoList,Slider:()=>d.Slider,TripleStackedSlider:()=>p.TripleStackedSlider,Video:()=>u.Video,useListAdaptivityColumns:()=>r.useListAdaptivityColumns});var o=a(231681),r=a(156248),i=a(398333),n=a(149725),s=a(820557),l=a(776982),c=a(683763),d=a(43909),u=a(86999),_=a(581733),p=(a(82676),a(266024)),m=(a(113260),a(627836))},931565:(e,t,a)=>{a.d(t,{Button:()=>i});var o=a(474848),r=a(330866);const i=({actions:e=[],title:t,blockIndex:a})=>(0,o.jsx)(o.Fragment,{children:e?.map(((e,i)=>{const n=(0,r.getButton)(e);return(0,o.jsx)(n,{action:e,title:t,itemIndex:(a||0)+i,id:i},i)}))})},129032:(e,t,a)=>{a.d(t,{OpenUrl:()=>m});var o=a(474848),r=a(296540),i=a(293721),n=a(445248),s=a(380118),l=a(68455),c=a(695290),d=a(273555),u=a(123083),_=a(10747),p=a(104957);const m=({action:e,itemIndex:t,title:a})=>{const{displayTopSearch:m,setCurrentQuery:g,currentQuery:S,onOpenUrlClick:v}=(0,u.useCatalogSearch)(),h=(0,i.useStore)(_.$isMouseActive),C=(0,i.useStore)(_.$selectedItemIndex),f=(0,u.useCollectClick)(),I=(0,d.useRefLogView)({type:c.EventItemType.CATALOG_ITEM,trackCode:e?.track_code}),E=`${e?.action?.url}${encodeURIComponent(S)}`,k=(0,r.useCallback)(((t,a)=>{t&&!(0,l.isMainClick)(t?.nativeEvent)||(t?.preventDefault(),t?.stopPropagation(),f({type:c.EventItemType.CATALOG_ITEM,track_code:e?.track_code,action:c.SearchClickActionMap.TAP}),a?window.open(E):(g(""),m(!1),v?.(e?.action?.url||"",E)))}),[S,f,m,g,v]);return(0,r.useEffect)((()=>{(0,_.fireSetItemIndex)({id:t||0,callback:k})}),[t,k]),(0,o.jsx)(n.SimpleCell,{"data-testid":"modal_open_url",hovered:C?.id===t,onPointerLeave:()=>{(0,_.fireSetSelectionIndexByItem)(-1)},onPointerEnter:()=>{(0,_.fireSetSelectionIndexByItem)(t||-1)},onClick:k,hasHover:h||C?.id===t,href:E,expandable:"always",className:p.default.container,getRootRef:I,children:(0,o.jsx)(s.Headline,{className:p.default.link,level:"1",weight:"3",children:a||e?.title})})}},965453:(e,t,a)=>{a.d(t,{OpenUrl:()=>o.OpenUrl});var o=a(129032)},251403:(e,t,a)=>{a.d(t,{Button:()=>o.Button});var o=a(931565)},330866:(e,t,a)=>{a.d(t,{getButton:()=>i});var o=a(551090),r=a(965453);const i=e=>e.action?.type===o.CatalogActionType.OPEN_URL?r.OpenUrl:()=>null},249759:(e,t,a)=>{a.d(t,{CatalogUser:()=>k});var o=a(474848),r=a(296540),i=a(293721),n=a(204733),s=a(917298),l=a(445248),c=a(280234),d=a(945716),u=a(551090),_=a(8520),p=a(476726),m=a(68455),g=a(273555),S=a(123083),v=a(695290),h=a(10747),C=a(596104),f=a(857867),I=a(529906);const E=({id:e,itemIndex:t,type:a})=>{const E=(0,S.useCollectClick)(),{navGo:k,pageVerifiedTip:y,appCatalogService:T}=(0,S.useCatalogConfig)(),{displayTopSearch:A}=(0,S.useCatalogSearch)(),R=(0,i.useStore)(h.$isMouseActive),L=(0,i.useStore)(h.$selectedItemIndex),b=(0,i.useStore)(T.pageService.$catalogType),[x,O]=(0,r.useState)(!0),w=(0,i.useStoreMap)({store:T.catalogUsersService.$catalogUsers,keys:[e],fn:(e,[t])=>e.get(t)}),N=(0,i.useStoreMap)({store:T.profilesService.$profiles,keys:[w?.user_id],fn:(e,[t])=>t?e.get(t):void 0}),M=(0,i.useStoreMap)({store:T.profilesService.$profiles,keys:[w?.common_friends],fn:(e,[t])=>(t||[]).map((t=>e.get(t))).filter((e=>Boolean(e))).map((({photo_50:e,photo_100:t})=>e||t||""))}),P=(0,i.useStoreMap)({store:T.catalogUsersService.$deletableFriendsIds,keys:[N?.id],fn:(e,[t])=>!!e.find((e=>e===t))}),V=(0,i.useStore)(T.catalogUsersService.$pendingFriendsIds),B=(0,p.partConfigEnabled)("vkui_account_common_verification_mark")&&(N?.is_esia_verified||N?.is_sber_verified||N?.is_tinkoff_verified),D=N?.track_code||w?.track_code,j=(0,g.useRefLogView)({type:a,trackCode:D}),G=(0,C.getUrlWithTrackCode)(`/${N?.screen_name}`,D,b),F=e=>{E({track_code:D,type:v.EventItemType.USER,action:e})},U=(0,r.useMemo)((()=>(0,d.getFriendsButtonState)(N?.friend_status,!!N?.can_write_private_message,P)),[N?.friend_status,N?.can_write_private_message,P]),H=(0,r.useCallback)(((e,t)=>{!N||e&&!(0,m.isMainClick)(e?.nativeEvent)||(e?.preventDefault(),e?.stopPropagation(),F(v.SearchClickActionMap.TAP),T.searchRecentService.fireAddRecent({owner_ids:`${N.id}`}),t?window.open(G):(A(!1),k(G,e?.nativeEvent||null)))}),[N,A]);if((0,r.useEffect)((()=>{(0,h.fireSetItemIndex)({id:t||0,callback:H})}),[t,H]),!N||!w)return null;const $=(0,_.classNames)(B&&I.default.itemVerification),[z,W]=(0,f.getCatalogUserDescription)({friendsPhotos:M,friendsDescription:w.common_friends_description,descriptions:w.descriptions}),K=(0,d.getOnlineStatus)(N);return(0,o.jsxs)(l.SimpleCell,{"data-testid":"modal_catalog_user",hovered:L?.id===t,onClick:H,onPointerLeave:()=>{(0,h.fireSetSelectionIndexByItem)(-1)},onPointerEnter:()=>{(0,h.fireSetSelectionIndexByItem)(t||-1)},hasHover:R||L?.id===t,href:G,getRootRef:j,before:(0,o.jsxs)(c.RichAvatar,{size:u.CATALOG_AVATAR_SIZE_SM,src:(0,d.getListAvatarSrc)(N),nft:!!N.is_nft,children:[K&&(0,o.jsx)(c.RichAvatar.BadgeWithPreset,{preset:K}),N.has_unseen_stories&&(0,o.jsx)(c.RichAvatar.Outline,{appearance:"accent"})]}),badgeAfterTitle:N.verified||B?(0,o.jsx)("div",{onMouseOver:e=>{const t=e.target?.closest('[data-catalog-item="list"]'),a=e.target?.closest('[data-verified-container="true"]'),o=x?u.FIRST_VERIFIED_TOOLTIP_SHIFT:u.VERIFIED_TOOLTIP_SHIFT;y(a,{type:B?8:1,oid:N?.id,appendEl:t,shift:o}),O(!1)},"data-verified-container":"true",children:(0,o.jsx)(n.Icon16Verified,{className:$})}):null,after:(0,o.jsx)(s.CatalogUserButton,{userId:N.id,action:U,loading:V.includes(N.id),logClickEvent:F}),subtitle:z,extraSubtitle:(0,o.jsx)("div",{className:I.default.extraDescription,children:W}),children:[N.first_name," ",N.last_name]})},k=(0,r.memo)(E)},314006:(e,t,a)=>{a.d(t,{CatalogUserButton:()=>m});var o=a(474848),r=a(296540),i=a(828902),n=a(917702),s=a(551090),l=a(52315),c=a(168799),d=a(554997),u=a(695290),_=a(123083),p=a(449789);const m=({userId:e,action:t,loading:a,logClickEvent:m})=>{const{userId:g,openChat:S,appCatalogService:v}=(0,_.useCatalogConfig)(),{displayTopSearch:h}=(0,_.useCatalogSearch)(),C=(0,r.useCallback)((o=>{if(o.stopPropagation(),o.preventDefault(),!a)switch(t){case s.FRIENDS_BUTTON_ACTIONS.ADD_FRIEND:return m(u.SearchClickActionMap.ADD_FRIEND),void v.catalogUsersService.fireAddFriend({user_id:e});case s.FRIENDS_BUTTON_ACTIONS.REMOVE_FRIEND:return m(u.SearchClickActionMap.REMOVE_FRIEND),void v.catalogUsersService.fireDeleteFriend({user_id:e});case s.FRIENDS_BUTTON_ACTIONS.SEND_MESSAGE:return m(u.SearchClickActionMap.SEND_MESSAGE),S(e,"global_search"),void h(!1);case s.FRIENDS_BUTTON_ACTIONS.NO_ACTION:return}}),[t,e,m,a,h,S]);if(t===s.FRIENDS_BUTTON_ACTIONS.NO_ACTION||e===g)return null;let f;switch(t){case s.FRIENDS_BUTTON_ACTIONS.ADD_FRIEND:f=(0,o.jsx)(l.Icon20UserAddOutline,{});break;case s.FRIENDS_BUTTON_ACTIONS.REMOVE_FRIEND:f=(0,o.jsx)(c.Icon20Check,{className:p.default.buttonRemove});break;case s.FRIENDS_BUTTON_ACTIONS.SEND_MESSAGE:f=(0,o.jsx)(d.Icon20MessageOutline,{})}return a&&(f=(0,o.jsx)(i.Spinner,{size:"regular"})),(0,o.jsx)(n.IconButton,{"data-testid":"modal_catalog_user_button",onClick:C,children:f})}},917298:(e,t,a)=>{a.d(t,{CatalogUserButton:()=>o.CatalogUserButton});var o=a(314006)},280829:(e,t,a)=>{a.d(t,{CatalogUser:()=>o.CatalogUser});var o=a(249759)},945716:(e,t,a)=>{a.d(t,{getFriendsButtonState:()=>n,getListAvatarSrc:()=>l,getOnlineStatus:()=>s});var o=a(551090),r=a(7144),i=a(868260);const n=(e,t=!1,a=!1)=>a?o.FRIENDS_BUTTON_ACTIONS.REMOVE_FRIEND:[i.FRIENDS_STATUS.NOT_FRIEND,i.FRIENDS_STATUS.INCOMING_REQUEST].includes(e)?o.FRIENDS_BUTTON_ACTIONS.ADD_FRIEND:t||e!==i.FRIENDS_STATUS.OUTCOMING_REQUEST?o.FRIENDS_BUTTON_ACTIONS.SEND_MESSAGE:o.FRIENDS_BUTTON_ACTIONS.NO_ACTION,s=e=>{if(e.online_info){const{visible:t,is_online:a,is_mobile:o}=e.online_info;if(t&&a)return o?"online-mobile":"online"}},l=e=>((0,r.isRetina)()?e.photo_100:e.photo_50)||e.photo_100||e.photo_200},327247:(e,t,a)=>{a.d(t,{GroupItem:()=>I});var o=a(474848),r=a(296540),i=a(293721),n=a(204733),s=a(988130),l=a(204072),c=a(445248),d=a(280234),u=a(551090),_=a(7144),p=a(68455),m=a(273555),g=a(123083),S=a(695290),v=a(10747),h=a(596104),C=a(694743);const f=({id:e,track_code:t,friends:a,description:f,itemIndex:I,type:E})=>{const{navGo:k,pageVerifiedTip:y,openChat:T,appCatalogService:A}=(0,g.useCatalogConfig)(),{displayTopSearch:R}=(0,g.useCatalogSearch)(),L=(0,i.useStore)(v.$isMouseActive),b=(0,i.useStore)(v.$selectedItemIndex),x=(0,i.useStore)(A.pageService.$catalogType),O=(0,g.useCollectClick)(),[w,N]=(0,r.useState)(!0),M=(0,C.useCatalogStoreMap)(A.groupsService.$groups,e),P=(0,i.useStoreMap)({store:A.profilesService.$profiles,keys:[a],fn:e=>(a?.preview||[]).map((t=>e.get(t))).filter((e=>!!e)).map((({first_name:e="",photo_50:t="",photo_100:a=""})=>({first_name:e,photo_50:t,photo_100:a})))}),V=(0,i.useStoreMap)({store:A.groupsService.$groupsToLeave,keys:[e],fn:(e,[t])=>!!e.find((e=>e===t))}),B=(0,i.useStoreMap)({store:A.groupsService.$groupPendingIds,keys:[e],fn:(e,[t])=>!!e.find((e=>e===t))}),D=(0,m.useRefLogView)({type:E,trackCode:t}),j=(0,h.getUrlWithTrackCode)(`/${M?.screen_name}?from=quick_search`,t,x),G=e=>{O({track_code:t,type:S.EventItemType.GROUP,action:e})},F=(0,r.useCallback)((e=>{if(e.stopPropagation(),e.preventDefault(),M?.id&&!B){if(M.is_member&&M.can_message&&!V)return G(S.SearchClickActionMap.SEND_MESSAGE),T(-M.id,"global_search"),void R(!1);if(M.is_member&&V)return G(S.SearchClickActionMap.LEAVE_GROUP),void A.groupsService.fireLeaveGroup({group_id:M.id,track_code:t});G(S.SearchClickActionMap.JOIN_GROUP),A.groupsService.fireJoinGroup({group_id:M.id,track_code:t})}}),[M,V,t,B,O,R,T]),U=(0,r.useCallback)(((e,t)=>{!M||e&&!(0,p.isMainClick)(e?.nativeEvent)||(e?.preventDefault(),e?.stopPropagation(),G(S.SearchClickActionMap.TAP),A.searchRecentService.fireAddRecent({owner_ids:`-${M.id}`}),t?window.open(j):(R(!1),k(j,e?.nativeEvent||null)))}),[M,t,O,R]);if((0,r.useEffect)((()=>{(0,v.fireSetItemIndex)({id:I||0,callback:U})}),[I,U]),!M)return null;const H=((0,_.isRetina)()?M.photo_100:M.photo_50)||M.photo_100||M.photo_200;return(0,o.jsx)(c.SimpleCell,{"data-testid":"modal_group_item",hovered:b?.id===I,onClick:U,onPointerLeave:()=>{(0,v.fireSetSelectionIndexByItem)(-1)},onPointerEnter:()=>{(0,v.fireSetSelectionIndexByItem)(I||-1)},hasHover:L||b?.id===I,href:j,getRootRef:D,before:(0,o.jsx)(d.RichAvatar,{size:u.CATALOG_AVATAR_SIZE_SM,src:H,nft:!!M.is_nft_photo,children:M.has_unseen_stories&&(0,o.jsx)(d.RichAvatar.Outline,{appearance:"accent"})}),badgeAfterTitle:M.verified?(0,o.jsx)("div",{"data-verified-container":"true",onMouseOver:e=>{const t=e.target?.closest('[data-catalog-item="list"]'),a=e.target?.closest('[data-verified-container="true"]'),o=w?u.FIRST_VERIFIED_TOOLTIP_SHIFT:u.VERIFIED_TOOLTIP_SHIFT;y(a,{type:1,oid:`-${M?.id}`,appendEl:t,shift:o}),N(!1)},children:(0,o.jsx)(n.Icon16Verified,{})}):null,after:(0,o.jsx)(s.GroupItemButton,{click:F,isMember:!!M.is_member,canMessage:!!M.can_message,canLeave:V,loading:B}),subtitle:(0,o.jsx)(l.GroupItemDescription,{isMember:!!M.is_member,profiles:M.friends?.preview_profiles||P,text:M.members_count_text||"",description:f,governmentOrganization:!!M.is_government_organization,activity:M.activity||"",profilesCount:a?.count||P.length}),children:M.name})},I=(0,r.memo)(f)},676606:(e,t,a)=>{a.d(t,{GroupItemButton:()=>d});var o=a(474848),r=a(828902),i=a(917702),n=a(554997),s=a(168799),l=a(725763),c=a(646165);const d=({isMember:e,canLeave:t,canMessage:a,click:d,loading:u})=>{let _=null;return e&&a&&!t&&(_=(0,o.jsx)(n.Icon20MessageOutline,{})),e&&t&&(_=(0,o.jsx)(s.Icon20Check,{className:c.default.buttonLeave})),e||(_=(0,o.jsx)(l.Icon20AddSquareOutline,{})),u&&(_=(0,o.jsx)(r.Spinner,{size:"regular"})),_?(0,o.jsx)(i.IconButton,{"data-testid":"modal_group_item_button",onClick:d,children:_}):null}},988130:(e,t,a)=>{a.d(t,{GroupItemButton:()=>o.GroupItemButton});var o=a(676606)},918340:(e,t,a)=>{a.d(t,{GroupItemDescription:()=>d});var o=a(474848),r=a(133051),i=a(926436),n=a(480958),s=a(610989),l=a(551090),c=a(196607);const d=({isMember:e,profilesCount:t,profiles:a,text:d,activity:u,description:_,governmentOrganization:p})=>{let m="";const[g]=a,[S,v]=a.map((e=>e.first_name)),h=a.slice(0,l.MAX_FRIENDS_IN_GROUP_TO_SHOW),C=s.getLang("search_search_friends_in_group_and"),f=s.getLang("search_search_friends_in_group","raw");switch(t){case l.FRIENDS_IN_GROUP.NO_ONE:m="";break;case l.FRIENDS_IN_GROUP.ONE:m=g.first_name||"";break;case l.FRIENDS_IN_GROUP.TWO:m=(0,s.langReplace)(C,{first_user:S,second_user:v});break;default:m=(0,s.langNumeric)(t,f)}const I=_||(u?`${u}, ${d}`:d),E=p?(0,o.jsxs)("div",{className:c.default.government,children:[(0,o.jsx)(r.Icon12Flag,{className:c.default.governmentIcon}),(0,o.jsx)("span",{children:s.getLang("search_search_government_label")})]}):null;return e||!h.length?(0,o.jsxs)(o.Fragment,{children:[E,I]}):(0,o.jsxs)(o.Fragment,{children:[E,(0,o.jsx)(i.UsersStack,{className:c.default.userStack,photos:h.map((e=>e.photo_50||"")),size:"s",children:(0,o.jsxs)(n.TextClamp,{lines:1,children:[m," · ",d]})})]})}},204072:(e,t,a)=>{a.d(t,{GroupItemDescription:()=>o.GroupItemDescription});var o=a(918340)},553477:(e,t,a)=>{a.d(t,{GroupItem:()=>o.GroupItem});var o=a(327247)},136183:(e,t,a)=>{a.d(t,{HeaderCompact:()=>l});var o=a(474848),r=a(296540),i=a(625134),n=a(168550),s=a(634522);const l=({actions:e,layout:t,...a})=>(0,o.jsx)(i.Header,{className:s.default.root,mode:"primary",aside:e?.map(((e,o)=>{const i=(0,n.getAction)(e);return(0,r.createElement)(i,{...a,key:e.track_code||o,action:e,layout:t.name})})),children:t.title})},997373:(e,t,a)=>{a.d(t,{ClearRecentGroups:()=>_});var o=a(474848),r=a(670191),i=a(765668),n=a(595154),s=a(695290),l=a(123083),c=a(293721),d=a(551090),u=a(75650);const _=({action:e})=>{const t=(0,l.useCollectClick)(),{appCatalogService:a}=(0,l.useCatalogConfig)(),_=(0,c.useStore)(a.pageService.$catalogType),p=()=>{if(t({track_code:e.track_code,type:s.EventItemType.CATALOG_ITEM,action:s.SearchClickActionMap.REMOVE_RECENT}),a.catalogService.fireRemoveBlocks(e.target_block_ids||[]),_===d.CatalogType.SEARCH)return a.searchRecentService.fireClearSearchRecent({});a.searchRecentService.fireGroupsRemoveRecent({})};return e.title?(0,o.jsx)(i.Link,{"data-testid":"modal_clear_recent",hasHover:!1,className:u.default.link,onClick:p,children:e.title}):(0,o.jsx)(n.IconButton,{"data-testid":"modal_clear_recent",className:u.default.button,onClick:p,children:(0,o.jsx)(r.Icon24Cancel,{className:u.default.icon})})}},689069:(e,t,a)=>{a.d(t,{ClearRecentGroups:()=>o.ClearRecentGroups});var o=a(997373)},677567:(e,t,a)=>{a.d(t,{HeaderCompact:()=>o.HeaderCompact});var o=a(136183)},168550:(e,t,a)=>{a.d(t,{getAction:()=>i});var o=a(689069),r=a(551090);const i=e=>e.action?.type===r.CatalogActionType.CLEAR_RECENT_GROUPS?o.ClearRecentGroups:()=>null},659893:(e,t,a)=>{a.d(t,{Link:()=>I});var o=a(474848),r=a(293721),i=a(280234),n=a(624338),s=a(347112),l=a(480958),c=a(445248),d=a(441073),u=a(551090),_=a(695290),p=a(123083),m=a(296540),g=a(68455),S=a(448290),v=a(694743),h=a(10747),C=a(610989),f=a(476726);const I=({id:e,layout:t,type:a,itemIndex:I})=>{const{navGo:E,appCatalogService:k}=(0,p.useCatalogConfig)(),y=(0,p.useCollectClick)(),{displayTopSearch:T}=(0,p.useCatalogSearch)(),A=(0,v.useCatalogStoreMap)(k.linksService.$links,e),R=A?.meta?.track_code,L=(0,v.useRefLogView)({type:a,trackCode:R}),b=(0,r.useStore)(h.$isMouseActive),x=(0,r.useStore)(h.$selectedItemIndex),O="list"===t,w=A?.url,N=(()=>{const e=new URL(A?.url||"");return"mini_app"===A?.meta?.content_type?e.pathname+"?ref=quick_search_recent":e.pathname})(),M=(0,m.useCallback)(((e,t)=>{y({track_code:R,type:_.EventItemType.LINK,action:_.SearchClickActionMap.TAP}),!N||e&&!(0,g.isMainClick)(e.nativeEvent)||(O||(e?.preventDefault(),e?.stopPropagation()),t?window.open(w):(T(!1),E(N,e?.nativeEvent||null)))}),[A,y,T,t]),P=()=>{O&&(0,h.fireSetSelectionIndexByItem)(-1)},V=()=>{O&&(0,h.fireSetSelectionIndexByItem)(I||-1)};if((0,m.useEffect)((()=>{O&&(0,h.fireSetItemIndex)({id:I||0,callback:M})}),[t,I,M]),!A)return null;const B="verified"===A?.meta?.icon?(0,o.jsx)(d.RasterIcon24Verified,{alt:C.getLang("search_verified")}):void 0,D="mini_app"!==A?.meta?.content_type?(0,o.jsx)(i.RichAvatar,{size:u.SLIDER_AVATAR_SIZE_SM,src:A?.image?.length?A.image[0].url:"",nft:!!A?.is_nft,children:B&&(0,o.jsx)(i.RichAvatar.Badge,{children:B})}):(0,o.jsx)(n.Image,{src:A?.image?.length?A.image[0].url:"",size:u.SLIDER_AVATAR_SIZE_SM,borderRadius:"l",children:B&&(0,o.jsx)(n.Image.Badge,{children:B})});switch(t){case"slider":return(0,o.jsx)(s.HorizontalCell,{"data-testid":"modal_link",size:"s",header:(0,o.jsx)(l.TextClamp,{lines:(0,f.partConfigEnabled)("search_top_recent_single_line_title")?1:2,children:A.title}),getRootRef:L,href:N,onClick:M,children:D});case"list":return(0,o.jsx)(c.SimpleCell,{"data-testid":"modal_link_list",getRootRef:L,href:w,before:(0,o.jsx)(n.Image,{size:u.CATALOG_AVATAR_SIZE_SM,src:A?.image?.length?A.image[0].url:"",borderRadius:"m"}),after:(0,o.jsx)(S.Icon20ChevronCircleOutline,{}),subtitle:A.subtitle,onClick:M,onPointerLeave:P,onPointerEnter:V,hasHover:b||x?.id===I,hovered:x?.id===I,children:A.title});default:return null}}},311819:(e,t,a)=>{a.d(t,{Link:()=>o.Link});var o=a(659893)},147865:(e,t,a)=>{a.d(t,{List:()=>c});var o=a(474848),r=a(296540),i=a(500774),n=a(896490),s=a(269285),l=a(551644);const c=e=>{const t=(0,r.useMemo)((()=>(0,s.extractItemsIds)(e)),[e]),a=(0,n.getBlockByDataType)(e),c=(0,s.getEventItemTypeByDataType)(e);return(0,o.jsx)(i.Group,{mode:"plain",separator:"hide",padding:"s",className:l.default.list,"data-catalog-item":"list",children:t.map(((t,o)=>(0,r.createElement)(a,{...t,key:t.id,layout:e.layout.name,block_id:e.id,itemIndex:(e.blockIndex||0)+o,type:c})))})}},894131:(e,t,a)=>{a.d(t,{List:()=>o.List});var o=a(147865)},896490:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>l});var o=a(551090),r=a(553477),i=a(280829),n=a(602851),s=a(311819);const l=e=>{switch(e.data_type){case o.CatalogBlockDataType.GROUPS:case o.CatalogBlockDataType.GROUPS_ITEMS:return r.GroupItem;case o.CatalogBlockDataType.CATALOG_USERS:return i.CatalogUser;case o.CatalogBlockDataType.MINI_APPS:return n.MiniApp;case o.CatalogBlockDataType.LINKS:return s.Link;default:return()=>null}}},574331:(e,t,a)=>{a.d(t,{MiniApp:()=>S});var o=a(474848),r=a(296540),i=a(293721),n=a(917702),s=a(445248),l=a(624338),c=a(448290),d=a(551090),u=a(68455),_=a(695290),p=a(273555),m=a(123083),g=a(10747);const S=({id:e,itemIndex:t,type:a})=>{const{navGo:S,appCatalogService:v}=(0,m.useCatalogConfig)(),{displayTopSearch:h}=(0,m.useCatalogSearch)(),C=(0,i.useStore)(g.$isMouseActive),f=(0,i.useStore)(g.$selectedItemIndex),I=(0,m.useCollectClick)(),E=(0,i.useStoreMap)({store:v.appsService.$apps,keys:[e],fn:(e,[t])=>e.get(t)}),k=(0,p.useRefLogView)({type:a,trackCode:E?.track_code}),y=(0,r.useCallback)(((e,t)=>{!E||e&&!(0,u.isMainClick)(e?.nativeEvent)||(e?.preventDefault(),e?.stopPropagation(),I({type:_.EventItemType.MINI_APP,track_code:E.track_code,action:_.SearchClickActionMap.TAP}),t?window.open(`/${E.screen_name}?ref=quick_search`):(h(!1),S(`/${E.screen_name}?ref=quick_search`,e?.nativeEvent||null)))}),[E,I,h]);return(0,r.useEffect)((()=>{(0,g.fireSetItemIndex)({id:t||0,callback:y})}),[t,y]),E?(0,o.jsx)(s.SimpleCell,{"data-testid":"modal_mini_app",hovered:f?.id===t,onClick:y,onPointerLeave:()=>{(0,g.fireSetSelectionIndexByItem)(-1)},onPointerEnter:()=>{(0,g.fireSetSelectionIndexByItem)(t||-1)},getRootRef:k,hasHover:C||f?.id===t,href:`/${E.screen_name}?ref=quick_search`,before:(0,o.jsx)(l.Image,{borderRadius:"l",size:d.CATALOG_AVATAR_SIZE_SM,src:E.icon_139?E.icon_139:E.icon_150}),after:(0,o.jsx)(n.IconButton,{children:(0,o.jsx)(c.Icon20ChevronCircleOutline,{})}),subtitle:E.description,children:E.title}):null}},602851:(e,t,a)=>{a.d(t,{MiniApp:()=>o.MiniApp});var o=a(574331)},677945:(e,t,a)=>{a.d(t,{PlaceholderSmall:()=>l});var o=a(474848),r=a(923594),i=a(610989),n=a(293721),s=a(694743);const l=({placeholder_ids:e})=>{const{appCatalogService:t}=(0,s.useCatalogConfig)(),a=(0,n.useStore)(t.placeholdersService.$placeholders);return(0,o.jsx)(o.Fragment,{children:e?.map((e=>{const t=a.get(e);return t?(0,o.jsx)(r.Placeholder,{children:t.text?t.text:i.getLang("search_search_no_found_summary")},e):null}))})}},738240:(e,t,a)=>{a.d(t,{PlaceholderSmall:()=>o.PlaceholderSmall});var o=a(677945)},761479:(e,t,a)=>{a.d(t,{Slider:()=>d});var o=a(474848),r=a(296540),i=a(753457),n=a(251631),s=a(551090),l=a(269285),c=a(499838);const d=e=>{const t=(0,r.useMemo)((()=>(0,n.extractItemsIds)(e)),[e]),a=(0,n.getBlockByDataType)(e),d=(0,l.getEventItemTypeByDataType)(e);return(0,o.jsx)(i.HorizontalScroll,{className:c.default.root,getScrollToLeft:e=>e-s.SLIDER_SCROLL,getScrollToRight:e=>e+s.SLIDER_SCROLL,arrowSize:"m",children:(0,o.jsx)("div",{className:c.default.inner,children:t.map((t=>(0,o.jsx)(a,{...t,layout:e.layout.name,type:d},t.id)))})})}},468490:(e,t,a)=>{a.d(t,{Slider:()=>o.Slider});var o=a(761479)},251631:(e,t,a)=>{a.d(t,{extractItemsIds:()=>i,getBlockByDataType:()=>n});var o=a(551090),r=a(311819);const i=e=>e.data_type===o.CatalogBlockDataType.LINKS&&e.links_ids?.map((e=>({id:e})))||[],n=e=>e.data_type===o.CatalogBlockDataType.LINKS?r.Link:()=>null},84111:(e,t,a)=>{a.d(t,{CatalogSeparator:()=>n});var o=a(474848),r=a(428918),i=a(216806);const n=({layout:e})=>(0,o.jsxs)(o.Fragment,{children:["spacing"===e.style&&(0,o.jsx)(r.Spacing,{size:10}),(0,o.jsx)(i.Separator,{wide:!0})]})},299755:(e,t,a)=>{a.d(t,{CatalogSeparator:()=>o.CatalogSeparator});var o=a(84111)},273177:(e,t,a)=>{a.d(t,{CatalogSeparatorCommunity:()=>n});var o=a(474848),r=a(428918),i=a(216806);const n=({layout:e})=>(0,o.jsxs)(o.Fragment,{children:["spacing"===e.style&&(0,o.jsx)(r.Spacing,{size:10}),(0,o.jsx)(i.Separator,{})]})},924001:(e,t,a)=>{a.d(t,{Header:()=>i});var o=a(474848),r=a(625134);const i=e=>{const{layout:t}=e;return(0,o.jsx)(r.Header,{size:"medium",children:t.title})}},213057:(e,t,a)=>{a.d(t,{HeaderCompact:()=>r});var o=a(474848);const r=e=>{const{layout:t}=e;return(0,o.jsxs)("div",{className:"VideoSubheader ",children:[(0,o.jsx)("div",{className:"VideoSubheader__title",children:(0,o.jsx)("div",{className:"VideoSubheader__titleText js-video-subtitle",children:t.title})}),(0,o.jsx)("div",{className:"VideoSubheader__actions"})]})}},439577:(e,t,a)=>{a.d(t,{HeaderCompact:()=>o.HeaderCompact});var o=a(213057)},598097:(e,t,a)=>{a.d(t,{HeaderListVideos:()=>i});var o=a(474848),r=a(625134);const i=e=>{const{layout:t}=e;return(0,o.jsx)(r.Header,{style:{padding:0},mode:"primary",size:"medium",children:t.title})}},915520:(e,t,a)=>{a.d(t,{HeaderListVideos:()=>o.HeaderListVideos});var o=a(598097)},896635:(e,t,a)=>{a.d(t,{List:()=>s});var o=a(474848),r=a(61865),i=a(8520),n=a(799876);const s=e=>{const t=(0,r.extractItemsIds)(e),a=(0,r.getBlockComponentByDataType)(e.data_type);return(0,o.jsx)("div",{className:(0,i.classNames)("videos"===e.data_type&&"video_items_list _video_search_global_videos_list VideoGrid","search_authors"===e.data_type&&n.default.authors),children:t.map((e=>(0,o.jsx)(a,{...e},e.id)))})}},410869:(e,t,a)=>{a.d(t,{List:()=>o.List});var o=a(896635)},798577:(e,t,a)=>{a.d(t,{ListCommunity:()=>m});var o=a(474848),r=a(296540),i=a(61865),n=a(126960),s=a(428918),l=a(753457),c=a(246103),d=a(972289),u=a(610989),_=a(700782);const p={className:a(307434).default.list,rowSpacing:20,columnSpacing:12},m=e=>{const[t,a]=(0,r.useState)(4),m=(0,i.extractItemsIds)(e),g=(0,i.getBlockComponentByDataType)(e.data_type),S=(0,c.useListAdaptivityColumns)(),{spacing:v,rowSpacing:h,columnSpacing:C,...f}=p,I=v?{spacing:v}:{rowSpacing:h,columnSpacing:C};return"albums"===e.data_type?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.Grid,{...f,...I,columns:S,children:m.slice(0,t).map((({id:t,...a})=>(0,o.jsx)(n.Grid.Item,{children:(0,o.jsx)(g,{...a,id:t,layout:e.layout.name})},t)))}),m?.length>t?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.CellButton,{centered:!0,after:(0,o.jsx)(d.Icon16DropdownOutline,{}),onClick:()=>a(m?.length),children:u.getLang("search_show_all")}),(0,o.jsx)(s.Spacing,{})]}):(0,o.jsx)(s.Spacing,{size:12})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.Grid,{...f,...I,columns:S,children:m.map((({id:t,...a})=>(0,o.jsx)(n.Grid.Item,{children:(0,o.jsx)(g,{...a,id:t,layout:e.layout.name})},t)))}),e.actions?.map(((t,a)=>{const o=(0,_.getAction)(t);return(0,r.createElement)(o,{...e,key:t.track_code||a,action:t,layout:e.layout.name})}))]})}},167367:(e,t,a)=>{a.d(t,{ListVideos:()=>n});var o=a(474848),r=a(61865),i=a(926508);const n=e=>{const t=(0,r.extractItemsIds)(e),a=(0,r.getBlockComponentByDataType)(e.data_type),n=t.map((e=>(0,o.jsx)(a,{...e},e.id)));return"videos"===e.data_type?(0,o.jsx)("div",{className:i.default.horizontalVideo,children:n}):(0,o.jsx)(o.Fragment,{children:n})}},319577:(e,t,a)=>{a.d(t,{ListVideos:()=>o.ListVideos});var o=a(167367)},979981:(e,t,a)=>{a.d(t,{Placeholder:()=>c});var o=a(474848),r=a(293721),i=a(196067),n=a(551090),s=a(923594),l=a(694743);const c=({placeholder_ids:e,layout:t})=>{const{appCatalogService:a}=(0,l.useCatalogConfig)(),c=(0,r.useStore)(a.placeholdersService.$placeholders);return(0,o.jsx)(o.Fragment,{children:e?.map((e=>{const a=c.get(e);if(void 0===a)return null;const{title:r,text:l}=a;return t.name===n.CatalogBlockLayoutName.PLACEHOLDER_LINE?(0,o.jsx)(s.Placeholder,{children:l},e):(0,o.jsxs)("div",{className:"VideoEmptyStub",children:[(0,o.jsx)("div",{className:"VideoEmptyStub__icon",children:(0,o.jsx)(i.Icon56VideoOutline,{})}),(0,o.jsx)("div",{className:"VideoEmptyStub__title",children:r}),(0,o.jsx)("div",{className:"VideoEmptyStub__text",children:l})]},e)}))})}},332702:(e,t,a)=>{a.d(t,{Placeholder:()=>o.Placeholder});var o=a(979981)},77585:(e,t,a)=>{a.d(t,{SearchAuthor:()=>c});var o=a(474848),r=a(694743),i=a(577967),n=a(407325),s=a(417517),l=a(293721);const c=({id:e,track_code:t,description:a})=>{const{appCatalogService:c}=(0,r.useCatalogConfig)(),d=(0,r.useCatalogStoreMap)(c.groupsService.$groups,Math.abs(Number(e))),u=(0,l.useStoreMap)({store:c.profilesService.$profiles,keys:[e],fn:(e,[t])=>e.get(+t)}),_=d||u;if(!_)return null;const p=(0,r.getUrlWithTrackCode)((0,s.getOwnerUrl)(_,"/video/@"),t,r.CatalogType.SEARCH);return d?(0,o.jsx)(i.SearchAuthorGroup,{group:d,description:a,url:p,trackCode:t}):u?(0,o.jsx)(n.SearchAuthorProfile,{profile:u,description:a,url:p,trackCode:t}):null}},577967:(e,t,a)=>{a.d(t,{SearchAuthorGroup:()=>g});var o=a(474848),r=a(695290),i=a(204733),n=a(445248),s=a(280234),l=a(533048),c=a(7144),d=a(694743),u=a(476726),_=a(610989),p=a(293721),m=a(406267);const g=({group:e,description:t,url:a,trackCode:g})=>{const{appCatalogService:S,pageVerifiedTip:v}=(0,d.useCatalogConfig)(),h=(0,p.useStoreMap)({store:S.groupsService.$groupPendingIds,keys:[e.id],fn:(e,[t])=>!!e.find((e=>e===t))}),C=(0,d.useCollectClick)(),f=(0,u.partConfigEnabled)("search_videoshowcase_horizontal")?((0,c.isRetina)()?e.photo_200:e.photo_100)||e.photo_200||e.photo_100:((0,c.isRetina)()?e.photo_100:e.photo_50)||e.photo_100||e.photo_200,I=(0,d.useRefLogView)({type:r.EventItemType.SEARCH_AUTHOR,trackCode:g});return(0,o.jsx)(n.SimpleCell,{className:m.default.author,"data-testid":"author_group",getRootRef:I,href:a,onClick:()=>{C?.({action:r.SearchClickActionMap.TAP,track_code:g,type:r.EventItemType.SEARCH_AUTHOR})},before:(0,o.jsx)(s.RichAvatar,{size:(0,u.partConfigEnabled)("search_videoshowcase_horizontal")?d.CATALOG_AVATAR_SIZE_L:d.CATALOG_AVATAR_SIZE_SM,src:f,nft:!!e?.is_nft_photo}),badgeAfterTitle:e.verified?(0,o.jsx)(i.Icon16Verified,{onMouseOver:t=>{v&&v(t.currentTarget,{type:1,oid:-e.id,force_new_tab:!0,forceToDown:!0})}}):null,after:(0,o.jsx)(l.Button,{mode:e?.is_member?"secondary":"primary",size:"s",appearance:"accent",onClick:e?.is_member?t=>{t.stopPropagation(),t.preventDefault(),S.groupsService.fireLeaveGroup({group_id:e.id}),C?.({action:r.SearchClickActionMap.UNSUBSCRIBE,track_code:g,type:r.EventItemType.SEARCH_AUTHOR})}:t=>{t.stopPropagation(),t.preventDefault(),S.groupsService.fireJoinGroup({group_id:e.id}),C?.({action:r.SearchClickActionMap.SUBSCRIBE,track_code:g,type:r.EventItemType.SEARCH_AUTHOR})},loading:h,children:e?.is_member?_.getLang("search_video_author_subscribed"):_.getLang("search_video_author_subscribe")}),subtitle:t,children:e.name})}},407325:(e,t,a)=>{a.d(t,{SearchAuthorProfile:()=>g});var o=a(474848),r=a(293721),i=a(695290),n=a(204733),s=a(445248),l=a(280234),c=a(533048),d=a(7144),u=a(610989),_=a(476726),p=a(694743),m=a(406267);const g=({profile:e,description:t,url:a,trackCode:g})=>{const{appCatalogService:S}=(0,p.useCatalogConfig)(),v=(0,r.useStore)(S.catalogUsersService.$pendingFriendsIds),h=(0,p.useCollectClick)(),C=(0,_.partConfigEnabled)("search_videoshowcase_horizontal")?((0,d.isRetina)()?e.photo_200:e.photo_100)||e.photo_200||e.photo_100:((0,d.isRetina)()?e.photo_100:e.photo_50)||e.photo_100||e.photo_200,f=(0,p.useRefLogView)({type:i.EventItemType.SEARCH_AUTHOR,trackCode:g});return(0,o.jsxs)(s.SimpleCell,{className:m.default.author,"data-testid":"author_profile",getRootRef:f,href:a,onClick:()=>{h?.({action:i.SearchClickActionMap.TAP,track_code:g,type:i.EventItemType.SEARCH_AUTHOR})},before:(0,o.jsx)(l.RichAvatar,{size:(0,_.partConfigEnabled)("search_videoshowcase_horizontal")?p.CATALOG_AVATAR_SIZE_L:p.CATALOG_AVATAR_SIZE_SM,src:C,nft:!!e?.is_nft}),badgeAfterTitle:e.verified?(0,o.jsx)(n.Icon16Verified,{}):null,after:(0,o.jsx)(c.Button,{mode:e.friend_status?"secondary":"primary",size:"s",appearance:"accent",onClick:e.friend_status?t=>{t.stopPropagation(),t.preventDefault(),S.catalogUsersService.fireDeleteFriend({user_id:e.id}),h?.({action:i.SearchClickActionMap.UNSUBSCRIBE,track_code:g,type:i.EventItemType.SEARCH_AUTHOR})}:t=>{t.stopPropagation(),t.preventDefault(),S.catalogUsersService.fireAddFriend({user_id:e.id}),h?.({action:i.SearchClickActionMap.SUBSCRIBE,track_code:g,type:i.EventItemType.SEARCH_AUTHOR})},loading:v.includes(e.id),children:e.friend_status?u.getLang("search_video_author_subscribed"):u.getLang("search_video_author_subscribe")}),subtitle:t,children:[e.first_name," ",e.last_name]})}},638026:(e,t,a)=>{a.d(t,{SearchAuthor:()=>o.SearchAuthor});var o=a(77585)},805513:(e,t,a)=>{a.d(t,{SearchSpellchecker:()=>p});var o=a(474848),r=a(293721),i=a(123083),n=a(273555),s=a(695290),l=a(172834),c=a(445248),d=a(380118),u=a(765668),_=a(289110);const p=({id:e})=>{const{appCatalogService:t}=(0,i.useCatalogConfig)(),{search:a}=(0,i.useCatalogSearch)(),p=(0,i.useCollectClick)(),m=(0,r.useStore)(t.pageService.$pageId),g=(0,r.useStoreMap)({store:t.searchSpellcheckersService.$searchSpellcheckers,keys:[e],fn:(e,[t])=>e.find((({id:e})=>e===t))}),S=g?.track_code,v=(0,n.useRefLogView)({type:s.EventItemType.SEARCH_SUGGESTION,trackCode:S});if(!g)return null;const h=(0,l.prepareSpellcheck)(g);return(0,o.jsx)(c.SimpleCell,{className:_.default.searchSpellcheck,getRootRef:v,hasActive:!1,hasHover:!1,multiline:!0,children:(0,o.jsxs)(d.Text,{children:[h.title," ",(0,o.jsx)(d.Text,{normalize:!1,weight:"1",children:h.query.text})," · ",h.suggest,(0,o.jsx)(u.Link,{"data-testid":"search_spellchecker",onClick:()=>{a&&g?.id&&S&&(a({q:g.search_action.next_search_query,page:m,additionalParams:{suggestTrackCode:S,noSpellcheck:1}}),p({action:s.SearchClickActionMap.TAP,track_code:g.track_code,type:s.EventItemType.CATALOG_ITEM}))},children:h.search_action.text})]})})}},684992:(e,t,a)=>{a.d(t,{SearchSpellchecker:()=>o.SearchSpellchecker});var o=a(805513)},324717:(e,t,a)=>{a.d(t,{Text:()=>s});var o=a(474848),r=a(296540),i=a(500774),n=a(61865);const s=e=>{const t=(0,r.useMemo)((()=>(0,n.extractItemsIds)(e)),[e]),a=(0,n.getBlockComponentByDataType)(e.data_type);return(0,o.jsx)(i.Group,{mode:"plain",separator:"hide",children:t.map((({id:e})=>(0,o.jsx)(a,{id:e},e)))})}},254530:(e,t,a)=>{a.d(t,{Text:()=>o.Text});var o=a(324717)},737169:(e,t,a)=>{a.d(t,{Video:()=>L});var o=a(474848),r=a(296540),i=a(689697),n=a(8520),s=a(52975),l=a(205504),c=a(424657),d=a(810836),u=a(583507),_=a(309357),p=a(839596),m=a(457354),g=a(701134),S=a(196067),v=a(388078),h=a(694743),C=a(123083),f=a(695290),I=a(33281),E=a(273555),k=a(861255),y=a(293721),T=a(476726),A=a(112268),R=a(189776);const L=({id:e})=>{const{userId:t,appCatalogService:a}=(0,h.useCatalogConfig)(),[L,b]=String(e).split("_"),{showVideo:x,getVideoCardWrapper:O}=(0,C.useCatalogSearch)(),w=(0,h.useCollectClick)(),N=(0,T.partConfigEnabled)("video_bookmarks_renaming_to_watch_later"),M=(0,y.useStoreMap)({store:a.videoService.$videoItems,keys:[L,b],fn:(e,[t,a])=>e.find((({id:e,owner_id:o})=>e===+a&&o===+t))}),P=(0,h.useCatalogStoreMap)(a.groupsService.$groups,Math.abs(Number(L))),V=(0,y.useStoreMap)({store:a.profilesService.$profiles,keys:[L],fn:(e,[t])=>e.get(+t)}),B=M?(0,I.getVideoUrl)(M):"",[D,j]=(0,r.useState)(!1),G=M?.main_artists?.at(0),F=v.Ranges.isGroupId(Number(L))?P:V,U=(0,s.useWindowWidth)(),H=(0,r.useMemo)((()=>{const e=M?.image??[];let t=e.filter((e=>!e.with_padding));return t.length||(t=e),(0,n.getPhotoSize)(t,(0,l.getImageMinWidth)(U))}),[U]),[$,z]=(0,r.useState)(!0),W=()=>{const e=M?.added;e?(w({action:f.SearchClickActionMap.REMOVE_FROM_ME,track_code:M?.track_code,type:f.EventItemType.VIDEO}),a.videoService.removeVideoFromMyVideosWithoutEffect({target_id:t,owner_id:Number(L),video_id:Number(b)})):(w({action:f.SearchClickActionMap.ADD_TO_ME,track_code:M?.track_code,type:f.EventItemType.VIDEO}),a.videoService.addVideoToMyVideosWithoutEffect({target_id:t,owner_id:Number(L),video_id:Number(b)}))},K=(0,E.useRefLogView)({type:f.EventItemType.VIDEO,trackCode:M?.track_code}),Y=e=>N?(e=>{if(!L||!N)return;const t=M?.is_favorite;t?a.videoService.removeVideoFromWatchLater({owner_id:Number(L),id:Number(b),ref:M?.track_code,source:e}):a.videoService.addVideoToWatchLater({owner_id:Number(L),id:Number(b),ref:M?.track_code,source:e});const o=(0,A.joinRawId)({ownerId:Number(L),itemId:Number(b)});window.dispatchEvent(new CustomEvent(i.VideoShowcaseFaveEvents.TOGGLE,{detail:{id:o,isFave:t,rollbackCallback:()=>{a.videoService.addVideoToWatchLater({owner_id:Number(L),id:Number(b),ref:M?.track_code,source:R.FAVORITE_SOURCES.SNACKBAR}),window.dispatchEvent(new CustomEvent(i.VideoShowcaseFaveEvents.TOGGLE,{detail:{id:o,isFave:!1}}))}}})),w({action:t?f.SearchClickActionMap.UNFAVE:f.SearchClickActionMap.FAVE,track_code:M?.track_code,type:f.EventItemType.VIDEO})})(e):(e=>{if(!L)return;const t=M?.is_favorite;t?a.videoService.removeVideoFromFave({owner_id:Number(L),id:Number(b),ref:M?.track_code,source:e}):(a.layoutService.showSnackbar({event:R.SNACKBAR_EVENTS.ADD_TO_FAVE}),a.videoService.addVideoToFave({owner_id:Number(L),id:Number(b),ref:M?.track_code,source:e})),w({action:t?f.SearchClickActionMap.UNFAVE:f.SearchClickActionMap.FAVE,track_code:M?.track_code,type:f.EventItemType.VIDEO})})(e);if(void 0===M)return null;const q=M.trailer?.mp4_360??"",Q=(0,i.getVideoClasses)(M,String(e)),Z=M.restriction;let X=0;M.viewed_duration&&M.duration&&(X=100*M.viewed_duration/M.duration);const J=M.duration?(0,n.formatDuration)(M.duration):"",ee=t=>{if(t.preventDefault(),window.cur.cancelClick)window.cur.cancelClick=!1;else{if(window.cur.chooseVideoMedia)return window.cur.chooseVideoMedia(t.target,String(e));w({action:f.SearchClickActionMap.TAP,track_code:M.track_code,type:f.EventItemType.VIDEO}),x&&x({event:t,id:String(e),video:M})}},te=O&&O({video:M,owner:F,handleFavToggle:Y,handleToggleAdd:W,handleClickShowVideo:ee,handleClickAuthor:()=>{w({action:f.SearchClickActionMap.OPEN_OWNER,track_code:M.track_code,type:f.EventItemType.VIDEO})}});return te||(0,o.jsxs)("div",{ref:K,className:Q,id:`video_item_${e}`,"data-id":e,"data-owner-id":L,"data-video-id":b,"data-thumb":H?.url,"data-trailer":q,"data-task-mouseenter":"VideoShowcase/play_trailer","data-task-mouseleave":"VideoShowcase/stop_trailer",children:[(0,o.jsx)("a",{className:"VideoCard__thumbLink video_item__thumb_link",href:B,onClick:ee,children:(0,o.jsxs)("div",{className:"VideoCard__thumbWrapper video_item_thumb_wrap",children:[Z?(0,o.jsx)(c.VideoRestriction,{icon:Z.icon_name,title:Z.title}):null,(0,o.jsxs)("div",{className:"VideoCard__thumb",children:[H&&!D&&(0,o.jsx)("img",{className:(0,n.classNames)("VideoCard__thumbImg","js-video-item-thumb","VideoRestriction__thumb",{VideoRestriction__thumb:Boolean(Z)}),"data-thumb":H.url,src:H.url,loading:"lazy",onError:()=>j(!0),alt:M.title}),D&&(0,o.jsx)(S.Icon56VideoOutline,{})]}),(0,o.jsx)("div",{className:"video_thumb_play VideoCard__play"}),q?(0,o.jsx)("video",{className:(0,n.classNames)("VideoCard__trailer",{"VideoCard__trailer--loading":$}),onLoadedData:()=>z(!1),crossOrigin:"anonymous",src:q,muted:!0,loop:!0}):null,(0,o.jsxs)("div",{className:"VideoCard__controls video_item_controls",children:[(0,o.jsx)("div",{className:"VideoCard__privacyIconWrapper"}),(0,o.jsx)(k.VideoCardLabel,{video:M,duration:J}),(0,o.jsx)("div",{className:"VideoCard__actions video_thumb_actions",children:(0,o.jsx)(d.VideoActions,{video:M,onToggleAdd:W,onToggleFav:Y})}),(0,o.jsx)(g.MediaCheckButton,{videoId:String(e)}),X?(0,o.jsx)("div",{className:"VideoCard__viewedDurationWrapper",children:(0,o.jsx)("div",{className:"VideoCard__viewedDuration",style:{width:`${X}%`}})}):null]})]})}),(0,o.jsxs)("div",{className:"VideoCard__info",children:[(0,o.jsx)(u.Avatar,{owner:F||G}),(0,o.jsxs)("div",{className:"VideoCard__infoContent",children:[(0,o.jsxs)("div",{className:"VideoCard__titleWrapper",id:`video_card_title_wrapper_${b}`,children:[(0,o.jsx)("a",{className:"VideoCard__title",href:B,"data-queue":"0","data-id":e,"data-task-mouseover":"Video/check_title",onClick:ee,children:M?.title}),(0,o.jsx)(_.MenuToggle,{videoRawId:String(e)})]}),(0,o.jsx)("div",{className:"VideoCard__additionalInfo",children:(0,o.jsx)(p.VideoOwner,{owner:F||G,ownerId:M.owner_id,trackCode:M.track_code})}),(0,o.jsx)("div",{className:"VideoCard__additionalInfo VideoCard__extendedInfo",children:(0,o.jsx)(m.SubTitle,{video:M})})]})]})]})}},621666:(e,t,a)=>{a.d(t,{Avatar:()=>n});var o=a(474848),r=a(3931),i=a(417517);const n=({owner:e})=>{const t=(0,r.getOwnerAvatar)(e);return t.length?(0,o.jsx)("a",{href:(0,i.getOwnerUrl)(e,"/video/@"),className:"VideoCard__avatar VideoCard__avatar--base",style:{backgroundImage:`url(${t})`}}):null}},583507:(e,t,a)=>{a.d(t,{Avatar:()=>o.Avatar});var o=a(621666)},954268:(e,t,a)=>{a.d(t,{MediaCheckButton:()=>i});var o=a(474848),r=a(296540);const i=({videoId:e})=>{const t=(0,r.useRef)(null);return(0,o.jsx)("div",{ref:t,className:"media_check_btn_wrap",onClick:()=>{if(window.cur.chooseVideoMedia&&t.current)return window.cur.chooseVideoMedia(t.current,e,!0)},children:(0,o.jsx)("div",{className:"media_check_btn"})})}},701134:(e,t,a)=>{a.d(t,{MediaCheckButton:()=>o.MediaCheckButton});var o=a(954268)},62862:(e,t,a)=>{a.d(t,{MenuToggle:()=>s});var o=a(474848),r=a(296540),i=a(52509),n=a(123083);const s=({videoRawId:e})=>{const{showVideoMenu:t}=(0,n.useCatalogSearch)(),a=(0,r.useRef)(null),s=()=>{t&&t(a.current,e)};return(0,o.jsx)("button",{ref:a,className:"VideoCard__menuToggle",onMouseOver:s,onClick:s,children:(0,o.jsx)("div",{className:"VideoCard__menuToggleIcon",children:(0,o.jsx)(i.Icon24MoreHorizontal,{})})})}},309357:(e,t,a)=>{a.d(t,{MenuToggle:()=>o.MenuToggle});var o=a(62862)},783920:(e,t,a)=>{a.d(t,{SubTitle:()=>i});var o=a(474848),r=a(422495);const i=({video:e})=>(0,o.jsxs)(o.Fragment,{children:[e.views&&(0,o.jsx)("span",{className:"VideoCard__extendedInfoView",children:(0,r.getFormattedViews)(e.views)}),(0,o.jsxs)("span",{className:"VideoCard__extendedInfoDate",children:[(0,o.jsx)("span",{className:"divider VideoCard__extendedInfoDateDivider"}),e.date&&(0,o.jsx)("span",{className:"VideoCard__extendedInfoUpdated",children:(0,r.getFormattedUpdatedTime)(e.date,!0)})]})]})},457354:(e,t,a)=>{a.d(t,{SubTitle:()=>o.SubTitle});var o=a(783920)},777200:(e,t,a)=>{a.d(t,{VideoActions:()=>S});var o=a(474848),r=a(296540),i=a(379539),n=a(868687),s=a(48876),l=a(947962),c=a(511617),d=a(711032),u=a(610989),_=a(476726),p=a(320830),m=a(689697),g=a(781281);const S=({video:e,onToggleAdd:t,onToggleFav:a})=>{const S=(0,_.partConfigEnabled)("video_bookmarks_renaming_to_watch_later"),v=(0,_.partConfigEnabled)("video_can_show_playlist_popover_with_watch_later");return(0,r.useEffect)((()=>{const t=t=>{e.id===t.detail.videoId&&a()};return window.addEventListener(m.VideoShowcaseFaveEvents.EVENT_TRIGGER,t),()=>{window.removeEventListener(m.VideoShowcaseFaveEvents.EVENT_TRIGGER,t)}}),[e,a]),(0,o.jsxs)(o.Fragment,{children:[e.can_edit?(0,o.jsx)("button",{className:"VideoCard__action VideoCard__action--edit","data-task-click":"VideoShowcase/video_edit","data-task-mouseover":"VideoShowcase/show_tooltip","data-task-mouseout":"VideoShowcase/hide_tooltip","data-text":u.getLang("video_edit"),"aria-label":u.getLang("video_edit"),children:(0,o.jsx)("div",{className:"VideoCard__actionIcon",children:(0,o.jsx)(i.Icon16PenOutline,{})})}):null,e.can_add_to_faves&&S?(0,o.jsx)(p.TextTooltip,{text:e.is_favorite?u.getLang("video_remove_from_watch_later"):u.getLang("video_catalog_showcase_section_my_watch_later_title"),offsetByMainAxis:8,offsetByCrossAxis:24,maxWidth:140,appearance:"black",placement:"bottom",children:(0,o.jsx)("button",{className:"VideoCard__action VideoCard__action--watch-later",onClick:e=>{return t=e,o=g.FAVORITE_SOURCES.VIDEO_CARD_BUTTON,t.stopPropagation(),t.preventDefault(),void a(o);var t,o},"data-task-click":"VideoShowcase/icon_watch_later_video","data-task-mouseover":"VideoShowcase/show_watch_later_tooltip","data-task-mouseout":"VideoShowcase/hide_tooltip","data-destroy-tooltip":"true","data-text":e.is_favorite?u.getLang("video_remove_from_watch_later"):u.getLang("video_catalog_showcase_section_my_watch_later_title"),"aria-label":e.is_favorite?u.getLang("video_remove_from_watch_later"):u.getLang("video_catalog_showcase_section_my_watch_later_title"),children:(0,o.jsx)("div",{className:"VideoCard__actionIcon",children:e.is_favorite?(0,o.jsx)(n.Icon16Clock,{}):(0,o.jsx)(s.Icon16ClockOutline,{})})})}):null,3===e.can_download&&"interactive"!==e.type?(0,o.jsx)("button",{className:"VideoCard__action VideoCard__action--download",onClick:t=>(0,m.downloadVideo)(t,e),children:(0,o.jsx)("div",{className:"VideoCard__actionIcon",children:(0,o.jsx)(l.Icon16DownloadOutline,{})})}):null,!e.can_add||!v&&S?null:(0,o.jsxs)("button",{className:"VideoCard__action VideoCard__action--add",onClick:e=>{e.stopPropagation(),e.preventDefault(),t()},"data-task-mouseover":"VideoShowcase/show_add_tooltip","data-task-mouseout":"VideoShowcase/hide_tooltip","data-text-add":u.getLang("video_add_to_my_playlist"),"data-text-added":u.getLang("video_remove_from_my_playlist"),"aria-label":u.getLang("video_add_to_my_playlist"),children:[(0,o.jsx)("div",{className:"VideoCard__actionIcon VideoCard__actionIcon--added",children:(0,o.jsx)(c.Icon16Done,{})}),(0,o.jsx)("div",{className:"VideoCard__actionIcon VideoCard__actionIcon--add",children:(0,o.jsx)(d.Icon16Add,{})})]})]})}},810836:(e,t,a)=>{a.d(t,{VideoActions:()=>o.VideoActions});var o=a(777200)},547294:(e,t,a)=>{a.d(t,{VideoCardLabel:()=>i});var o=a(474848),r=a(689697);const i=({video:e,duration:t})=>(0,o.jsxs)("div",{className:"VideoCard__label ",children:[e.platform?(0,o.jsx)("span",{className:"VideoCard__labelItem",children:e.platform}):null,e.duration?(0,o.jsx)("span",{className:"VideoCard__labelItem",children:t}):null,(0,r.isActiveLiveStatus)(e)?(0,o.jsx)("span",{className:"video_thumb_label_live_icon"}):null]})},861255:(e,t,a)=>{a.d(t,{VideoCardLabel:()=>o.VideoCardLabel});var o=a(547294)},784548:(e,t,a)=>{a.d(t,{VideoOwner:()=>c});var o=a(474848),r=a(417517),i=a(952881),n=a(694743),s=a(695290),l=a(123083);const c=({owner:e,trackCode:t,ownerId:a})=>{const c=(0,n.useCollectClick)(),{pageVerifiedTip:d}=(0,l.useCatalogConfig)(),u=e?(0,r.getOwnerUrl)(e,"/video/@"):void 0,_=(0,i.getOwnerName)(e),p=Boolean(e&&"verified"in e&&e?.verified);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("a",{onClick:()=>{c({action:s.SearchClickActionMap.OPEN_OWNER,track_code:t,type:s.EventItemType.VIDEO})},href:u,className:"VideoCard__ownerLink",children:_}),p&&(0,o.jsx)("a",{href:"/verify",className:"page_verified ",onMouseOver:e=>{d&&d(e.currentTarget,{type:1,oid:a})}})]})}},839596:(e,t,a)=>{a.d(t,{VideoOwner:()=>o.VideoOwner});var o=a(784548)},348694:(e,t,a)=>{a.d(t,{VideoRestriction:()=>i});var o=a(474848);const r=e=>"hide_outline"===e?"age":e,i=({icon:e,title:t})=>(0,o.jsx)("div",{className:"VideoRestriction__boxWrap",children:(0,o.jsxs)("div",{className:"VideoRestriction__box",children:[(0,o.jsx)("div",{className:`VideoRestriction__icon VideoRestriction__icon--${r(e)}`}),(0,o.jsx)("div",{className:"VideoRestriction__title",children:t})]})})},424657:(e,t,a)=>{a.d(t,{VideoRestriction:()=>o.VideoRestriction});var o=a(348694)},163172:(e,t,a)=>{a.d(t,{Video:()=>o.Video});var o=a(737169)},689697:(e,t,a)=>{a.d(t,{VideoShowcaseFaveEvents:()=>l,downloadVideo:()=>d,getPlayFromByDuration:()=>c,getVideoClasses:()=>s,isActiveLiveStatus:()=>n});var o=a(8520),r=a(422495),i=a(112268);const n=e=>["waiting","started"].some((t=>t===e.live_status)),s=(e,t)=>{const a=(0,r.isLiveVideo)(e),i=Boolean(e.platform)&&!a,s=Boolean(e.can_edit),l=Boolean(e.can_add),c=3===e.can_download&&"interactive"!==e.type,d=!s,u=!l,_=Boolean(e.content_restricted);return(0,o.classNames)("_video_item",`ge_video_item_${t}`,{video_ext:i,video_active_live:n(e),video_can_edit:s,video_can_add:l,video_can_download:c,video_can_delete:!1,video_nap:Boolean(e.no_autoplay),video_added:Boolean(e.added),"VideoCard--private":Boolean(e.is_private),video_no_duration:!Boolean(e.platform)&&!Boolean(e.duration)&&!n(e),video_no_actions:d&&(u||_),video_blocked:_,VideoRestriction:Boolean(e.restriction),"VideoRestriction--small":Boolean(e.restriction),"VideoRestriction--canPreview":Boolean(e.restriction?.can_preview),"VideoRestriction--blur":Boolean(e.restriction?.blur),"VideoCard--videoAdded":Boolean(e.added),"VideoCard--bookmarked":Boolean(e.is_favorite)},"VideoCard")},l={TOGGLE:"VideoShowcaseFaveEvents/TOGGLE",EVENT_TRIGGER:"VideoShowcaseFaveEvents/EVENT_TRIGGER"},c=e=>{let t="";const a=Math.floor(e/3600);a&&(t+=`${a}h`);const o=Math.floor(e%3600/60);o&&(t+=`${o}m`);const r=e%60;return r&&(t+=`${r}s`),t},d=(e,{id:t,owner_id:a,title:o,type:r})=>{o&&r&&a&&t&&(e.preventDefault(),e.stopPropagation(),window.ajax.post("al_video.php?act=get_download_url",{video_raw_id:(0,i.joinRawId)({ownerId:a,itemId:t})},{onDone:e=>{(({url:e,title:t})=>{if(!e)return!1;const a=document.createElement("a");a.href=e,a.download=`${t}.mp4`,document.body.appendChild(a),a.click(),document.body.removeChild(a)})({title:o,url:e})}}))}},611097:(e,t,a)=>{a.d(t,{ECatalogBlockDataType:()=>o});const o={VIDEOS:"videos",ALBUMS:"albums",SEARCH_SPELLCHECKER:"search_spellchecker",SEARCH_AUTHORS:"search_authors"}},61865:(e,t,a)=>{a.d(t,{extractItemsIds:()=>c,getBlockComponentByDataType:()=>d});var o=a(611097),r=a(163172),i=a(638026),n=a(684992),s=a(246103);const l=e=>e?.map((e=>({id:e}))),c=e=>{const{data_type:t}=e;switch(t){case o.ECatalogBlockDataType.VIDEOS:return l(e?.videos_ids)||[];case o.ECatalogBlockDataType.ALBUMS:return l(e?.albums_ids)||[];case o.ECatalogBlockDataType.SEARCH_SPELLCHECKER:return l(e?.search_spellcheckers_ids)||[];case o.ECatalogBlockDataType.SEARCH_AUTHORS:return e?.search_author_items||[]}return[]},d=e=>{switch(e){case o.ECatalogBlockDataType.VIDEOS:return r.Video;case o.ECatalogBlockDataType.SEARCH_AUTHORS:return i.SearchAuthor;case o.ECatalogBlockDataType.SEARCH_SPELLCHECKER:return n.SearchSpellchecker;case o.ECatalogBlockDataType.ALBUMS:return s.Playlist}return()=>null}},551090:(e,t,a)=>{var o;a.d(t,{CATALOG_API_METHODS:()=>b,CATALOG_AVATAR_SIZE_L:()=>m,CATALOG_AVATAR_SIZE_M:()=>p,CATALOG_AVATAR_SIZE_SM:()=>_,CatalogActionIcons:()=>x,CatalogActionType:()=>n,CatalogBlockDataType:()=>i,CatalogBlockLayoutName:()=>r,CatalogExtendedDataName:()=>s,CatalogType:()=>o,FIRST_VERIFIED_TOOLTIP_SHIFT:()=>A,FRIENDS_BUTTON_ACTIONS:()=>c,FRIENDS_IN_GROUP:()=>f,GROUP_REDESIGN_EVENT_SLIDER_SCROLL:()=>y,GROUP_REDESIGN_SLIDER_SCROLL:()=>k,MARKET_ITEM_AVATAR_SIZE_M:()=>C,MARKET_ITEM_AVATAR_SIZE_SM:()=>h,MARKET_ITEM_SLIDER_SCROLL:()=>T,MAX_FRIENDS_IN_GROUP_TO_SHOW:()=>I,MINI_APP_AVATAR_SIZE:()=>g,ONLINE_STATUS:()=>l,OPEN_SEARCH_TAB_ACTION_URL:()=>d,OPEN_SEARCH_TAB_ACTION_URL_WEB:()=>u,RICH_CELL_BUTTON_WIDTH_L:()=>L,SLIDER_AVATAR_SIZE_M:()=>v,SLIDER_AVATAR_SIZE_SM:()=>S,SLIDER_SCROLL:()=>E,VERIFIED_TOOLTIP_SHIFT:()=>R}),function(e){e.SEARCH="search",e.VIDEO="video",e.GROUPS="groups"}(o||(o={}));const r={HEADER:"header",HEADER_COMPACT:"header_compact",HEADER_LARGE:"header_large",HEADER_EXTENDED:"header_extended",SMALL_SLIDER:"small_slider",LARGE_SLIDER:"large_slider",SLIDER:"slider",VIDEO_SLIDER:"video_slider",SLIDER_CARD:"slider_card",SLIDER_MINIMALISTIC_CARD:"slider_minimalistic_card",SLIDER_EVENT:"slider_event",SEPARATOR:"separator",LIST:"list",LIST_WITH_NOTIFICATION_STATE:"list_with_notification_state",LARGE_LIST:"large_list",SMALL_LIST:"small_list",STACKED_LIST:"stacked_list",SHORT_VIDEO_LIST:"short_video_list",COMPACT_LIST:"compact_list",PLACEHOLDER:"placeholder",PLACEHOLDER_LINE:"placeholder_line",PLACEHOLDER_SMALL:"placeholder_small",PLACEHOLDER_BIG:"placeholder_big",PLACEHOLDER_IMAGE_WARNING:"placeholder_image_warning",PLACEHOLDER_ILLEGAL_QUERY:"placeholder_illegal_query",DOUBLE_STACKED_SLIDER:"double_stacked_slider",DOUBLE_LIST:"double_list",DOUBLE_STACKED_LIST:"double_stacked_list",DOUBLE_STACKED_LIST_MINIMALISTIC_CARD:"double_stacked_list_minimalistic_card",HORIZONTAL_BUTTONS:"horizontal_buttons",TRIPLE_STACKED_SLIDER:"triple_stacked_slider",PREVIEW:"preview",CHIPS:"chips",TITLE_SUBTITLE_AVATAR:"title_subtitle_avatar",TEXT:"text",BUTTON:"button",BANNER:"banner",SHORT_VIDEO_SLIDER:"short_video_slider",SHORT_VIDEO_SLIDER_WITH_VIEW_COUNTER:"short_video_slider_with_view_counter",VIDEO_SETTINGS_PIN:"video_settings_pin",VIDEO_SETTINGS_PLAYLISTS:"video_settings_playlists"},i={GROUPS:"groups",GROUPS_INVITES:"groups_invites",GROUPS_ITEMS:"groups_items",GROUPS_ALL:"groups_all_groups_or_recommendations",GROUPS_COLLECTION:"groups_collection",GROUPS_CATEGORY_ITEMS:"groups_category_items",GROUPS_EVENTS:"groups_events",ACTION:"action",LINKS:"links",CATALOG_USERS:"catalog_users",MINI_APPS:"mini_apps",MARKET_ITEMS:"market_items",VIDEOS:"videos",ALBUMS:"albums",CATALOG_SEARCH_SUGGESTION:"catalog_search_suggestion",SEARCH_SPELLCHECKER:"search_spellchecker",SEARCH_AUTHORS:"search_authors",MUSIC_AUDIOS:"music_audios",MUSIC_PLAYLISTS:"music_playlists",SEARCH_SUGGESTIONS:"search_suggestions",NEWSFEED_ITEMS:"newsfeed_items",AUDIOS:"audios",GAMES:"games",STICKERS_PACKS:"stickers_packs",MINI_APPS_CONTENT:"mini_apps_content",SEARCH_ENTITY_ITEMS:"search_entity_items",NAVIGATION_TABS:"navigation_tabs",PLACEHOLDER:"placeholder",RADIO_STATIONS:"radiostations"},n={OPEN_SEARCH_TAB:"open_search_tab",OPEN_SECTION:"open_section",OPEN_URL:"open_url",CLEAR_RECENT_GROUPS:"clear_recent_groups",OPEN_SECTION_SLIDER_CELL:"open_section_slider_cell",ONBOARDING:"onboarding",BLOCK_FILTER:"block_filter",VIDEO_SUBSCRIPTIONS_BLOCK_FILTER:"video_subscriptions_block_filter",SHOW_FILTERS:"show_filters",PLAY_VIDEOS_FROM_BLOCK:"play_videos_from_block",TOGGLE_ALBUM_SUBSCRIPTION:"toggle_album_subscription",UPLOAD_VIDEO:"upload_video",CREATE_ALBUM:"create_album",START_LIVE:"start_live",GROUPS_MY_GROUPS_TABS:"groups_my_groups_tabs",GROUPS_EVENTS_TABS:"groups_events_tabs",HIDE_BLOCK:"hide_block",SWITCH_SECTION:"switch_section",SEARCH_SHOW_MORE:"search_show_more",OPEN_VIDEO_MODAL:"open_video_modal",OPEN_VIDEO_PLAYLIST_MODAL:"open_video_playlist_modal"},s={GROUPS:"groups",LINKS:"links",CATALOG_USERS:"catalog_users",MINI_APPS:"mini_apps",MARKET_ITEMS:"market_items",VIDEOS:"videos",ALBUMS:"albums",PLACEHOLDERS:"placeholders",PROFILES:"profiles",SUGGESTIONS:"suggestions",SEARCH_SPELLCHECKERS:"search_spellcheckers",NEWSFEED_ITEMS:"newsfeed_items",REACTION_SETS:"reaction_sets",PLAYLISTS:"playlists",AUDIOS:"audios",GROUP_COLLECTION_ITEMS:"group_collection_items",GROUP_CATEGORY_ITEMS:"group_category_items",GAMES:"games",STICKERS_PACK_PREVIEWS:"stickers_pack_previews",SEARCH_ENTITY_ITEMS:"search_entity_items",NAVIGATION_TABS:"navigation_tabs",CLASSIFIEDS_CATEGORY_TREE:"classifieds_category_tree",RADIO_STATIONS:"radio_stations",TEXTS:"texts"},l={ONLINE:"online",MOBILE:"online-mobile"};var c;!function(e){e.ADD_FRIEND="addFriend",e.REMOVE_FRIEND="removeFriend",e.SEND_MESSAGE="sendMessage",e.NO_ACTION="noAction",e.SUBSCRIBE="subscribe",e.UNSUBSCRIBE="unsubscribe",e.CALL="call"}(c||(c={}));const d={GROUPS:"/search?section=communities",PEOPLE:"/search?section=people",VIDEO:"/search?section=video",SERVICES:"/search?section=services",GAMES:"/search?section=games",MUSIC:"/search?section=audio",CLIPS:"/search?section=clips"},u={GROUPS:"/search/communities",PEOPLE:"/search/people",VIDEO:"/search/video",SERVICES:"/search/mini_apps",GAMES:"/search/games",MUSIC:"/search/audio",CLIPS:"/search/clips",MARKET:"/search/market"},_=40,p=48,m=80,g=56,S=56,v=64,h=135,C=140,f={NO_ONE:0,ONE:1,TWO:2},I=2,E=120,k=170,y=310,T=225,A=[96,20,5],R=[96,3,3],L=134,b={GET_SECTION:"catalog.getSection",SAVE_SELECTION:"catalog.saveSelection",GET_STORIES:"stories.get",JOIN_GROUP:"groups.join",LEAVE_GROUP:"groups.leave",ADD_FRIEND:"friends.add",DELETE_FRIEND:"friends.delete",CLEAR_RECENT:"search.clearRecents",GROUPS_REMOVE_RECENT:"groups.removeRecents",FAVE_ADD_PRODUCT:"fave.addProduct",FAVE_REMOVE_PRODUCT:"fave.removeProduct",ADD_RECENT:"search.addRecents",REMOVE_SEARCH_RECENT_QUERY:"search.removeSearchRecentQuery",LIKES_ADD:"likes.add",LIKES_DELETE:"likes.delete",ADD_VIDEO:"video.add",DELETE_VIDEO:"video.delete",ADD_VIDEO_TO_FAVE:"fave.addVideo",REMOVE_VIDEO_FROM_FAVE:"fave.removeVideo",ADD_VIDEO_TO_PLAYLIST:"video.addToAlbum",REMOVE_VIDEO_FROM_PLAYLIST:"video.removeFromAlbum",GET_PLAYLISTS_BY_VIDEO:"video.getAlbumsByVideo",GET_PLAYLISTS:"video.getAlbums",SUBSCRIBE_TO_ALBUM:"video.subscribeToAlbum",UNSUBSCRIBE_TO_ALBUM:"video.unsubscribeFromAlbum",REMOVE_VIEWING_HISTORY_RECORDS:"video.removeViewingHistoryRecords",MARK_VIDEO_NOT_INTERESTED:"video.notInterested",FAVE_ADD_POST:"fave.addPost",FAVE_REMOVE_POST:"fave.removePost",ADD_AUDIO:"audio.add",DELETE_AUDIO:"audio.delete",RESTORE_AUDIO:"audio.restore",AGREE_BLUR_RESTRICTION:"photos.agreeBlurRestriction",FOLLOW_RADIO_STATION:"audio.followRadioStation",UNFOLLOW_RADIO_STATION:"audio.unfollowRadioStation"},x={CHEVRON_RIGHT_CIRCLE_28:"chevron_right_circle_28"}},142373:(e,t,a)=>{a.d(t,{CatalogConfigProvider:()=>l,useCatalogConfig:()=>s});var o=a(474848),r=a(296540),i=a(736841);const n=(0,r.createContext)({navGo:()=>!1,navigate:()=>{},userId:0,isAnonymous:!1,devicePixelRatio:0,pageVerifiedTip:()=>({}),openChat:()=>({}),call:()=>({}),openStories:()=>({}),appCatalogService:i.appCatalogService}),s=()=>(0,r.useContext)(n),l=({navGo:e=(()=>!1),navigate:t=(()=>{}),userId:a=0,isAnonymous:s=!1,devicePixelRatio:l=0,pageVerifiedTip:c=(()=>({})),openChat:d=(()=>({})),call:u=(()=>({})),openStories:_=(()=>({})),musicPlayer:p,blockResolvers:m,appCatalogService:g=i.appCatalogService,withStretchedPlaceholders:S,scrollToBlockOffset:v,sliderProps:h,iconSize:C,children:f})=>{const I=(0,r.useMemo)((()=>({navGo:e,navigate:t,userId:a,isAnonymous:s,devicePixelRatio:l,pageVerifiedTip:c,openChat:d,call:u,openStories:_,musicPlayer:p,sliderProps:h,iconSize:C,blockResolvers:m,appCatalogService:g,scrollToBlockOffset:v,withStretchedPlaceholders:S})),[e,t,a,s,l,c,d,u,_,p,h,C,m,g,v,S]);return(0,o.jsx)(n.Provider,{value:I,children:f})}},156910:(e,t,a)=>{a.d(t,{CatalogDesktopVideoProvider:()=>s,useCatalogDesktopVideo:()=>n});var o=a(474848),r=a(296540);const i=(0,r.createContext)(null),n=()=>{const e=(0,r.useContext)(i);if(!e)throw new Error("You must call useCatalogDesktopVideo only inside CatalogDesktopVideoProvider");return e},s=({videoCardProps:e,listGridProps:t,isAvatarHidden:a,children:n,isCurrentUserEditor:s,isCurrentUserAdmin:l,onOpenPlaylistModal:c,onPlaylistUpload:d,onPlaylistEdit:u,onPlaylistCopyUrl:_,onPlaylistDelete:p,onPlaylistToggleSubscribe:m,onPlaylistOpen:g,ownerRoutePrefix:S})=>{const v=(0,r.useMemo)((()=>({videoCardProps:e,listGridProps:t,isAvatarHidden:a,isCurrentUserEditor:s,isCurrentUserAdmin:l,onOpenPlaylistModal:c,onPlaylistUpload:d,onPlaylistEdit:u,onPlaylistCopyUrl:_,onPlaylistDelete:p,onPlaylistToggleSubscribe:m,onPlaylistOpen:g,ownerRoutePrefix:S})),[e,t,a,s,l,c,d,u,_,p,m,g,S]);return(0,o.jsx)(i.Provider,{value:v,children:n})}},20231:(e,t,a)=>{a.d(t,{CatalogGroupsProvider:()=>s,useCatalogGroupsContext:()=>n});var o=a(474848),r=a(296540);const i=(0,r.createContext)({}),n=()=>(0,r.useContext)(i),s=({children:e,...t})=>(0,o.jsx)(i.Provider,{value:t,children:e})},229188:(e,t,a)=>{a.d(t,{CatalogHandlersProvider:()=>s,useCatalogHandlersContext:()=>n});var o=a(474848),r=a(296540);const i=(0,r.createContext)({}),n=()=>(0,r.useContext)(i),s=({children:e,...t})=>(0,o.jsx)(i.Provider,{value:t,children:e})},172339:(e,t,a)=>{a.d(t,{CatalogLogProvider:()=>l,useCollectClick:()=>n,useCollectView:()=>s});var o=a(474848),r=a(296540);const i=(0,r.createContext)({collectClick:()=>{}}),n=()=>(0,r.useContext)(i).collectClick,s=()=>(0,r.useContext)(i).collectView,l=({collectView:e,collectClick:t=(()=>{}),children:a})=>(0,o.jsx)(i.Provider,{value:{collectView:e,collectClick:t||(()=>{})},children:a})},903347:(e,t,a)=>{a(474848),a(296540)},779184:(e,t,a)=>{a.d(t,{CatalogOwnerProvider:()=>d,useCatalogOwner:()=>c});var o=a(474848),r=a(296540),i=a(293721),n=a(847891),s=a(123083);const l=(0,r.createContext)({findOwner:()=>{}}),c=()=>(0,r.useContext)(l),d=({children:e})=>{const{appCatalogService:t}=(0,s.useCatalogConfig)(),a=(0,i.useStore)(t.groupsService.$groups),c=(0,i.useStore)(t.profilesService.$profiles),d=(0,r.useCallback)((e=>{if(!e)return;const t=Math.abs(e);return n.Ranges.isGroupId(e)?a.get(t):c.get(t)}),[a,c]);return(0,o.jsx)(l.Provider,{value:{findOwner:d},children:e})}},640283:(e,t,a)=>{a.d(t,{CatalogSearchProvider:()=>s,useCatalogSearch:()=>n});var o=a(474848),r=a(296540);const i=(0,r.createContext)({search:()=>({}),applyFilters:()=>{},resetFilters:()=>{},setFilterModal:()=>({}),displayTopSearch:()=>!1,setCurrentQuery:()=>({}),showVideo:()=>({}),appliedFiltersCount:0,currentQuery:"",callFriend:()=>({}),setContentRestricted:()=>{},showAudioPlaylist:()=>({})}),n=()=>(0,r.useContext)(i),s=({search:e=(()=>({})),applyFilters:t=(()=>{}),resetFilters:a=(()=>{}),setFilterModal:n=(()=>({})),displayTopSearch:s=(()=>!1),setCurrentQuery:l=(()=>({})),showVideo:c=(()=>({})),currentQuery:d="",appliedFiltersCount:u=0,children:_,callFriend:p=(()=>({})),setContentRestricted:m=(()=>{}),getVideoCardWrapper:g,showVideoMenu:S,openProductWiki:v,marketRefSource:h,onOpenUrlClick:C,showMiniAppTooltip:f,showGameTooltip:I,showClip:E,showAudioPlaylist:k=(()=>({})),selector:y,showAuthBox:T})=>{const A=(0,r.useMemo)((()=>({setFilterModal:n,applyFilters:t,resetFilters:a,appliedFiltersCount:u,search:e,displayTopSearch:s,currentQuery:d,setCurrentQuery:l,showVideo:c,callFriend:p,setContentRestricted:m,getVideoCardWrapper:g,showVideoMenu:S,openProductWiki:v,marketRefSource:h,onOpenUrlClick:C,showMiniAppTooltip:f,showGameTooltip:I,showAudioPlaylist:k,showClip:E,selector:y,showAuthBox:T})),[n,u,e,s,d,l,c,p,m,g,S,v,h,C,f,I,k,E,t,a,y,T]);return(0,o.jsx)(i.Provider,{value:A,children:_})}},54904:(e,t,a)=>{a.d(t,{useCatalogVideo:()=>i});a(474848);var o=a(296540);const r=(0,o.createContext)({openVideoEditor:()=>({}),openVideoUploader:()=>({}),openPlaylistActions:()=>({}),openLiveSettings:()=>({}),useConfirmPopout:()=>()=>({}),VideoActionSheet:()=>null,isVideoPWA:!1,liveEnabled:!1,openUnauthorizedMoreBox:()=>({})}),i=()=>(0,o.useContext)(r)},123083:(e,t,a)=>{a.d(t,{CatalogConfigProvider:()=>o.CatalogConfigProvider,CatalogDesktopVideoProvider:()=>r.CatalogDesktopVideoProvider,CatalogGroupsProvider:()=>i.CatalogGroupsProvider,CatalogHandlersProvider:()=>d.CatalogHandlersProvider,CatalogLogProvider:()=>n.CatalogLogProvider,CatalogOwnerProvider:()=>s.CatalogOwnerProvider,CatalogSearchProvider:()=>l.CatalogSearchProvider,useCatalogConfig:()=>o.useCatalogConfig,useCatalogDesktopVideo:()=>r.useCatalogDesktopVideo,useCatalogGroupsContext:()=>i.useCatalogGroupsContext,useCatalogHandlersContext:()=>d.useCatalogHandlersContext,useCatalogOwner:()=>s.useCatalogOwner,useCatalogSearch:()=>l.useCatalogSearch,useCatalogVideo:()=>c.useCatalogVideo,useCollectClick:()=>n.useCollectClick,useCollectView:()=>n.useCollectView});var o=a(142373),r=a(156910),i=a(20231),n=a(172339),s=(a(903347),a(779184)),l=a(640283),c=a(54904),d=a(229188)},817159:(e,t,a)=>{a.d(t,{withCatalogBlock:()=>o.withCatalogBlock,withCatalogStore:()=>r.withCatalogStore,withCatalogStoreOwner:()=>i.withCatalogStoreOwner});var o=a(598273),r=a(151429),i=(a(292912),a(751272))},598273:(e,t,a)=>{a.d(t,{withCatalogBlock:()=>n});var o=a(474848),r=a(296540),i=a(694743);function n(e,t){const a=({blockIndex:a=0,...n})=>{const s=(0,r.useMemo)((()=>(0,i.extractItemsIds)(n)),[n]),l=t(n);return s.length&&l?(0,o.jsx)(e,{index:a,block:n,items:s,ItemComponent:l}):null};return a.displayName=`${e.displayName}_withCatalogBlock`,a}},151429:(e,t,a)=>{a.d(t,{withCatalogStore:()=>s});var o=a(474848),r=a(694743),i=a(293721),n=a(8520);function s(e,t,a,{attachTrackCodeToUrl:s,getId:l,getUrl:c,getTrackCode:d,onView:u}={}){const _=_=>{const{appCatalogService:p}=(0,r.useCatalogConfig)(),m=(0,i.useStore)(p.pageService.$catalogType),g=(0,r.useCatalogStoreMap)(t,l?l(_):_.id),S=(0,n.isFunction)(a)?g&&a(g):a,v=d?d(g):_.track_code||(0,r.getObjectPropertyString)(g,"track_code"),h=(0,r.useLogClick)(S,v),C=(0,r.useRefLogView)({type:S,trackCode:v,callback:g&&u?()=>u(g,_):void 0});return g&&S?(0,o.jsx)(e,{..._,item:g,type:S,getRootRef:C,trackCode:v,blockId:_.block_id,collectClick:h,index:_.itemIndex||_.index,href:c&&(s?(0,r.getUrlWithTrackCode)(c(g,_),v,m):c(g,_))}):null};return _.displayName=`${e.displayName}_withCatalogStore`,_}},292912:(e,t,a)=>{a(474848),a(296540),a(694743),a(293721),a(8520)},751272:(e,t,a)=>{a.d(t,{withCatalogStoreOwner:()=>l});var o=a(474848),r=a(296540),i=a(694743),n=a(293721),s=a(8520);function l(e,t,a,{attachTrackCodeToUrl:l,getId:c,getUrl:d,getOwnerId:u,onView:_}={}){const p=p=>{const{appCatalogService:m}=(0,i.useCatalogConfig)(),g=(0,n.useStore)(m.pageService.$catalogType),{findOwner:S}=(0,i.useCatalogOwner)(),v=(0,i.useCatalogStoreMap)(t,c?c(p):p.id),h=(0,s.isFunction)(a)?v&&a(v):a,C=p.track_code||(0,i.getObjectPropertyString)(v,"track_code"),f=(0,i.useLogClick)(h,C),I=(0,i.useRefLogView)({type:h,trackCode:C,callback:v&&_?()=>_(v,p):void 0}),E=(0,r.useMemo)((()=>S(v&&u?u(v):(0,i.getObjectPropertyNumber)(v,"owner_id"))),[S,v]);return v&&E&&h?(0,o.jsx)(e,{...p,item:v,owner:E,type:h,getRootRef:I,trackCode:C,blockId:p.block_id,collectClick:f,index:p.itemIndex||p.index,href:d&&(l?(0,i.getUrlWithTrackCode)(d(v,E),C,g):d(v,E))}):null};return p.displayName=`${e.displayName}_withCatalogStoreOwner`,p}},685140:(e,t,a)=>{a.d(t,{useCatalogCommonFriends:()=>o.useCatalogCommonFriends,useCatalogOwnerStories:()=>r.useCatalogOwnerStories,useCatalogOwnerSubscribe:()=>i.useCatalogOwnerSubscribe,useCatalogStoreArray:()=>n.useCatalogStoreArray,useCatalogStoreMap:()=>n.useCatalogStoreMap,useLogClick:()=>s.useLogClick,useScrollToBlockById:()=>l.useScrollToBlockById});var o=a(255988),r=a(576452),i=a(223317),n=a(230935),s=a(956589),l=(a(273555),a(91266))},255988:(e,t,a)=>{a.d(t,{useCatalogCommonFriends:()=>n});var o=a(293721),r=a(123083),i=a(296540);const n=({friendsIds:e})=>{const{appCatalogService:t}=(0,r.useCatalogConfig)(),a=(0,o.useStoreMap)({store:t.profilesService.$profiles,keys:[e],fn:(e,[t])=>(t||[]).map((t=>e.get(t))).filter((e=>Boolean(e))).map((({first_name:e="",photo_50:t,photo_100:a})=>({first_name:e,photo_50:t,photo_100:a})))}),n=(0,i.useMemo)((()=>a.map((e=>e.photo_50||e.photo_100||""))),[a]);return{commonFriends:a,commonFriendsPhotos:n}}},576452:(e,t,a)=>{a.d(t,{useCatalogOwnerStories:()=>n});var o=a(296540),r=a(819952),i=a(123083);const n=({ownerId:e,callback:t,hasUnseenStories:a})=>{const{appCatalogService:n}=(0,i.useCatalogConfig)();return{onOpenStories:(0,o.useCallback)((o=>{if(a){(0,r.cancelEvent)(o),t?.();const a=()=>n.profilesService.fireCheckUserStories(e);n.storiesService.fireOpenStories({ownerId:e,storiesCallback:a})}}),[e,a])}}},223317:(e,t,a)=>{a.d(t,{useCatalogOwnerSubscribe:()=>c});var o=a(694743),r=a(847891),i=a(819952),n=a(296540),s=a(171988),l=a(517074);const c=({ownerId:e,status:t,callback:a})=>{const{appCatalogService:c}=(0,o.useCatalogConfig)(),d=Math.abs(e),u=r.Ranges.isUserId(e),_=void 0!==t&&(u?(e=>{switch(e){case s.FriendsFriendStatusStatusEnumNames.NOT_A_FRIEND:case s.FriendsFriendStatusStatusEnumNames.INCOMING_REQUEST:return!1;case s.FriendsFriendStatusStatusEnumNames.OUTCOMING_REQUEST:case s.FriendsFriendStatusStatusEnumNames.IS_FRIEND:return!0}})(t):(e=>{switch(e){case l.GroupsGroupFullMemberStatusEnumNames.NOT_A_MEMBER:case l.GroupsGroupFullMemberStatusEnumNames.NOT_SURE:case l.GroupsGroupFullMemberStatusEnumNames.DECLINED:case l.GroupsGroupFullMemberStatusEnumNames.INVITED:return!1;case l.GroupsGroupFullMemberStatusEnumNames.MEMBER:case l.GroupsGroupFullMemberStatusEnumNames.HAS_SENT_A_REQUEST:return!0}})(t)),p=(0,o.useCatalogStoreArray)(c.groupsService.$groupsToLeave,u?void 0:d),m=(0,o.useCatalogStoreArray)(c.catalogUsersService.$deletableFriendsIds,u?d:void 0),g=(0,o.useCatalogStoreArray)(c.groupsService.$groupPendingIds,u?void 0:d),S=(0,o.useCatalogStoreArray)(c.catalogUsersService.$pendingFriendsIds,u?d:void 0),v=p||m,h=p||m||_,C=g||S,f=(0,n.useCallback)((e=>{(0,i.cancelEvent)(e),C||(a?.(!h),u?h?c.catalogUsersService.fireDeleteFriend({user_id:d}):c.catalogUsersService.fireAddFriend({user_id:d}):h?c.groupsService.fireLeaveGroup({group_id:d}):c.groupsService.fireJoinGroup({group_id:d}))}),[h,u,d,C]);return{isUser:u,pending:C,canUnsubscribe:h,addedRecently:v,onSubscribeToggle:f,subscribed:_}}},230935:(e,t,a)=>{a.d(t,{useCatalogStoreArray:()=>i,useCatalogStoreMap:()=>r});var o=a(293721);const r=(e,t)=>(0,o.useStoreMap)({store:e,keys:[t],fn:(e,[t])=>t?e.get(t):void 0}),i=(e,t)=>(0,o.useStoreMap)({store:e,keys:[t],fn:(e,[t])=>Boolean(t&&e.includes(t))})},895132:(e,t,a)=>{a.d(t,{useCommunityCollectionItems:()=>l});var o=a(694743),r=a(7144),i=a(842382),n=a(542701),s=a(610989);const l=(e=[])=>{const{groupsService:t}=(0,o.useCatalogGroupsContext)();return e.reduce(((e,a)=>{const o=t?.getGroup(a.id);return o?[...e,o]:e}),[]).map((a=>{const l=(0,r.isRetina)()?a.photo_100:a.photo_50,c=e.find((e=>e.id===a.id))?.track_code,d=(0,o.getUrlWithTrackCode)((0,i.getGroupUrl)(a),c,o.CatalogType.GROUPS),u=t?.checkSubscriptionLoading(a.id),_=a.members_count||0,p=(0,n.formatCount)(_),m=_<1e3?_:0,g=s.getLang("groups_X_app_users",m).replace(String(m),p);return{key:`${a.id}`,children:a.name,subtitle:g,photo:l,href:d,checked:Boolean(a.is_member),loading:u,isVerified:Boolean(a.verified),onSubscribeClick:()=>{a.is_member?t?.unsubscribe({group_id:a.id,track_code:c}):t?.subscribe({group_id:a.id,track_code:c})},ariaLabel:a.name,buttonAriaLabel:Boolean(a.is_member)?s.getLang("groups_dd_you_in_group"):s.getLang("global_share_button_join_public")}}))}},956589:(e,t,a)=>{a.d(t,{useLogClick:()=>i});var o=a(694743),r=a(8520);const i=(e,t)=>{const a=(0,o.useCollectClick)();return e&&t?o=>a({type:e,track_code:t,action:o}):r.noop}},273555:(e,t,a)=>{a.d(t,{useRefLogView:()=>s});var o=a(296540),r=a(123083),i=a(753457),n=a(769924);const s=({type:e,trackCode:t,trackCodes:a=[],callback:s,threshold:l=.8,meta:c})=>{const d=(0,r.useCollectView)(),{viewWidth:u=i.ViewWidth.MOBILE}=(0,i.useAdaptivityWithJSMediaQueries)(),_=u<i.ViewWidth.TABLET,[p,m]=(0,n.useIntersectionObserver)({rootMargin:_?"0px 0px -48px 0px":void 0,threshold:l});return(0,o.useEffect)((()=>{const o=[...a,t].filter(Boolean);m&&d&&o.length>0&&e&&!c?.disable_track_rec_shown&&(o.forEach((t=>{d({type:e,track_code:t})})),s?.())}),[m,d,t,e,a.length]),p}},91266:(e,t,a)=>{a.d(t,{useScrollToBlockById:()=>s});var o=a(474848),r=a(293721),i=a(694743),n=a(296540);const s=e=>{const{scrollToBlockOffset:t}=(0,i.useCatalogConfig)(),a=(0,r.useStore)(i.appCatalogService.layoutService.$scrollToBlockById),s=(0,n.useRef)(null),[l,c]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{a===e&&c(!0)}),[a,e]),(0,n.useEffect)((()=>{l&&(s.current?.scrollIntoView(),c(!1))}),[l]),l?(0,o.jsx)("div",{style:{position:"relative"},children:(0,o.jsx)("div",{style:{position:"absolute",top:-(t??0)+"px"},ref:s})}):null}},694743:(e,t,a)=>{a.d(t,{CATALOG_AVATAR_SIZE_L:()=>c.CATALOG_AVATAR_SIZE_L,CATALOG_AVATAR_SIZE_SM:()=>c.CATALOG_AVATAR_SIZE_SM,Catalog:()=>r.Catalog,CatalogActionType:()=>c.CatalogActionType,CatalogBlockDataType:()=>c.CatalogBlockDataType,CatalogBlockLayoutName:()=>c.CatalogBlockLayoutName,CatalogDesktopVideoProvider:()=>d.CatalogDesktopVideoProvider,CatalogGroupsProvider:()=>d.CatalogGroupsProvider,CatalogHandlersProvider:()=>d.CatalogHandlersProvider,CatalogLogProvider:()=>d.CatalogLogProvider,CatalogSearchProvider:()=>d.CatalogSearchProvider,CatalogSnackbar:()=>h.CatalogSnackbar,CatalogType:()=>c.CatalogType,FAVORITE_SOURCES:()=>n.FAVORITE_SOURCES,FRIENDS_IN_GROUP:()=>c.FRIENDS_IN_GROUP,GROUP_REDESIGN_EVENT_SLIDER_SCROLL:()=>c.GROUP_REDESIGN_EVENT_SLIDER_SCROLL,GROUP_REDESIGN_SLIDER_SCROLL:()=>c.GROUP_REDESIGN_SLIDER_SCROLL,ListenMutateEventsType:()=>i.ListenMutateEventsType,MARKET_ITEM_SLIDER_SCROLL:()=>c.MARKET_ITEM_SLIDER_SCROLL,MAX_FRIENDS_IN_GROUP_TO_SHOW:()=>c.MAX_FRIENDS_IN_GROUP_TO_SHOW,MINI_APP_AVATAR_SIZE:()=>c.MINI_APP_AVATAR_SIZE,OPEN_SEARCH_TAB_ACTION_URL_WEB:()=>c.OPEN_SEARCH_TAB_ACTION_URL_WEB,RICH_CELL_BUTTON_WIDTH_L:()=>c.RICH_CELL_BUTTON_WIDTH_L,SLIDER_AVATAR_SIZE_M:()=>c.SLIDER_AVATAR_SIZE_M,SLIDER_SCROLL:()=>c.SLIDER_SCROLL,SNACKBAR_EVENTS:()=>n.SNACKBAR_EVENTS,VirtualList:()=>n.VirtualList,appCatalogService:()=>l.appCatalogService,chunks:()=>n.chunks,createAppCatalogService:()=>l.createAppCatalogService,desktopLayoutResolver:()=>_.desktopLayoutResolver,extractExtendedData:()=>v.extractExtendedData,extractItemsIds:()=>v.extractItemsIds,getObjectPropertyNumber:()=>n.getObjectPropertyNumber,getObjectPropertyString:()=>n.getObjectPropertyString,getPlayFromByDuration:()=>f.getPlayFromByDuration,getUrlWithTrackCode:()=>n.getUrlWithTrackCode,modalLayoutResolver:()=>p.modalLayoutResolver,toColumnWithRows:()=>v.toColumnWithRows,useCatalogCommonFriends:()=>s.useCatalogCommonFriends,useCatalogConfig:()=>d.useCatalogConfig,useCatalogDesktopVideo:()=>d.useCatalogDesktopVideo,useCatalogGroupsContext:()=>d.useCatalogGroupsContext,useCatalogHandlersContext:()=>d.useCatalogHandlersContext,useCatalogOwner:()=>d.useCatalogOwner,useCatalogOwnerStories:()=>s.useCatalogOwnerStories,useCatalogOwnerSubscribe:()=>s.useCatalogOwnerSubscribe,useCatalogSearch:()=>d.useCatalogSearch,useCatalogStoreArray:()=>s.useCatalogStoreArray,useCatalogStoreMap:()=>s.useCatalogStoreMap,useCatalogVideo:()=>d.useCatalogVideo,useCollectClick:()=>d.useCollectClick,useLogClick:()=>s.useLogClick,useRefLogView:()=>C.useRefLogView,useScrollToBlockById:()=>s.useScrollToBlockById,videoCommunityLayoutResolver:()=>g.videoCommunityLayoutResolver,videoLayoutResolver:()=>m.videoLayoutResolver,videoListShowcaseLayoutResolver:()=>S.videoListShowcaseLayoutResolver,withCatalogBlock:()=>u.withCatalogBlock,withCatalogStore:()=>u.withCatalogStore,withCatalogStoreOwner:()=>u.withCatalogStoreOwner});var o=a(679005),r=a(985672),i=(a(848188),a(750850)),n=a(781281),s=a(685140),l=a(736841),c=a(551090),d=a(123083),u=a(817159),_=a(363267),p=a(506186),m=(a(80973),a(737096)),g=a(143350),S=a(254059),v=a(269285),h=a(540474),C=(a(899158),a(296912),a(273555)),f=a(689697);(0,o.enableMapSet)()},363267:(e,t,a)=>{a.d(t,{desktopLayoutResolver:()=>n});var o=a(246103),r=a(551090);const i=()=>null,n=({layout:e})=>{switch(e.name){case r.CatalogBlockLayoutName.LARGE_LIST:return"fit"===e.style?o.PinnedVideo:o.List;case r.CatalogBlockLayoutName.LIST:case r.CatalogBlockLayoutName.LIST_WITH_NOTIFICATION_STATE:return o.List;case r.CatalogBlockLayoutName.SHORT_VIDEO_LIST:return o.ShortVideoList;case r.CatalogBlockLayoutName.PLACEHOLDER:case r.CatalogBlockLayoutName.PLACEHOLDER_SMALL:return o.Placeholder;case r.CatalogBlockLayoutName.HEADER:return o.Header;case r.CatalogBlockLayoutName.SLIDER:return o.Slider;case r.CatalogBlockLayoutName.SEPARATOR:return o.Separator;default:return i}}},80973:(e,t,a)=>{a(694743),a(606039),a(956485),a(501811),a(548089),a(447966),a(30389),a(341140),a(535379),a(201312),a(409002),a(332798),a(68185),a(326155),a(586984),a(904987)},506186:(e,t,a)=>{a.d(t,{modalLayoutResolver:()=>d});var o=a(216806),r=a(551090),i=a(677567),n=a(894131),s=a(468490),l=a(738240),c=a(251403);const d=({layout:e})=>{switch(e.name){case r.CatalogBlockLayoutName.SEPARATOR:return o.Separator;case r.CatalogBlockLayoutName.HEADER_COMPACT:return i.HeaderCompact;case r.CatalogBlockLayoutName.LIST:return n.List;case r.CatalogBlockLayoutName.SLIDER:return s.Slider;case r.CatalogBlockLayoutName.PLACEHOLDER_SMALL:return l.PlaceholderSmall;case r.CatalogBlockLayoutName.BUTTON:return c.Button;default:return()=>null}}},737096:(e,t,a)=>{a.d(t,{videoLayoutResolver:()=>c});var o=a(694743),r=a(439577),i=a(410869),n=a(254530),s=a(332702),l=a(299755);const c=({layout:e})=>{switch(e.name){case o.CatalogBlockLayoutName.SEPARATOR:return l.CatalogSeparator;case o.CatalogBlockLayoutName.HEADER_COMPACT:return r.HeaderCompact;case o.CatalogBlockLayoutName.LARGE_LIST:case o.CatalogBlockLayoutName.LIST:return i.List;case o.CatalogBlockLayoutName.TEXT:return n.Text;case o.CatalogBlockLayoutName.PLACEHOLDER_SMALL:case o.CatalogBlockLayoutName.PLACEHOLDER_LINE:return s.Placeholder;default:return()=>null}}},143350:(e,t,a)=>{a.d(t,{videoCommunityLayoutResolver:()=>c});var o=a(694743),r=a(798577),i=a(254530),n=a(332702),s=a(924001),l=a(273177);const c=({layout:e})=>{switch(e.name){case o.CatalogBlockLayoutName.SEPARATOR:return l.CatalogSeparatorCommunity;case o.CatalogBlockLayoutName.HEADER_COMPACT:return s.Header;case o.CatalogBlockLayoutName.LARGE_LIST:case o.CatalogBlockLayoutName.LIST:return r.ListCommunity;case o.CatalogBlockLayoutName.TEXT:return i.Text;case o.CatalogBlockLayoutName.PLACEHOLDER_SMALL:case o.CatalogBlockLayoutName.PLACEHOLDER_LINE:return n.Placeholder;default:return()=>null}}},254059:(e,t,a)=>{a.d(t,{videoListShowcaseLayoutResolver:()=>c});var o=a(694743),r=a(319577),i=a(254530),n=a(332702),s=a(299755),l=a(915520);const c=({layout:e})=>{switch(e.name){case o.CatalogBlockLayoutName.SEPARATOR:return s.CatalogSeparator;case o.CatalogBlockLayoutName.HEADER_COMPACT:return l.HeaderListVideos;case o.CatalogBlockLayoutName.LARGE_LIST:case o.CatalogBlockLayoutName.LIST:return r.ListVideos;case o.CatalogBlockLayoutName.TEXT:return i.Text;case o.CatalogBlockLayoutName.PLACEHOLDER_SMALL:case o.CatalogBlockLayoutName.PLACEHOLDER_LINE:return n.Placeholder;default:return()=>null}}},891829:(e,t,a)=>{a.d(t,{createActionsService:()=>r});var o=a(32489);const r=({domain:e})=>{const t=e.createEvent("select/Action"),a=e.createStore(null,{name:"selectedAction"});return(0,o.sample)({clock:t,source:a,fn:(e,t)=>t,target:a}),{selectAction:t,$selectedAction:a}}},253597:(e,t,a)=>{a.d(t,{createAppCatalogService:()=>U});var o=a(32489),r=a(694743),i=a(891829),n=a(423598),s=a(993853),l=a(512001),c=a(255011),d=a(988160),u=a(724374),_=a(206265),p=a(36734),m=a(275675),g=a(62885),S=a(207579),v=a(499653),h=a(554928),C=a(88212),f=a(244885),I=a(549607),E=a(765151),k=a(955811),y=a(361894),T=a(45560),A=a(73218),R=a(52717),L=a(782756),b=a(65160),x=a(742191),O=a(811945),w=a(470652),N=a(883403),M=a(950162),P=a(452935),V=a(373627),B=a(8520),D=a(987601),j=a(269285),G=a(679005);const F=(0,o.createDomain)("CATALOG/APP"),U=()=>{const e=F.createStore(!1,{name:"isStandaloneSection"}),t=F.createEvent("fire/SetIsStandaloneSection"),a=F.createEvent("fire/ClearApp"),U=F.createEvent("fire/SetExtendedData"),H=F.createEvent("fire/SetCatalog"),$=F.createEvent("fire/ClearUpdatedCatalog"),z=F.createEvent("fire/RemoveBlock"),W=F.createEvent("fire/RemoveBlock"),K=F.createEvent("fire/SetSections"),Y=F.createEvent("fire/GetSection"),q=F.createEvent("fire/AbortGetSection"),Q=F.createEvent("fire/ClearSectionResponse"),Z=F.createEvent("fire/ClearCatalogGetBlockItemsResponse"),X=F.createEvent("fire/UpdateNextFrom"),J=F.createEvent("fire/HideBlock"),ee=F.createEvent("fire/GetBlockItems"),te=F.createStore({sections:[],default_section:""},{name:"catalog"}),ae=F.createStore(null,{name:"updatedCatalog"}),oe=F.createStore(null,{name:"section"}),re=F.createStore([],{name:"sections"}),ie=F.createStore([],{name:"loadingBlockIds"}),ne=F.createStore("",{name:"lastSectionId"}),se=F.createStore("",{name:"nextFrom"}),le=F.createStore(!1,{name:"fetchSectionPending"}),ce=F.createStore(!1,{name:"fetchSectionError"}),de=F.createStore({}),ue=F.createEffect({name:"fetch/GetSection",handler:async({cacheId:e,params:t,controller:a})=>{const o=a?.signal;return{id:window.location.href,data:await(0,P.getSection)(t,{signal:o}),cacheId:e}}}),_e=(0,V.createCatalogHideBlockFx)({domain:F}),pe=(0,V.createCatalogGetBlockItemsFx)({domain:F}),me=(0,S.createStoriesService)({domain:F}),ge=(0,f.createVideoService)({domain:F,data:U,$catalog:te}),Se=(0,v.createPageService)({domain:F}),ve=(0,I.createSuggestionsService)({domain:F,data:U}),he=(0,i.createActionsService)({domain:F}),Ce=(0,n.createGroupsService)({domain:F,data:U,fetchStories:me.FetchStoriesEffectFx}),fe=(0,s.createGroupCategoryItemsService)({domain:F,data:U}),Ie=(0,l.createGroupCollectionItemsService)({domain:F,data:U}),Ee=(0,c.createLinksService)({domain:F,data:U}),ke=(0,d.createProfilesService)({domain:F,data:U,fetchStories:me.FetchStoriesEffectFx}),ye=(0,C.createPlaylistService)({domain:F,$catalog:te,$videoItems:ge.$videoItems,data:U,removeVideoFromPlaylists:ge.RemoveVideoFromPlaylistsEffectFx,removeVideoFromMyVideos:ge.RemoveVideoFromMyVideosEffectFx}),Te=(0,k.createOnboardingService)({domain:F}),Ae=(0,L.createLayoutService)({domain:F,data:U,...ge,SaveOnboardingEffectFx:Te.SaveOnboardingEffectFx,fireCompleteOnboarding:Te.fireCompleteOnboarding,$playlistItems:ye.$playlistItems}),Re=(0,u.createCatalogUsersService)({domain:F,data:U,$profiles:ke.$profiles}),Le=(0,_.createClipsService)({domain:F,data:U}),be=(0,p.createAppsService)({domain:F,data:U}),xe=(0,m.createMarketItemsService)({domain:F,data:U}),Oe=(0,g.createSearchRecentService)({domain:F}),we=(0,h.createPlaceholdersService)({domain:F,data:U}),Ne=(0,E.createSearchSpellcheckersService)({domain:F,data:U}),Me=(0,y.createNewsfeedItemsService)({domain:F,data:U}),Pe=(0,T.createPostsService)({domain:F,data:U}),Ve=(0,A.createStickersService)({domain:F,data:U}),Be=(0,R.createMusicPlaylistsService)({domain:F,data:U}),De=(0,b.createAudioService)({domain:F,data:U}),je=(0,x.createEntitiesSearchEntityItemsService)({domain:F,data:U}),Ge=(0,O.createNavigationTabsService)({domain:F,data:U}),Fe=(0,w.createClassifiedsCategoryTreeService)({domain:F,data:U}),Ue=(0,N.createRadioStationsService)({domain:F,data:U}),He=(0,M.createTextsService)({domain:F,data:U});return(0,o.sample)({clock:t,target:e}),F.onCreateStore((e=>{e?.reset(a)})),(0,o.sample)({clock:H,source:te,filter:(e,t)=>!(0,B.isEqual)(e,t),fn:(e,t)=>t,target:te}),(0,o.sample)({clock:te,target:X}),(0,o.sample)({clock:X,source:{lastSectionId:ne,catalog:te},fn:({lastSectionId:e,catalog:t})=>t?.default_section||e,target:ne}),(0,o.sample)({clock:X,source:te,filter:re.map((e=>!e.length)),fn:e=>{const t=e.sections.find((t=>t.id===e.default_section));return t?.next_from||""},target:se}),oe.reset(Q),(0,o.sample)({clock:Y,source:Se.$cacheId,fn:(e,t)=>({cacheId:e,params:t,controller:new AbortController}),target:ue}),(0,o.sample)({clock:[q,Y],source:ue,filter:ue.pending.map((e=>e))}).watch((({controller:e})=>{e?.abort()})),(0,o.sample)({clock:ue.pending,target:le}),(0,o.sample)({clock:ue.doneData,target:oe}),(0,o.sample)({clock:K,target:re}),(0,o.sample)({clock:re,target:X}),(0,o.sample)({clock:X,source:re,filter:re.map((e=>!!e?.length)),fn:e=>{const t=e[e.length-1];return t?.next_from?t?.next_from:""},target:se}),(0,o.sample)({clock:ue.failData,filter:e=>e&&!(0,D.isRequestAbortError)(e.error),fn:()=>!0,target:ce}),(0,o.sample)({clock:ue.doneData,fn:e=>!e?.data?.section,target:ce}),(0,o.sample)({clock:H,fn:()=>!1,target:ce}),(0,o.sample)({clock:[ge.RemoveVideoFromPlaylistsEffectFx.done,ge.RemoveVideoFromMyVideosEffectFx.done],source:{sections:re,playlistItems:ye.$playlistItems},filter:({sections:e,playlistItems:t},{result:a})=>(0,j.checkRequestResultForPlaylist)(a,e,t)||Boolean(a),fn:({sections:e},{params:t})=>(0,G.produce)(e,(e=>{const a=e.find((e=>(0,j.testMySection)(e?.url)||(0,j.testUploadedSection)(e.url)||(0,j.testPlaylistSection)(e?.url)));a&&(0,j.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.video_id,event:r.ListenMutateEventsType.RemoveVideo})})),target:re}),(0,o.sample)({clock:ge.RemoveVideoFromHistoryEffectFx.done,source:re,filter:(e,{params:t})=>Boolean(e&&(0,B.isNumber)(t.owner_id)&&(0,B.isNumber)(t.video_id)),fn:(e,{params:t})=>(0,G.produce)(e,(e=>{const a=e.find((e=>(0,j.testMySection)(e?.url)||(0,j.testHistorySection)(e.url)));a&&(0,j.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.video_id,event:r.ListenMutateEventsType.RemoveVideo})})),target:re}),(0,o.sample)({clock:ge.MarkVideoNotInterestedEffectFx.done,source:re,filter:(e,{result:t})=>Boolean(e&&t),fn:(e,{params:t})=>(0,G.produce)(e,(e=>{const{params:a,sectionId:o}=t,i=e.find((e=>!(0,j.testMySection)(e?.url)&&e?.id!==o));i&&(0,j.mutateSectionBlocks)({section:i,ownerId:a.owner_id,itemId:a.video_id,event:r.ListenMutateEventsType.RemoveVideo})})),target:re}),(0,o.sample)({clock:z,source:te,fn:(e,t)=>{const a=e.sections.findIndex((t=>t.id===e.default_section));if(-1!==a){const o=[...e.sections],r={...o[a]};return r.blocks=r?.blocks?.filter((e=>!t.includes(e.id))),o[a]=r,{...e,sections:[...o]}}return e},target:ae}),(0,o.sample)({clock:ve.fireRemoveSearchRecentQuery,source:te,fn:(e,{params:t,block_id:a})=>(0,G.produce)(e,(o=>{const i=o.sections.find((t=>t.id===e.default_section)),n=i?.blocks,s=n?.findIndex((e=>e.id===a));if(!n||void 0===s||-1===s)return;const l=n[s];if(l.search_suggestions_ids=l.search_suggestions_ids?.filter((e=>e!==t.item_id)),l.search_suggestions_ids?.length)return;const c=n[s-1],d=n[s+1];let u=s,_=1;c?.layout.name===r.CatalogBlockLayoutName.HEADER_COMPACT&&(u=s-1,++_),d?.layout.name===r.CatalogBlockLayoutName.SEPARATOR&&++_,n.splice(u,_)})),target:ae}),(0,o.sample)({clock:[ge.RemoveVideoFromPlaylistsEffectFx.done,ge.RemoveVideoFromMyVideosEffectFx.done],source:{catalog:te,playlistItems:ye.$playlistItems},filter:({catalog:e,playlistItems:t},{result:a})=>(0,j.checkRequestResultForPlaylist)(a,e.sections,t)||Boolean(a),fn:({catalog:e},{params:t})=>(0,G.produce)(e,(e=>{const a=e.sections?.find((e=>(0,j.testMySection)(e?.url)||(0,j.testUploadedSection)(e.url)||(0,j.testPlaylistSection)(e?.url)));if(a&&((0,j.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.video_id,event:r.ListenMutateEventsType.RemoveVideo}),a.blocks))for(const e of a.blocks)e.layout.name===r.CatalogBlockLayoutName.HEADER&&e.badge?.text&&(e.badge.text=(+e.badge.text-1).toString())})),target:ae}),(0,o.sample)({clock:ge.AddVideoToMyVideosEffectFx.done,source:te,filter:(e,{params:t})=>!!e&&(0,B.isNumber)(t.owner_id)&&(0,B.isNumber)(t.video_id),fn:(e,{params:t})=>(0,G.produce)(e,(e=>{const a=e.sections?.find((e=>(0,j.testMySection)(e?.url)));a&&(0,j.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.video_id,event:r.ListenMutateEventsType.AddVideo})})),target:ae}),(0,o.sample)({clock:ge.RemoveVideoFromHistoryEffectFx.done,source:te,filter:(e,{params:t})=>!!e&&(0,B.isNumber)(t.owner_id)&&(0,B.isNumber)(t.video_id),fn:(e,{params:t})=>(0,G.produce)(e,(e=>{const a=e.sections?.find((e=>(0,j.testMySection)(e?.url)||(0,j.testHistorySection)(e.url)));a&&(0,j.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.video_id,event:r.ListenMutateEventsType.RemoveVideo})})),target:ae}),(0,o.sample)({clock:ge.MarkVideoNotInterestedEffectFx.done,source:te,filter:(e,{result:t})=>Boolean(e&&t),fn:(e,{params:t})=>(0,G.produce)(e,(e=>{const{params:a,sectionId:o}=t,i=e.sections?.find((e=>!(0,j.testMySection)(e?.url)&&e?.id!==o));i&&(0,j.mutateSectionBlocks)({section:i,ownerId:a.owner_id,itemId:a.video_id,event:r.ListenMutateEventsType.RemoveVideo})})),target:ae}),(0,o.sample)({clock:ge.DislikeVideoEffectFx.done,source:re,filter:(e,{result:t})=>Boolean(e&&t),fn:(e,{params:t})=>(0,G.produce)(e,(e=>{const a=e.find((e=>(0,j.testLikedSection)(e.url)));a&&(0,j.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.item_id,event:r.ListenMutateEventsType.RemoveVideo})})),target:re}),(0,o.sample)({clock:ge.DislikeVideoEffectFx.done,source:te,filter:(e,{result:t})=>Boolean(e&&t),fn:(e,{params:t})=>(0,G.produce)(e,(e=>{const a=e.sections?.find((e=>(0,j.testLikedSection)(e.url)));a&&(0,j.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.item_id,event:r.ListenMutateEventsType.RemoveVideo})})),target:ae}),(0,o.sample)({clock:ge.RemoveVideoFromFaveEffectFx.done,source:re,filter:(e,{result:t})=>Boolean(e&&t),fn:(e,{params:t})=>(0,G.produce)(e,(e=>{const a=e.find((e=>(0,j.testBookmarksSection)(e.url)));a&&(0,j.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.id,event:r.ListenMutateEventsType.RemoveVideo})})),target:re}),(0,o.sample)({clock:ge.RemoveVideoFromFaveEffectFx.done,source:te,filter:(e,{result:t})=>Boolean(e&&t),fn:(e,{params:t})=>(0,G.produce)(e,(e=>{const a=e.sections?.find((e=>(0,j.testBookmarksSection)(e.url)));a&&(0,j.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.id,event:r.ListenMutateEventsType.RemoveVideo})})),target:ae}),(0,o.sample)({clock:$,fn:()=>null,target:ae}),(0,o.sample)({clock:J,fn:e=>({query:{block_id:e}}),target:_e}),(0,o.sample)({clock:J,source:te,fn:(e,t)=>{const a=e.sections.findIndex((({id:t})=>t===e.default_section));if(-1!==a){const o=[...e.sections],i=o[a].blocks,n=i?.findIndex((({id:e})=>e===t));if(!i||!n||-1===n)return e;const s=i[n-1],l=i[n+1];let c=n,d=1;return s?.layout?.name===r.CatalogBlockLayoutName.HEADER&&(--c,++d),i[n-2]?.layout?.name===r.CatalogBlockLayoutName.SEPARATOR&&(--c,++d),l?.layout?.name===r.CatalogBlockLayoutName.SEPARATOR&&++d,i.splice(c,d),{...e,sections:[...o]}}return e},target:ae}),(0,o.sample)({clock:W,target:ie}),(0,o.sample)({clock:ee,fn:({block_id:e,start_from:t})=>({query:{block_id:e,start_from:t}}),target:pe}),(0,o.sample)({clock:pe.doneData,target:de}),de.reset(Z),{storiesService:me,videoService:ge,pageService:Se,suggestionsService:ve,actionsService:he,groupsService:Ce,groupCategoryItemsService:fe,groupCollectionItemsService:Ie,linksService:Ee,profilesService:ke,playlistService:ye,onboardingService:Te,layoutService:Ae,catalogUsersService:Re,clipsService:Le,appsService:be,marketItemsService:xe,searchRecentService:Oe,placeholdersService:we,searchSpellcheckersService:Ne,newsfeedItemsService:Me,postsService:Pe,stickersService:Ve,musicPlaylistsService:Be,audioService:De,searchEntityItemsService:je,navigationTabsService:Ge,classifiedsCategoryTreeService:Fe,radioStationsService:Ue,textsService:He,catalogService:{fireSetCatalog:H,fireClearCatalog:a,fireClearUpdatedCatalog:$,fireRemoveBlocks:z,fireLoadingBlockIds:W,fireSetSections:K,fireGetSection:Y,fireAbortGetSection:q,fireClearSectionResponse:Q,fireClearCatalogGetBlockItemsResponse:Z,fireUpdateNextFrom:X,fireHideBlock:J,fireGetBlockItems:ee,$catalog:te,$updatedCatalog:ae,$sectionResponse:oe,$sections:re,$loadingBlockIds:ie,$lastSectionId:ne,$nextFrom:se,$isSectionPending:le,$fetchSectionError:ce,$catalogGetBlockItemsResponse:de,GetSectionEffectFx:ue,CatalogGetBlockItemsFx:pe},fireSetExtendedData:U,fireSetIsStandaloneSection:t,fireClearCatalog:a,domain:F,$isStandaloneSection:e}}},36734:(e,t,a)=>{a.d(t,{createAppsService:()=>i});var o=a(32489),r=a(679005);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"apps"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.mini_apps?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.mini_apps.forEach((t=>e.set(t.id,t)))})),target:a}),(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.games?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.games.forEach((t=>e.set(t.id,t)))})),target:a}),{$apps:a}}},65160:(e,t,a)=>{a.d(t,{createAudioService:()=>s});var o=a(452935),r=a(32489),i=a(679005),n=a(112268);const s=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"audioItems"}),s=e.createStore({},{name:"audioModifiedItems"}),l=e.createEvent(),c=e.createEvent(),d=e.createEffect((e=>(0,o.addAudio)(e))),u=e.createEffect((e=>(0,o.deleteAudio)(e))),_=e.createEffect((e=>(0,o.restoreAudio)(e)));return(0,r.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.audios?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.audios.forEach((t=>e.set((0,n.joinRawId)({ownerId:t.owner_id,itemId:t.id}),t)))})),target:a}),(0,r.sample)({clock:t,fn:()=>({}),target:s}),(0,r.sample)({clock:l,source:s,filter:(e,t)=>{const{audio_id:a}=t;return!e[a]?.isDeleted},fn:(e,t)=>t,target:d}),(0,r.sample)({clock:l,source:s,filter:(e,t)=>{const{audio_id:a}=t;return!!e[a]?.isDeleted},fn:(e,t)=>t,target:_}),(0,r.sample)({clock:d.done,source:s,filter:(e,{result:t})=>!!t?.items?.length,fn:(e,{params:t,result:a})=>(0,i.produce)(e,(e=>{const{audio_id:o,user_id:r}=t,i=a?.items||[],{new_audio_id:n}=i.length?i[0]:{};if(n){const t={newAudioId:n,ownerId:r,isAdded:!0};e[o]=t}})),target:s}),(0,r.sample)({clock:_.done,source:s,filter:(e,{result:t})=>!!t,fn:(e,{params:t})=>(0,i.produce)(e,(e=>{const{audio_id:a}=t;e[a]?.isDeleted&&delete e[a]})),target:s}),(0,r.sample)({clock:c,source:s,fn:(e,t)=>{const{audio_id:a}=t,{newAudioId:o,ownerId:r,isAdded:i}=e?.[a]||{};return i&&o?{...t,audio_id:o,owner_id:r,prev_audio_id:a}:t},target:u}),(0,r.sample)({clock:u.done,source:s,filter:(e,{result:t})=>1===t,fn:(e,{params:t})=>(0,i.produce)(e,(e=>{const{audio_id:a,prev_audio_id:o,owner_id:r}=t;o&&e[o].isAdded?delete e[o]:e[a]={ownerId:r,isDeleted:!0}})),target:s}),{$audioItems:a,$audioModifiedItems:s,addAudioToMyList:l,deleteAudioFromMyList:c}}},724374:(e,t,a)=>{a.d(t,{createCatalogUsersService:()=>l});var o=a(171988),r=a(452935),i=a(32489),n=a(679005),s=a(868260);const l=({domain:e,data:t,$profiles:a})=>{const l=e.createEvent("fire/AddFriend"),c=e.createEvent("fire/DeleteFriend"),d=e.createEvent("fire/CancelRequest"),u=e.createStore(new Map,{name:"catalogUsers"}),_=e.createStore([],{name:"deletableFriendsIds"}),p=e.createStore([],{name:"returnableFriendsIds"}),m=e.createStore([],{name:"pendingFriendsIds"}),g=e.createEffect({name:"fetch/AddFriend",handler:e=>(0,r.addFriend)(e)}),S=e.createEffect({name:"fetch/DeleteFriend",handler:e=>(0,r.deleteFriend)(e)}),v=e.createEffect({name:"fetch/DeleteFriend",handler:e=>(0,r.deleteFriend)(e)});return(0,i.sample)({clock:t,source:u,filter:(e,t)=>Boolean(t.catalog_users?.length),fn:(e,t)=>(0,n.produce)(e,(e=>{t.catalog_users.forEach((t=>e.set(t.item_id,t)))})),target:u}),(0,i.sample)({clock:[l,c,d],source:m,fn:(e,{user_id:t})=>(0,n.produce)(e,(e=>{e.includes(t)||e.push(t)})),target:m}),(0,i.sample)({clock:[g.done,S.done,v.done],source:m,fn:(e,{params:t})=>e.filter((e=>e!==t.user_id)),target:m}),(0,i.sample)({clock:l,target:g}),(0,i.sample)({clock:g.done,source:a,fn:(e,{params:t,result:a})=>(0,n.produce)(e,(e=>{const r=e.get(t.user_id);if(r)switch(a){case s.FRIENDS_STATUS_REQUEST.ADDED:r.friend_status=o.FriendsFriendStatusStatusEnumNames.IS_FRIEND;break;case s.FRIENDS_STATUS_REQUEST.REQUEST:case s.FRIENDS_STATUS_REQUEST.REPEAT:r.friend_status=o.FriendsFriendStatusStatusEnumNames.OUTCOMING_REQUEST}})),target:a}),(0,i.sample)({clock:c,target:S}),(0,i.sample)({clock:d,target:v}),(0,i.sample)({clock:[S.done,v.done],source:a,filter:(e,{result:t})=>Boolean(t.success),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const a=e.get(t.user_id);a&&(a.friend_status=o.FriendsFriendStatusStatusEnumNames.NOT_A_FRIEND)})),target:a}),(0,i.sample)({clock:g.done,source:_,fn:(e,{params:t})=>(0,n.produce)(e,(e=>{e.push(t.user_id)})),target:_}),(0,i.sample)({clock:S.done,source:_,fn:(e,{params:t})=>e.filter((e=>e!==t.user_id)),target:_}),(0,i.sample)({clock:S.done,source:p,fn:(e,{params:t})=>(0,n.produce)(e,(e=>{e.push(t.user_id)})),target:p}),(0,i.sample)({clock:g.done,source:p,fn:(e,{params:t})=>e.filter((e=>e!==t.user_id)),target:p}),{fireAddFriend:l,fireDeleteFriend:c,fireCancelRequest:d,$catalogUsers:u,$deletableFriendsIds:_,$returnableFriendsIds:p,$pendingFriendsIds:m,AddFriendEffectFx:g,DeleteFriendEffectFx:S,CancelRequestEffectFx:v}}},470652:(e,t,a)=>{a.d(t,{createClassifiedsCategoryTreeService:()=>i});var o=a(32489),r=a(679005);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"classifiedsCategoryTree"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.classifieds_category_tree?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.classifieds_category_tree.forEach((t=>e.set(t.id,t)))})),target:a}),{$classifiedsCategoryTree:a}}},206265:(e,t,a)=>{a.d(t,{createClipsService:()=>i});var o=a(32489),r=a(679005);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"clips"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.videos?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.videos.forEach((t=>{"short_video"===t.type&&e.set(`${t.owner_id}_${t.id}`,t)}))})),target:a}),{$clips:a}}},993853:(e,t,a)=>{a.d(t,{createGroupCategoryItemsService:()=>r});var o=a(32489);const r=({domain:e,data:t})=>{const a=e.createStore([],{name:"groupCategoryItems"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>!!t?.group_category_items?.length,fn:(e,t)=>{if(t?.group_category_items?.length){const a=t.group_category_items.filter((t=>-1===e.findIndex((e=>e.id===t.id))));return[...e,...a]}return e},target:a}),{$groupCategoryItems:a}}},512001:(e,t,a)=>{a.d(t,{createGroupCollectionItemsService:()=>r});var o=a(32489);const r=({domain:e,data:t})=>{const a=e.createStore([],{name:"groupCollectionItems"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>!!t?.group_collection_items?.length,fn:(e,t)=>{if(t?.group_collection_items?.length){const a=t.group_collection_items.filter((t=>-1===e.findIndex((e=>e.id===t.id))));return[...e,...a]}return e},target:a}),{$groupCollectionItems:a}}},423598:(e,t,a)=>{a.d(t,{createGroupsService:()=>d});var o=a(517074),r=a(455234),i=a(668882),n=a(406650),s=a(32489),l=a(679005),c=a(175241);const d=({domain:e,data:t,fetchStories:a})=>{const d=e.createEvent("fire/JoinGroup"),u=e.createEvent("fire/LeaveGroup"),_=e.createEvent("fire/AddGroupToFave"),p=e.createEvent("fire/GroupSubscribe"),m=e.createEvent("fire/GroupUnsubscribe"),g=e.createEvent("fire/RemoveGroupFromFave"),S=e.createEvent("fire/CheckStories"),v=e.createEvent("fire/AllowLeaveGroup"),h=e.createStore(new Map,{name:"groups"}),C=e.createStore([],{name:"groupsToLeave"}),f=e.createStore([],{name:"groupsLeft"}),I=e.createStore([],{name:"groupPendingIds"}),E=(0,r.createGroupsJoinFx)({domain:e}),k=(0,r.createGroupsLeaveFx)({domain:e}),y=(0,i.createFaveAddGroupFx)({domain:e}),T=(0,i.createFaveRemoveGroupFx)({domain:e}),A=(0,n.createWallSubscribeFx)({domain:e}),R=(0,n.createWallUnsubscribeFx)({domain:e});return(0,c.connectTrackTmrGroupsJoin)(E),(0,s.sample)({clock:t,source:h,filter:(e,t)=>Boolean(t.groups?.length),fn:(e,t)=>(0,l.produce)(e,(e=>{t.groups.forEach((t=>e.set(t.id,t)))})),target:h}),(0,s.sample)({clock:S,fn:e=>({owner_id:e}),target:a}),(0,s.sample)({clock:a.done,source:h,fn:(e,{params:t,result:a})=>(0,l.produce)(e,(e=>{const o=e.get(Math.abs(t.owner_id));o&&(o.has_unseen_stories=Boolean(a.items.find((e=>e.name===o.name))?.has_unseen))})),target:h}),(0,s.sample)({clock:[d,u,_,g],source:I,filter:(e,t)=>!!t?.group_id&&!e.includes(t.group_id),fn:(e,t)=>t?.group_id?[...e,t.group_id]:e,target:I}),(0,s.sample)({clock:[E.done,k.done,y.done,T.done,E.fail,k.fail,y.fail,T.fail],source:I,filter:(e,{params:t})=>!!t?.query?.group_id,fn:(e,{params:t})=>t?.query?.group_id?e.filter((e=>e!==t.query.group_id)):e,target:I}),(0,s.sample)({clock:[p,m],source:I,filter:(e,t)=>!!t?.owner_id&&!e.includes(t.owner_id),fn:(e,t)=>t?.owner_id?[...e,Math.abs(t.owner_id)]:e,target:I}),(0,s.sample)({clock:[A.done,R.done],source:I,filter:(e,{params:t})=>!!t?.query?.owner_id,fn:(e,{params:t})=>t?.query?.owner_id?e.filter((e=>e!==Math.abs(t.query.owner_id))):e,target:I}),(0,s.sample)({clock:d,fn:e=>({query:{...e}}),target:E}),(0,s.sample)({clock:E.done,source:h,filter:(e,{params:t,result:a})=>Boolean(t.query.group_id&&1===a),fn:(e,{params:t,result:a})=>(0,l.produce)(e,(e=>{const r=t.query.group_id?e.get(Math.abs(t.query.group_id)):null;r&&(r.is_member=a,r.member_status=o.GroupsGroupFullMemberStatusEnumNames.HAS_SENT_A_REQUEST)})),target:h}),(0,s.sample)({clock:E.done,fn:({params:e})=>e.query,target:v}),(0,s.sample)({clock:u,fn:e=>({query:{...e}}),target:k}),(0,s.sample)({clock:k.done,source:h,filter:(e,{params:t,result:a})=>Boolean(t.query.group_id&&1===a),fn:(e,{params:t})=>(0,l.produce)(e,(e=>{const a=e.get(Math.abs(t.query.group_id));a&&(a.is_member=0,a.member_status=o.GroupsGroupFullMemberStatusEnumNames.NOT_A_MEMBER)})),target:h}),(0,s.sample)({clock:_,fn:e=>({query:{...e}}),target:y}),(0,s.sample)({clock:y.done,source:h,filter:(e,{params:t})=>Boolean(t.query.group_id),fn:(e,{params:t})=>(0,l.produce)(e,(e=>{const a=e.get(Math.abs(t.query.group_id));a&&(a.is_favorite=1)})),target:h}),(0,s.sample)({clock:g,fn:e=>({query:{...e}}),target:T}),(0,s.sample)({clock:T.done,source:h,filter:(e,{params:t})=>Boolean(t.query.group_id),fn:(e,{params:t})=>(0,l.produce)(e,(e=>{const a=e.get(Math.abs(t.query.group_id));a&&(a.is_favorite=0)})),target:h}),(0,s.sample)({clock:p,fn:e=>({query:{...e}}),target:A}),(0,s.sample)({clock:A.done,source:h,filter:(e,{params:t})=>Boolean(t.query.owner_id),fn:(e,{params:t})=>(0,l.produce)(e,(e=>{const a=e.get(Math.abs(t.query.owner_id));a&&(a.is_subscribed=1)})),target:h}),(0,s.sample)({clock:m,fn:e=>({query:{...e}}),target:R}),(0,s.sample)({clock:R.done,source:h,filter:(e,{params:t})=>Boolean(t.query.owner_id),fn:(e,{params:t})=>(0,l.produce)(e,(e=>{const a=e.get(Math.abs(t.query.owner_id));a&&(a.is_subscribed=0)})),target:h}),(0,s.sample)({clock:v,source:C,filter:(e,t)=>!!t?.group_id,fn:(e,t)=>t?.group_id?[...e,t.group_id]:e,target:C}),(0,s.sample)({clock:k.done,source:C,filter:(e,{params:t})=>!!t?.query?.group_id,fn:(e,{params:t})=>t?.query?.group_id?e.filter((e=>e!==t?.query?.group_id)):e,target:C}),(0,s.sample)({clock:k.done,source:f,fn:(e,{params:t})=>t?.query?.group_id?[...e,t.query.group_id]:e,target:f}),{fireJoinGroup:d,fireLeaveGroup:u,fireAddGroupToFave:_,fireGroupSubscribe:p,fireGroupUnsubscribe:m,fireRemoveGroupFromFave:g,$groups:h,$groupsToLeave:C,$groupsLeft:f,$groupPendingIds:I,JoinGroupEffectFx:E,LeaveGroupEffectFx:k}}},736841:(e,t,a)=>{a.d(t,{appCatalogService:()=>i,createAppCatalogService:()=>o.createAppCatalogService,isNewsfeedItemWallpost:()=>r.isNewsfeedItemWallpost});var o=a(253597),r=a(672645);const i=(0,o.createAppCatalogService)()},782756:(e,t,a)=>{a.d(t,{createLayoutService:()=>c});var o=a(474848),r=a(32489),i=a(694743),n=a(269285),s=a(610989),l=a(422495);const c=({domain:e,LikeVideoEffectFx:t,DislikeVideoEffectFx:a,AddVideoToFaveEffectFx:c,RemoveVideoFromFaveEffectFx:d,AddVideoToPlaylistsEffectFx:u,RemoveVideoFromPlaylistsEffectFx:_,AddVideoToMyVideosEffectFx:p,RemoveVideoFromMyVideosEffectFx:m,RemoveVideoFromHistoryEffectFx:g,fireCompleteOnboarding:S,$playlistItems:v,SaveOnboardingEffectFx:h})=>{const C=e.createEvent(),f=e.createEvent(),I=e.createEvent(),E=e.createEvent("fire/ScrollToBlock"),k=(0,r.restore)(C,null),y=(0,r.restore)(I,null),T=e.createStore(null,{name:"scrollToBlock"}),A=e.createEffect("showSnackbarEffectFx");return A.use((e=>{C((0,o.jsx)(i.CatalogSnackbar,{onClose:()=>{C(null)},...e}))})),(0,r.sample)({clock:f,target:A}),(0,r.sample)({clock:[t.finally,a.finally,c.finally,d.finally,u.finally,_.finally,p.finally,m.finally,g.finally],filter:e=>"fail"===e.status,fn:()=>({isError:!0,event:i.SNACKBAR_EVENTS.ERROR}),target:f}),(0,r.sample)({clock:c.done,fn:()=>({event:i.SNACKBAR_EVENTS.ADD_TO_FAVE}),target:f}),(0,r.sample)({clock:d.done,fn:()=>({event:i.SNACKBAR_EVENTS.REMOVE_FROM_FAVE}),target:f}),(0,r.sample)({clock:u.done,source:v,filter:(e,{result:t})=>Boolean(t),fn:(e,{result:t})=>{if(Array.isArray(t)&&1===t.length){const a=e.find((({id:e})=>e===t[0]));if(a)return{content:`${s.getLang("mobile_video_added_to_playlist")} «${a.title}»`,action:s.getLang("mobile_video_showcase_form_upload_goto_video"),actionLink:(0,l.getPlaylistURL)(a.owner_id,a.id),layout:"horizontal"}}return{event:i.SNACKBAR_EVENTS.ADD_TO_PLAYLISTS}},target:f}),(0,r.sample)({clock:_.done,filter:({result:e})=>Boolean(e),fn:({result:e})=>Array.isArray(e)&&1===e.length?{event:i.SNACKBAR_EVENTS.REMOVE_FROM_PLAYLIST}:{event:i.SNACKBAR_EVENTS.REMOVE_FROM_PLAYLISTS},target:f}),(0,r.sample)({clock:p.done,fn:()=>({event:i.SNACKBAR_EVENTS.ADD_TO_MY}),target:f}),(0,r.sample)({clock:m.done,fn:({params:e})=>({event:(0,n.isCurrentUserId)(e.target_id)?i.SNACKBAR_EVENTS.REMOVE_FROM_MY:i.SNACKBAR_EVENTS.REMOVE_FROM_GROUP}),target:f}),(0,r.sample)({clock:g.done,fn:()=>({event:i.SNACKBAR_EVENTS.REMOVE_FROM_HISTORY}),target:f}),(0,r.sample)({clock:h.done,filter:({result:e})=>1===e.code,fn:()=>({event:i.SNACKBAR_EVENTS.ONBOARDING_RELOAD_CATALOG,action:s.getLang("mobile_video_onboarding_snackbar_refresh_action"),onActionClick:()=>{S()},layout:"horizontal"}),target:f}),(0,r.sample)({clock:E,target:T}),{fireScrollToBlockById:E,setSnackbar:C,showSnackbar:f,setPopout:I,$snackbar:k,$popout:y,$scrollToBlockById:T,ShowSnackbarEffectFx:A}}},255011:(e,t,a)=>{a.d(t,{createLinksService:()=>i});var o=a(32489),r=a(679005);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"links"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.links?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.links.forEach((t=>{t.id&&e.set(t.id,t)}))})),target:a}),{$links:a}}},275675:(e,t,a)=>{a.d(t,{createMarketItemsService:()=>c});var o=a(452935),r=a(32489),i=a(679005),n=a(527438),s=a(112268),l=a(847891);const c=({domain:e,data:t})=>{const a=e.createEvent("fire/MakeFavorite"),c=e.createEvent("fire/RemoveFavorite"),d=e.createEvent("fire/AddToCart"),u=e.createStore(new Map,{name:"marketItems"}),_=e.createStore([],{name:"marketItemPendingIds"}),p=e.createEffect({name:"fetch/MakeFavorite",handler:({params:e,successCallback:t})=>(0,o.faveAddProduct)(e).then((e=>(t?.(),e)))}),m=e.createEffect({name:"fetch/RemoveFavorite",handler:async e=>(0,o.faveRemoveProduct)(e)}),g=(0,n.createMarketAddToCartFx)({domain:e});return(0,r.sample)({clock:t,source:u,filter:(e,t)=>Boolean(t.market_items?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.market_items.forEach((t=>e.set((0,s.joinRawId)({ownerId:t.owner_id,itemId:t.id}),t)))})),target:u}),(0,r.sample)({clock:a,target:p}),(0,r.sample)({clock:c,target:m}),(0,r.sample)({clock:p.done,source:u,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,i.produce)(e,(e=>{const a=e.get((0,s.joinRawId)({ownerId:t.params.owner_id,itemId:t.params.id}));a&&(a.is_favorite=!0)})),target:u}),(0,r.sample)({clock:m.done,source:u,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,i.produce)(e,(e=>{const a=e.get((0,s.joinRawId)({ownerId:t.owner_id,itemId:t.id}));a&&(a.is_favorite=!1)})),target:u}),(0,r.sample)({clock:a,source:_,filter:(e,{params:t})=>!e.includes((0,s.joinRawId)({ownerId:t.owner_id,itemId:t.id})),fn:(e,{params:t})=>(0,i.produce)(e,(e=>{e.push((0,s.joinRawId)({ownerId:t.owner_id,itemId:t.id}))})),target:_}),(0,r.sample)({clock:c,source:_,filter:(e,t)=>!e.includes((0,s.joinRawId)({ownerId:t.owner_id,itemId:t.id})),fn:(e,t)=>(0,i.produce)(e,(e=>{e.push((0,s.joinRawId)({ownerId:t.owner_id,itemId:t.id}))})),target:_}),(0,r.sample)({clock:p.done,source:_,fn:(e,{params:t})=>{const a=(0,s.joinRawId)({ownerId:t.params.owner_id,itemId:t.params.id});return e.filter((e=>e!==a))},target:_}),(0,r.sample)({clock:m.done,source:_,fn:(e,{params:t})=>{const a=(0,s.joinRawId)({ownerId:t.owner_id,itemId:t.id});return e.filter((e=>e!==a))},target:_}),(0,r.sample)({clock:d,fn:e=>({query:e}),target:g}),(0,r.sample)({clock:g.done,source:u,fn:(e,{params:{query:t}})=>(0,i.produce)(e,(e=>{const a=e.get((0,s.joinRawId)({itemId:t.item_id,ownerId:l.Ranges.convertGroupIdToOwnerId(t.group_id)}));a&&(a.cart_quantity=(a.cart_quantity??0)+t.quantity)})),target:u}),(0,r.sample)({clock:d,source:_,fn:(e,t)=>(0,i.produce)(e,(e=>{e.push((0,s.joinRawId)({itemId:t.item_id,ownerId:l.Ranges.convertGroupIdToOwnerId(t.group_id)}))})),target:_}),(0,r.sample)({clock:g.done,source:_,fn:(e,{params:{query:t}})=>{const a=(0,s.joinRawId)({itemId:t.item_id,ownerId:l.Ranges.convertGroupIdToOwnerId(t.group_id)});return e.filter((e=>e!==a))},target:_}),{fireMakeFavorite:a,fireRemoveFavorite:c,fireAddToCart:d,$marketItems:u,$marketItemPendingIds:_}}},52717:(e,t,a)=>{a.d(t,{createMusicPlaylistsService:()=>n});var o=a(32489),r=a(679005),i=a(112268);const n=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"musicPlaylists"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.playlists?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.playlists.forEach((t=>e.set((0,i.joinRawId)({ownerId:t.owner_id,itemId:t.id}),t)))})),target:a}),{$musicPlaylists:a}}},811945:(e,t,a)=>{a.d(t,{createNavigationTabsService:()=>i});var o=a(32489),r=a(679005);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"navigationTabs"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.navigation_tabs?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.navigation_tabs.forEach((t=>e.set(t.id,t)))})),target:a}),{$navigationTabs:a}}},361894:(e,t,a)=>{a.d(t,{createNewsfeedItemsService:()=>i});var o=a(32489),r=a(679005);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"newsFeedItems"}),i=e.createStore(new Map,{name:"reactions"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.newsfeed_items?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.newsfeed_items.forEach((({id:t,item:a})=>a&&e.set(t,a)))})),target:a}),(0,o.sample)({clock:t,source:i,filter:(e,t)=>Boolean(t.reaction_sets?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.reaction_sets.forEach((({id:t,items:a})=>e.set(t,a)))})),target:i}),{$newsFeedItems:a,$reactions:i}}},955811:(e,t,a)=>{a.d(t,{createOnboardingService:()=>n});var o=a(32489),r=a(452935),i=a(682534);const n=({domain:e})=>{const t=e.createEvent("fire/InitOnboardingOptions"),a=e.createEvent("fire/ToggleOnboardingOption"),n=e.createEvent("fire/SaveOnboarding"),s=e.createEvent("fire/CompleteOnboarding"),l=e.createStore([],{name:"onboardingOptions"}),c=e.createStore({status:i.OnboardingResponseStatus.IDLE},{name:"onboardingStatus"}),d=e.createEffect({name:"fetch/SaveOnboarding",handler:e=>(0,r.saveSelection)(e)});return(0,o.sample)({clock:n,target:d}),(0,o.sample)({clock:t,fn:e=>[...e],target:l}),(0,o.sample)({clock:a,source:l,fn:(e,t)=>e.map((e=>(t.replacement_id===e.replacement_id&&(e.selected=e.selected?0:1),e))),target:l}),(0,o.sample)({clock:d.done,filter:e=>1===e.result.code,fn:({result:e})=>({status:i.OnboardingResponseStatus.SUCCESS,message:e.message}),target:c}),(0,o.sample)({clock:d.fail,fn:()=>({status:i.OnboardingResponseStatus.ERROR}),target:c}),(0,o.sample)({clock:d.pending,filter:e=>e,fn:()=>({status:i.OnboardingResponseStatus.PENDING}),target:c}),(0,o.sample)({clock:s,fn:()=>({status:i.OnboardingResponseStatus.COMPLETE}),target:c}),{fireInitOptions:t,fireToggleOption:a,fireSaveOptions:n,fireCompleteOnboarding:s,$onboardingOptions:l,$onboardingStatus:c,SaveOnboardingEffectFx:d}}},682534:(e,t,a)=>{a.d(t,{OnboardingResponseStatus:()=>o});const o={IDLE:"IDLE",SUCCESS:"SUCCESS",ERROR:"ERROR",PENDING:"PENDING",COMPLETE:"COMPLETE"}},499653:(e,t,a)=>{a.d(t,{createPageService:()=>i});var o=a(551090),r=a(32489);const i=({domain:e})=>{const t=e.createEvent("fire/SetPageId"),a=e.createEvent("fire/SetCacheId"),i=e.createEvent("fire/SetCatalogType"),n=e.createStore("",{name:"pageId"}),s=e.createStore("",{name:"cacheId"}),l=e.createStore(o.CatalogType.SEARCH,{name:"catalogType"});return(0,r.sample)({clock:t,target:n}),(0,r.sample)({clock:a,target:s}),(0,r.sample)({clock:i,target:l}),{fireSetPageId:t,fireSetCacheId:a,fireSetCatalogType:i,$pageId:n,$cacheId:s,$catalogType:l}}},554928:(e,t,a)=>{a.d(t,{createPlaceholdersService:()=>i});var o=a(32489),r=a(679005);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"placeholders"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.placeholders?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.placeholders.forEach((t=>t.id&&e.set(t.id,t)))})),target:a}),{$placeholders:a}}},88212:(e,t,a)=>{a.d(t,{createPlaylistService:()=>d});var o=a(6598),r=a(32489),i=a(452935),n=a(112268),s=a(679005),l=a(8520),c=a(269285);const d=({domain:e,data:t,removeVideoFromPlaylists:a,removeVideoFromMyVideos:d,$videoItems:u,$catalog:_})=>{const p=e.createStore([],{name:"playlistItems"}),m=e.createStore(new Set,{name:"playlistsSubscribeLoading"}),g=e.createEvent("subscribeOnPlaylist"),S=e.createEvent("unsubscribeFromPlaylist"),v=e.createEffect("fetch/SubscribeToPlaylist"),h=e.createEffect("fetch/UnsubscribeFromPlaylist"),C=e.createEvent(),f=e.createStore(null,{name:"playlists"}),I=e.createStore(null,{name:"playlistsByVideo"}),E=e.createEvent("fire/GetPlaylistsByVideo"),k=e.createEvent("fire/GetPlaylists"),y=e.createEffect("fetch/GetPlaylistsByVideo"),T=(0,o.pending)({effects:[y]}),A=e.createEffect("fetch/GetPlaylists"),R=(0,o.pending)({effects:[A]}),L=e.createEffect("action/ControllerAbort");return I.reset(E),v.use((e=>(0,i.subscribeToVideoPlaylist)(e))),h.use((e=>(0,i.unsubscribeFromVideoPlaylist)(e))),(0,r.sample)({clock:t,source:p,filter:(e,t)=>!!t?.albums?.length,fn:(e,t)=>{const a=new Map(e.map(((e,t)=>[(0,n.joinRawId)({itemId:e.id,ownerId:e.owner_id}),t])));return(0,s.produce)(e,(e=>{t.albums?.length&&t.albums.forEach((t=>{const o=(0,n.joinRawId)({itemId:t.id,ownerId:t.owner_id}),r=a.get(o);(0,l.isNumber)(r)&&r>=0?e[r]=t:e.push(t)}))}))},target:p}),A.use((({params:e,controller:t})=>{const{signal:a}=t||{};return(0,i.getPlaylistsExtended)({extended:1,...e},{signal:a})})),y.use((({params:e,controller:t})=>{const{signal:a}=t||{};return(0,i.getPlaylistsByVideoExtended)({extended:1,...e},{signal:a})})),L.use((({controller:e})=>{e?.abort()})),(0,r.sample)({clock:k,fn:e=>({params:e,controller:new AbortController}),target:A}),(0,r.sample)({clock:k,source:A,filter:A.pending.map((e=>e)),target:L}),(0,r.sample)({clock:E,fn:e=>({params:e,controller:new AbortController}),target:y}),(0,r.sample)({clock:E,source:y,filter:y.pending.map((e=>e)),target:L}),(0,r.sample)({clock:y.doneData,filter:e=>Boolean(e?.items),fn:e=>({items:e.items.filter((({is_system:e})=>!e)),count:e.count}),target:I}),(0,r.sample)({clock:A.done,source:f,filter:(e,{result:t})=>Boolean(t?.items),fn:(e,{result:t,params:a})=>e&&a.params.offset?(0,s.produce)(e,(e=>{e.items.push(...t.items),e.count=t.count})):t,target:f}),(0,r.sample)({clock:[A.doneData,y.doneData],filter:e=>Boolean(e?.items),fn:e=>({albums:e.items}),target:t}),(0,r.sample)({clock:g,target:v}),(0,r.sample)({clock:S,target:h}),(0,r.sample)({clock:C,source:p,fn:(e,{album_id:t,owner_id:a,is_subscribed:o})=>(0,s.produce)(e,(e=>{const r=e.find((e=>e.id===t&&e.owner_id===a));r&&(r.is_subscribed=o)})),target:p}),(0,r.sample)({clock:v.done,filter:({result:e})=>Boolean(e),fn:({params:e})=>({...e,is_subscribed:!0}),target:C}),(0,r.sample)({clock:h.done,filter:({result:e})=>Boolean(e),fn:({params:e})=>({...e,is_subscribed:!1}),target:C}),(0,r.sample)({clock:[g,S],source:m,fn:(e,{album_id:t,owner_id:a})=>(0,s.produce)(e,(e=>{void 0!==t&&e.add((0,n.joinRawId)({ownerId:a,itemId:t}))})),target:m}),(0,r.sample)({clock:[v.done,h.done],source:m,fn:(e,{params:t})=>(0,s.produce)(e,(e=>{const{album_id:a,owner_id:o}=t;void 0!==a&&e.delete((0,n.joinRawId)({ownerId:o,itemId:a}))})),target:m}),(0,r.sample)({clock:[a.done,d.done],source:{playlistItems:p,videoItems:u,catalog:_},filter:({playlistItems:e,catalog:t},{result:a})=>(0,c.checkRequestResultForPlaylist)(a,t.sections,e),fn:({playlistItems:e,videoItems:t,catalog:a},{params:o})=>(0,s.produce)(e,(e=>{const r=a.sections.find((e=>(0,c.testPlaylistSection)(e?.url))),i=r?.blocks?.[0]?.albums_ids?.[0];if(r&&i){const a=e?.find((e=>(0,n.joinFullId)(e.owner_id,e.id)===i));if(a){if(t?.length){const e=t.find((e=>e.id===o.video_id&&e?.image?.[0]?.url&&e.image[0].url===a.image?.[0]?.url));if(e){const o=r.blocks?.find((e=>e.videos_ids?.length)),i=(0,n.joinFullId)(Number(e.owner_id),Number(e.id)),s=o?.videos_ids?.find((e=>e!==i)),l=t.find((e=>(0,n.joinFullId)(Number(e.owner_id),Number(e.id))===s));a.image=l?.image,a.cover_video_restriction=l?.restriction,l?.restriction?.blur&&(a.image_blur=l?.restriction?.blur)}}a.count--}}})),target:p}),{$playlistItems:p,$playlistsSubscribeLoading:m,$playlists:f,$playlistsByVideo:I,$pendingPlaylistsByVideo:T,$pendingPlaylists:R,subscribeOnPlaylist:g,unsubscribeFromPlaylist:S,updatePlaylistSubscriptionState:C,fireGetPlaylistsByVideo:E,fireGetPlaylists:k,UnsubscribeFromPlaylistEffectFx:h,SubscribeToPlaylistEffectFx:v}}},45560:(e,t,a)=>{a.d(t,{createPostsService:()=>l});var o=a(736841),r=a(331614),i=a(452935),n=a(32489),s=a(679005);a(672645);const l=({domain:e,data:t})=>{const a=e.createEvent("fire/FaveAddPost"),l=e.createEvent("fire/FaveRemovePost"),c=e.createEvent("fire/LikePost"),d=e.createEvent("fire/DislikePost"),u=e.createEvent("fire/AgreeBlurRestriction"),_=e.createEvent("fire/ExpandPostText"),p=e.createEvent("fire/ExpandPostAttachments"),m=e.createEvent("fire/ViewPost"),g=e.createStore(new Map,{name:"posts"}),S=e.createStore([],{name:"pendingPostIds"}),v=e.createStore(new Set,{name:"viewedPostIds"}),h=e.createStore(new Map,{name:"postExpandedStates"}),C=e.createEffect({name:"fetch/FaveAddPost",handler:({params:e,successCallback:t})=>(0,i.faveAddPost)(e).then((e=>(t?.(),e)))}),f=e.createEffect({name:"fetch/FaveRemovePost",handler:i.faveRemovePost}),I=e.createEffect({name:"fetch/LikePost",handler:e=>(0,i.likeAdd)({...e,type:"post"})}),E=e.createEffect({name:"fetch/DislikePost",handler:e=>(0,i.likeDelete)({...e,type:"post"})}),k=e.createEffect({name:"fetch/AgreeBlurRestriction",handler:i.agreeBlurRestriction});return(0,n.sample)({clock:t,source:g,filter:(e,t)=>Boolean(t.newsfeed_items?.length),fn:(e,t)=>(0,s.produce)(e,(e=>{t.newsfeed_items.forEach((({item:t})=>{(0,o.isNewsfeedItemWallpost)(t)&&e.set((0,r.getPostRawId)(t),t)}))})),target:g}),(0,n.sample)({clock:a,target:C}),(0,n.sample)({clock:l,target:f}),(0,n.sample)({clock:u,target:k}),(0,n.sample)({clock:C.done,source:g,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,s.produce)(e,(e=>{const a=e.get((0,r.getPostRawId)(t.params));a&&(a.is_favorite=!0)})),target:g}),(0,n.sample)({clock:f.done,source:g,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,s.produce)(e,(e=>{const a=e.get((0,r.getPostRawId)(t));a&&(a.is_favorite=!1)})),target:g}),(0,n.sample)({clock:c,target:I}),(0,n.sample)({clock:d,target:E}),(0,n.sample)({clock:[I.done,E.done],source:g,fn:(e,{params:t,result:a})=>(0,s.produce)(e,(e=>{const o=e.get((0,r.getPostRawId)(t));o&&(o.reactions=a.reactions)})),target:g}),(0,n.sample)({clock:a,source:S,fn:(e,{params:t})=>(0,s.produce)(e,(e=>{e.push((0,r.getPostRawId)(t))})),target:S}),(0,n.sample)({clock:[l,c,d],source:S,fn:(e,t)=>(0,s.produce)(e,(e=>{e.push((0,r.getPostRawId)(t))})),target:S}),(0,n.sample)({clock:[f.done,I.done,E.done],source:S,fn:(e,{params:t})=>e.filter((e=>e!==(0,r.getPostRawId)(t))),target:S}),(0,n.sample)({clock:C.done,source:S,fn:(e,{params:t})=>e.filter((e=>e!==(0,r.getPostRawId)(t.params))),target:S}),(0,n.sample)({clock:_,source:h,fn:(e,t)=>(0,s.produce)(e,(e=>{const a=e.get(t);a?a.textExpanded=!0:e.set(t,{textExpanded:!0})})),target:h}),(0,n.sample)({clock:p,source:h,fn:(e,t)=>(0,s.produce)(e,(e=>{const a=e.get(t);a?a.attachmentsExpanded=!0:e.set(t,{attachmentsExpanded:!0})})),target:h}),(0,n.sample)({clock:m,source:v,fn:(e,t)=>(0,s.produce)(e,(e=>{e.add(t)})),target:v}),{fireFaveAddPost:a,fireFaveRemovePost:l,fireLikePost:c,fireDislikePost:d,fireAgreeBlurRestriction:u,fireExpandPostText:_,fireExpandPostAttachments:p,$posts:g,$pendingPostIds:S,$postExpandedStates:h}}},672645:(e,t,a)=>{a.d(t,{isNewsfeedItemWallpost:()=>r});const o="post",r=e=>e?.type===o},988160:(e,t,a)=>{a.d(t,{createProfilesService:()=>i});var o=a(32489),r=a(679005);const i=({domain:e,data:t,fetchStories:a})=>{const i=e.createEvent("fire/CheckStories"),n=e.createStore(new Map,{name:"profiles"});return(0,o.sample)({clock:t,source:n,filter:(e,t)=>Boolean(t.profiles?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.profiles.forEach((t=>e.set(t.id,t)))})),target:n}),(0,o.sample)({clock:i,fn:e=>({owner_id:Math.abs(e)}),target:a}),(0,o.sample)({clock:a.done,source:n,fn:(e,{params:t,result:a})=>(0,r.produce)(e,(e=>{const o=e.get(t.owner_id);o&&(o.has_unseen_stories=Boolean(a.items.find((e=>e.name===o.first_name))?.has_unseen))})),target:n}),{fireCheckUserStories:i,$profiles:n}}},883403:(e,t,a)=>{a.d(t,{createRadioStationsService:()=>n});var o=a(32489),r=a(679005),i=a(452935);const n=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"radioStations"}),n=e.createStore([],{name:"loadingRadioStations"}),s=e.createEvent(),l=e.createEvent(),c=e.createEffect(i.followRadioStation),d=e.createEffect(i.unfollowRadioStation);return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.radio_stations?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.radio_stations.forEach((t=>e.set(t.id,t)))})),target:a}),(0,o.sample)({clock:s,target:c}),(0,o.sample)({clock:l,target:d}),(0,o.sample)({clock:c.done,source:a,filter:(e,{result:t})=>1===t,fn:(e,{params:t})=>(0,r.produce)(e,(e=>{const a=e.get(t.station_id);a&&(a.is_followed=!0)})),target:a}),(0,o.sample)({clock:d.done,source:a,filter:(e,{result:t})=>1===t,fn:(e,{params:t})=>(0,r.produce)(e,(e=>{const a=e.get(t.station_id);a&&(a.is_followed=!1)})),target:a}),(0,o.sample)({clock:[s,l],source:n,fn:(e,t)=>[...e,t.station_id],target:n}),(0,o.sample)({clock:[c.done,d.done],source:n,filter:(e,{result:t})=>1===t,fn:(e,{params:t})=>e.filter((e=>e!==t.station_id)),target:n}),{$radioStations:a,$loadingRadioStations:n,fireFollowRadioStation:s,fireUnfollowRadioStation:l}}},62885:(e,t,a)=>{a.d(t,{createSearchRecentService:()=>i});var o=a(32489),r=a(452935);const i=({domain:e})=>{const t=e.createEvent("fire/AddRecent"),a=e.createEvent("fire/ClearRecent"),i=e.createEvent("fire/GroupsRemoveRecent"),n=e.createEffect({name:"fetch/AddRecent",handler:async e=>(0,r.addRecent)(e)}),s=e.createEffect({name:"fetch/ClearRecent",handler:async e=>(0,r.clearSearchRecent)(e)}),l=e.createEffect({name:"fetch/RemoveRecent",handler:e=>(0,r.groupsRemoveRecent)(e)});return(0,o.sample)({clock:t,target:n}),(0,o.sample)({clock:a,target:s}),(0,o.sample)({clock:i,target:l}),{fireAddRecent:t,fireClearSearchRecent:a,fireGroupsRemoveRecent:i}}},742191:(e,t,a)=>{a.d(t,{createEntitiesSearchEntityItemsService:()=>i});var o=a(32489),r=a(679005);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"searchEntityItems"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.search_entity_items?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.search_entity_items.forEach((t=>{"vk_person"===t.type&&e.set(t.id,t)}))})),target:a}),{$searchEntityItems:a}}},765151:(e,t,a)=>{a.d(t,{createSearchSpellcheckersService:()=>r});var o=a(32489);const r=({domain:e,data:t})=>{const a=e.createStore([],{name:"searchSpellcheckers"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>!!t?.search_spellcheckers?.length,fn:(e,t)=>{if(t?.search_spellcheckers?.length){const a=t.search_spellcheckers.filter((t=>-1===e.findIndex((e=>e.id===t.id))));return[...e,...a]}return e},target:a}),{$searchSpellcheckers:a}}},73218:(e,t,a)=>{a.d(t,{createStickersService:()=>i});var o=a(32489),r=a(679005);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"stickersPackPreviews"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.stickers_pack_previews?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.stickers_pack_previews.forEach((t=>e.set(t.id,t)))})),target:a}),{$stickersPackPreviews:a}}},207579:(e,t,a)=>{a.d(t,{createStoriesService:()=>i});var o=a(32489),r=a(452935);const i=({domain:e})=>{const t=e.createStore((()=>({})),{name:"storiesOpener"}),a=e.createEvent("fire/SetStoriesOpener"),i=e.createEvent("fire/OpenStories"),n=e.createEffect({name:"action/OpenStories",handler:({ownerId:e,openStories:t=(()=>({})),storiesCallback:a=(()=>!1)})=>{t(`${e}/owner_feed${e}`,{source:"avatar",ownerId:e},{onClose:a})}}),s=e.createEffect({name:"action/FetchStories",handler:async e=>await(0,r.getStories)(e)});return(0,o.sample)({clock:i,source:t,fn:(e,t)=>({...t,openStories:e}),target:n}),(0,o.sample)({clock:a,target:t}),{fireSetStoriesOpener:a,fireOpenStories:i,FetchStoriesEffectFx:s}}},549607:(e,t,a)=>{a.d(t,{createSuggestionsService:()=>n});var o=a(452935),r=a(32489),i=a(679005);const n=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"suggestions"}),n=e.createEvent("fire/RemoveSearchRecentQuery"),s=e.createEffect({name:"fetch/RemoveSearchRecentQuery",handler:e=>{(0,o.removeSearchRecentQuery)(e)}});return(0,r.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.suggestions?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.suggestions.forEach((t=>t.id&&e.set(t.id,t)))})),target:a}),(0,r.sample)({clock:n,fn:({params:e})=>e,target:s}),{$suggestions:a,fireRemoveSearchRecentQuery:n}}},950162:(e,t,a)=>{a.d(t,{createTextsService:()=>i});var o=a(32489),r=a(679005);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"texts"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.texts?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.texts.forEach((t=>t.id&&e.set(t.id,t)))})),target:a}),{$texts:a}}},244885:(e,t,a)=>{a.d(t,{createVideoService:()=>l});var o=a(452935),r=a(112268),i=a(32489),n=a(679005),s=a(8520);const l=({domain:e,data:t,$catalog:a})=>{const l=e.createStore([],{name:"videoItems"}),c=e.createStore({},{name:"notInterestedVideos"}),d=e.createStore(null,{name:"addToPlaylistModal"}),u=e.createEvent("openVideoActions"),_=e.createEvent("openAddToPlaylistModal"),p=e.createEvent("likeVideo"),m=e.createEvent("dislikeVideo"),g=e.createEvent("addVideoToFave"),S=e.createEvent("removeVideoFromFave"),v=e.createEvent("addVideoToWatchLater"),h=e.createEvent("removeVideoFromWatchLater"),C=e.createEvent("addVideoToPlaylist"),f=e.createEvent("removeVideoFromPlaylist"),I=e.createEvent("addVideoToMyVideos"),E=e.createEvent("removeVideoFromMyVideos"),k=e.createEvent("removeVideoFromHistory"),y=e.createEvent("markVideoNotInterested"),T=e.createEvent("addVideoToMyVideosWithoutEffect"),A=e.createEvent("removeVideoFromMyVideosWithoutEffect"),R=e.createEffect({name:"fetch/likeVideo",handler:e=>(0,o.likeAdd)(e)}),L=e.createEffect({name:"fetch/dislikeVideo",handler:e=>(0,o.likeDelete)(e)}),b=e.createEffect({name:"fetch/addVideoToFave",handler:e=>(0,o.faveAddVideo)(e)}),x=e.createEffect({name:"fetch/removeVideoFromFave",handler:e=>(0,o.faveRemoveVideo)(e)}),O=e.createEffect({name:"fetch/addVideoToWatchLater",handler:e=>(0,o.faveAddVideo)(e)}),w=e.createEffect({name:"fetch/removeVideoFromWatchLater",handler:e=>(0,o.faveRemoveVideo)(e)}),N=e.createEffect({name:"fetch/addVideoToPlaylist",handler:e=>(0,o.addToPlaylist)(e)}),M=e.createEffect({name:"fetch/removeVideoFromPlaylist",handler:e=>(0,o.removeFromPlaylist)(e)}),P=e.createEffect({name:"fetch/addVideoToMyVideos",handler:e=>(0,o.addVideo)(e)}),V=e.createEffect({name:"fetch/removeVideoFromMyVideos",handler:e=>(0,o.deleteVideo)(e)}),B=e.createEffect({name:"fetch/removeVideoFromHistory",handler:e=>(0,o.removeViewingHistoryRecords)({video_ids:(0,r.joinFullId)(e.owner_id,e.video_id)})}),D=e.createEffect({name:"fetch/markVideoNotInterested",handler:({params:e})=>(0,o.markNotInterested)(e)});return(0,i.sample)({clock:p,target:R}),(0,i.sample)({clock:m,target:L}),(0,i.sample)({clock:g,target:b}),(0,i.sample)({clock:S,target:x}),(0,i.sample)({clock:C,target:N}),(0,i.sample)({clock:v,target:O}),(0,i.sample)({clock:h,target:w}),(0,i.sample)({clock:f,target:M}),(0,i.sample)({clock:I,target:P}),(0,i.sample)({clock:E,target:V}),(0,i.sample)({clock:k,target:B}),(0,i.sample)({clock:y,source:a,filter:e=>Boolean(e),fn:(e,t)=>({sectionId:e.default_section,params:t}),target:D}),(0,i.sample)({clock:_,target:d}),(0,i.sample)({clock:t,source:l,filter:(e,t)=>Boolean(t?.videos?.length),fn:(e,t)=>{const a=e=>void 0!==e.id&&void 0!==e.owner_id?(0,r.joinRawId)({itemId:e.id,ownerId:e.owner_id}):e.id,o=new Map(e.map(((e,t)=>[a(e),t]))),i=new Map(t.videos?.map(((e,t)=>[a(e),t])));return(0,n.produce)(e,(e=>{t.videos?.length&&t.videos.forEach(((t,r)=>{const n=a(t),l=o.get(n);(0,s.isNumber)(l)&&l>=0?e[l]=t:i.get(n)===r&&e.push(t)}))}))},target:l}),(0,i.sample)({clock:R.done,source:l,filter:(e,{result:t})=>Boolean(t&&t.likes>-1),fn:(e,{params:t,result:a})=>(0,n.produce)(e,(e=>{const o=e.find((e=>e.id===t.item_id&&e.owner_id===t.owner_id));o&&(o.likes={count:a.likes,user_likes:1})})),target:l}),(0,i.sample)({clock:L.done,source:l,filter:(e,{result:t})=>Boolean(t&&t.likes>-1),fn:(e,{params:t,result:a})=>(0,n.produce)(e,(e=>{const o=e.find((e=>e.id===t.item_id&&e.owner_id===t.owner_id));o&&(o.likes={count:a.likes,user_likes:0})})),target:l}),(0,i.sample)({clock:P.done,source:l,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const a=e.find((e=>e.id===t.video_id&&e.owner_id===t.owner_id));a&&(a.added=1)})),target:l}),(0,i.sample)({clock:V.done,source:l,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const a=e.find((e=>e.id===t.video_id&&e.owner_id===t.owner_id));a&&(a.added=0)})),target:l}),(0,i.sample)({clock:T,source:l,fn:(e,{video_id:t,owner_id:a})=>(0,n.produce)(e,(e=>{const o=e.find((e=>e.id===t&&e.owner_id===a));o&&(o.added=1)})),target:l}),(0,i.sample)({clock:A,source:l,fn:(e,{video_id:t,owner_id:a})=>(0,n.produce)(e,(e=>{const o=e.find((e=>e.id===t&&e.owner_id===a));o&&(o.added=0)})),target:l}),(0,i.sample)({clock:[b.done,O.done],source:l,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const a=e.find((e=>e.id===t.id&&e.owner_id===t.owner_id));a&&(a.is_favorite=!0)})),target:l}),(0,i.sample)({clock:[x.done,w.done],source:l,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const a=e.find((e=>e.id===t.id&&e.owner_id===t.owner_id));a&&(a.is_favorite=!1)})),target:l}),(0,i.sample)({clock:D.done,source:c,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const{params:a,sectionId:o}=t,i=(0,r.joinRawId)({itemId:a.video_id,ownerId:a.owner_id});a.is_unset?delete e[i]:e[i]=o})),target:c}),{$videoItems:l,$notInterestedVideos:c,$addToPlaylistModal:d,openVideoActions:u,openAddToPlaylistModal:_,likeVideo:p,dislikeVideo:m,addVideoToFave:g,removeVideoFromFave:S,addVideoToWatchLater:v,removeVideoFromWatchLater:h,addVideoToPlaylist:C,removeVideoFromPlaylist:f,addVideoToMyVideos:I,removeVideoFromMyVideos:E,removeVideoFromHistory:k,markVideoNotInterested:y,addVideoToMyVideosWithoutEffect:T,removeVideoFromMyVideosWithoutEffect:A,LikeVideoEffectFx:R,DislikeVideoEffectFx:L,AddVideoToFaveEffectFx:b,RemoveVideoFromFaveEffectFx:x,AddVideoToPlaylistsEffectFx:N,RemoveVideoFromPlaylistsEffectFx:M,AddVideoToMyVideosEffectFx:P,RemoveVideoFromMyVideosEffectFx:V,RemoveVideoFromHistoryEffectFx:B,MarkVideoNotInterestedEffectFx:D}}},750850:(e,t,a)=>{var o;a.d(t,{ListenMutateEventsType:()=>o}),function(e){e.AddVideo="add_video",e.RemoveVideo="remove_video"}(o||(o={}))},354669:(e,t,a)=>{a.d(t,{convertSectionToCatalog:()=>o,convertUpdatedCatalogToUpdatedSection:()=>i});const o=e=>e?{sections:e?[e]:[],default_section:e.id||"",pinned_section:""}:null,r=e=>e?e.sections[0]:null,i=({updatedCatalog:e,...t})=>({...t,updatedSection:r(e)})},235630:(e,t,a)=>{a.d(t,{extractItemsIds:()=>i});var o=a(551090);const r=e=>e?.map((e=>({id:e}))),i=e=>(e=>{switch(e.data_type){case o.CatalogBlockDataType.GROUPS:return r(e.group_ids);case o.CatalogBlockDataType.GROUPS_INVITES:return r(e.group_invites);case o.CatalogBlockDataType.GROUPS_ALL:case o.CatalogBlockDataType.GROUPS_ITEMS:case o.CatalogBlockDataType.GROUPS_EVENTS:return e.group_items;case o.CatalogBlockDataType.CATALOG_USERS:return r(e.catalog_users_ids);case o.CatalogBlockDataType.MINI_APPS:return e.mini_app_ids?.map((e=>({id:Number(e)})));case o.CatalogBlockDataType.LINKS:return r(e.links_ids);case o.CatalogBlockDataType.VIDEOS:return r(e.videos_ids);case o.CatalogBlockDataType.ALBUMS:return e.albums_ids?.map((t=>({id:t,badge:e.item_badges?.some((({item_id:e})=>e===t))})));case o.CatalogBlockDataType.CATALOG_SEARCH_SUGGESTION:return r(e.search_suggestions_ids);case o.CatalogBlockDataType.SEARCH_AUTHORS:return e.search_author_items;case o.CatalogBlockDataType.SEARCH_SUGGESTIONS:return r(e.suggestions_ids);case o.CatalogBlockDataType.NEWSFEED_ITEMS:return r(e.newsfeed_item_ids);case o.CatalogBlockDataType.MUSIC_AUDIOS:return r(e.audios_ids);case o.CatalogBlockDataType.MUSIC_PLAYLISTS:return r(e.playlists_ids);case o.CatalogBlockDataType.GAMES:return e.games_items;case o.CatalogBlockDataType.MARKET_ITEMS:return r(e.market_item_ids);case o.CatalogBlockDataType.GROUPS_COLLECTION:return e?.group_collection_items_ids?.map((t=>({id:t,group_items:e.entity_group_items?.find((e=>e.id===t))?.group_items,isSingleItem:1===e.group_collection_items_ids?.length})))||[];case o.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS:return e?.group_category_items?.map((({id:t,click_action:a})=>({id:t||"",group_items:e.entity_group_items?.find((e=>e.id===t))?.group_items,action:a})))||[];case o.CatalogBlockDataType.STICKERS_PACKS:return r(e.stickers_pack_ids);case o.CatalogBlockDataType.MINI_APPS_CONTENT:return t=e.miniapps_content_items,t?.map((e=>({...e,id:e.id??""})));case o.CatalogBlockDataType.SEARCH_ENTITY_ITEMS:return r(e.search_entity_ids);case o.CatalogBlockDataType.NAVIGATION_TABS:return r(e.navigation_tab_ids);case o.CatalogBlockDataType.PLACEHOLDER:return r(e.placeholder_ids);case o.CatalogBlockDataType.RADIO_STATIONS:return r(e.radio_stations_ids);default:return}var t})(e)??[]},269285:(e,t,a)=>{a.d(t,{checkRequestResultForPlaylist:()=>r.checkRequestResultForPlaylist,extractExtendedData:()=>r.extractExtendedData,extractItemsIds:()=>o.extractItemsIds,getClipDataTestId:()=>r.getClipDataTestId,getEventItemTypeByDataType:()=>r.getEventItemTypeByDataType,getMaxItemsByBlock:()=>r.getMaxItemsByBlock,isCurrentUserId:()=>r.isCurrentUserId,mutateSectionBlocks:()=>r.mutateSectionBlocks,splitCatalogBlocksByIsland:()=>r.splitCatalogBlocksByIsland,testBookmarksSection:()=>r.testBookmarksSection,testDiscoverSection:()=>r.testDiscoverSection,testHistorySection:()=>r.testHistorySection,testLikedSection:()=>r.testLikedSection,testMySection:()=>r.testMySection,testPlaylistSection:()=>r.testPlaylistSection,testUploadedSection:()=>r.testUploadedSection,toColumnWithRows:()=>i.toColumnWithRows,unionBlocksByLayout:()=>r.unionBlocksByLayout});var o=a(235630),r=a(139308),i=a(74381)},74381:(e,t,a)=>{a.d(t,{toColumnWithRows:()=>n});var o=a(474848),r=a(296540);const i=()=>({resultLength:0,components:[]});function n(e,t){const a=Array(t).fill(null).map(i);return e.forEach((e=>{const t=a.reduce(((e,t)=>t.resultLength<e.resultLength?t:e));e.length&&(t.resultLength+=e.length),t.components.push(e)})),[a.map(((e,t)=>({key:t,component:e.components.map((({component:e,key:t})=>(0,o.jsx)(r.Fragment,{children:e},t)))})))]}},139308:(e,t,a)=>{a.d(t,{checkRequestResultForPlaylist:()=>E,extractExtendedData:()=>u,getClipDataTestId:()=>k,getEventItemTypeByDataType:()=>_,getMaxItemsByBlock:()=>d,isCurrentUserId:()=>m,mutateSectionBlocks:()=>p,splitCatalogBlocksByIsland:()=>y,testBookmarksSection:()=>C,testDiscoverSection:()=>h,testHistorySection:()=>v,testLikedSection:()=>f,testMySection:()=>g,testPlaylistSection:()=>S,testUploadedSection:()=>I,unionBlocksByLayout:()=>c});var o=a(551090),r=a(750850),i=a(695290),n=a(679005),s=a(112268);const l=(e,t,a)=>{const o=e[a]??[],r=t[a]??[];return Array.isArray(o)&&Array.isArray(r)?{...t,id:e.id,[a]:[...o,...r]}:null},c=e=>e.reduce(((e,t)=>(0,n.produce)(e,(a=>{e.some((e=>e.next_from===t.next_from))||a.push(t)}))),[]).reduce(((e,t)=>(0,n.produce)(e,(e=>{t.blocks?.length&&e.push(...t.blocks)}))),[]).reduce(((e,t)=>(0,n.produce)(e,(e=>{if(0===e.length)return void e.push(t);const a=((e,t)=>{if(e.layout.name!==t.layout.name||e.data_type!==t.data_type)return null;switch(e.data_type){case o.CatalogBlockDataType.MARKET_ITEMS:return l(e,t,"market_item_ids");case o.CatalogBlockDataType.VIDEOS:return l(e,t,"videos_ids");default:return null}})(e[e.length-1],t);a?e[e.length-1]=a:e.push(t)}))),[]),d=e=>e.data_type===o.CatalogBlockDataType.NEWSFEED_ITEMS?10:null,u=e=>{const t={};return Object.entries(e).forEach((([e,a])=>{if("catalog"!==e&&"section"!==e&&Array.isArray(a))switch(e){case o.CatalogExtendedDataName.ALBUMS:case o.CatalogExtendedDataName.CATALOG_USERS:case o.CatalogExtendedDataName.GROUPS:case o.CatalogExtendedDataName.LINKS:case o.CatalogExtendedDataName.MARKET_ITEMS:case o.CatalogExtendedDataName.MINI_APPS:case o.CatalogExtendedDataName.PLACEHOLDERS:case o.CatalogExtendedDataName.PROFILES:case o.CatalogExtendedDataName.VIDEOS:case o.CatalogExtendedDataName.SUGGESTIONS:case o.CatalogExtendedDataName.SEARCH_SPELLCHECKERS:case o.CatalogExtendedDataName.NEWSFEED_ITEMS:case o.CatalogExtendedDataName.REACTION_SETS:case o.CatalogExtendedDataName.PLAYLISTS:case o.CatalogExtendedDataName.AUDIOS:case o.CatalogExtendedDataName.GROUP_COLLECTION_ITEMS:case o.CatalogExtendedDataName.GROUP_CATEGORY_ITEMS:case o.CatalogExtendedDataName.GAMES:case o.CatalogExtendedDataName.STICKERS_PACK_PREVIEWS:case o.CatalogExtendedDataName.SEARCH_ENTITY_ITEMS:case o.CatalogExtendedDataName.NAVIGATION_TABS:case o.CatalogExtendedDataName.CLASSIFIEDS_CATEGORY_TREE:case o.CatalogExtendedDataName.RADIO_STATIONS:case o.CatalogExtendedDataName.TEXTS:t[e]=[...a];break;default:return}})),t},_=e=>{switch(e.data_type){case o.CatalogBlockDataType.LINKS:return i.EventItemType.LINK;case o.CatalogBlockDataType.MINI_APPS:return i.EventItemType.MINI_APP;case o.CatalogBlockDataType.MARKET_ITEMS:return i.EventItemType.MARKET_ITEM;case o.CatalogBlockDataType.GROUPS_ITEMS:case o.CatalogBlockDataType.GROUPS:case o.CatalogBlockDataType.GROUPS_COLLECTION:case o.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS:return i.EventItemType.GROUP;case o.CatalogBlockDataType.CATALOG_USERS:return i.EventItemType.USER;case o.CatalogBlockDataType.VIDEOS:return i.EventItemType.VIDEO;case o.CatalogBlockDataType.CATALOG_SEARCH_SUGGESTION:case o.CatalogBlockDataType.SEARCH_SUGGESTIONS:case o.CatalogBlockDataType.SEARCH_SPELLCHECKER:return i.EventItemType.SEARCH_SUGGESTION;case o.CatalogBlockDataType.ALBUMS:return i.EventItemType.VIDEO_PLAYLIST;case o.CatalogBlockDataType.NEWSFEED_ITEMS:return i.EventItemType.POST;case o.CatalogBlockDataType.SEARCH_AUTHORS:return i.EventItemType.SEARCH_AUTHOR;case o.CatalogBlockDataType.MUSIC_AUDIOS:return i.EventItemType.MUSIC_AUDIO;case o.CatalogBlockDataType.GAMES:return i.EventItemType.GAME;case o.CatalogBlockDataType.STICKERS_PACKS:return i.EventItemType.STICKERS;default:return}},p=({section:e,ownerId:t,itemId:a,clear:o=!1,event:i})=>{if(!e?.blocks||(Number.isNaN(t)||Number.isNaN(a))&&!o)return;const n=(0,s.joinFullId)(t,a);for(const t of e.blocks)switch(i){case r.ListenMutateEventsType.AddVideo:t.videos_ids&&t.videos_ids.unshift(n);break;case r.ListenMutateEventsType.RemoveVideo:t.videos_ids&&(t.videos_ids=o?[]:t.videos_ids.filter((e=>e!==n)))}},m=e=>e===window.vk.id,g=e=>Boolean(e?.endsWith("my")),S=e=>Boolean(e?.includes("playlist")),v=e=>Boolean(e?.includes("history")),h=e=>Boolean(e?.includes("discover")),C=e=>Boolean(e?.includes("bookmarks")),f=e=>Boolean(e?.includes("liked")),I=e=>Boolean(e?.includes("uploaded")),E=(e,t,a)=>{if(t&&a){const o=t.find((e=>S(e?.url))),r=o?.blocks?.[0]?.albums_ids?.[0];if(o&&r){const t=a?.find((e=>(0,s.joinFullId)(e.owner_id,e.id)===r));if(t?.can_edit)return Array.isArray(e)?e.includes(t.id):Boolean(e)}}return!1},k=({action:e,ref_layout_name:t})=>t===o.CatalogBlockLayoutName.SHORT_VIDEO_SLIDER_WITH_VIEW_COUNTER&&e?.type===o.CatalogActionType.OPEN_URL?"clips-catalog-open-url":void 0,y=(e,t=[])=>{const a=e.findIndex((e=>e.layout.name===o.CatalogBlockLayoutName.SEPARATOR&&"island"===e.layout.style));return a>=0?y(e.slice(a+1),[...t,e.slice(0,a)]):[...t,e]}},981317:(e,t,a)=>{a.d(t,{DynamicPagination:()=>c});var o=a(474848),r=a(296540),i=a(828902),n=a(8520),s=a(140094),l=a(696704);const c=({isLoading:e,fetchData:t,fetchError:a,nextFrom:c,rootMargin:d,withSpinner:u=!0})=>{const[_,p]=(0,r.useState)(),[m,g]=(0,s.useInView)({rootMargin:d}),S=(0,n.classNames)(l.default.pagination,{[l.default.paginationHidden]:e});return(0,r.useEffect)((()=>{const e=setTimeout((()=>{g&&c&&_!==c&&(p(c),t())}),200);return()=>{clearTimeout(e)}}),[g,c,_]),c&&!a?(0,o.jsxs)("div",{className:l.default.root,children:[u&&(0,o.jsx)(i.Spinner,{size:"small"}),(0,o.jsx)("div",{className:S,ref:m})]}):null}},39170:(e,t,a)=>{a.d(t,{DynamicPagination:()=>o.DynamicPagination});var o=a(981317)},560145:(e,t,a)=>{a.d(t,{Snackbar:()=>d});var o=a(474848),r=a(412311),i=a(455878),n=a(753457),s=a(8520),l=a(234337),c=a(452376);const d=({content:e="",isError:t,onClose:a=(()=>{}),...d})=>(0,o.jsx)(n.Snackbar,{layout:"vertical",before:t?(0,o.jsx)(r.Icon24ErrorCircleOutline,{className:(0,l.getColorClass)("color_accent_red")}):(0,o.jsx)(i.Icon24CheckCircleOn,{className:(0,l.getColorClass)("color_accent_blue")}),onClose:a,duration:5e3,className:c.default.root,...d,children:(0,s.decodeHTMLEntities)(e)})},780074:(e,t,a)=>{a.d(t,{Snackbar:()=>o.Snackbar});var o=a(560145)},891493:(e,t,a)=>{a.d(t,{VideoListItem:()=>_});var o=a(474848),r=a(52509),i=a(210267),n=a(753457),s=a(480958),l=a(380118),c=a(595154),d=a(234337),u=a(27995);const _=({onMoreClick:e,onClick:t,preview:a,title:_="",secondTitle:p,lastTitle:m,url:g,getRootRef:S,endAdornment:v})=>{const h=Boolean(e&&!(0,u.isVKUserAnonymous)());return(0,o.jsx)(n.Tappable,{"data-testid":"video_list_item",href:g,onClick:e=>{t?.(e)},children:(0,o.jsxs)("div",{className:i.default.root,children:[(0,o.jsx)("div",{ref:S,className:i.default.preview,children:a}),(0,o.jsxs)("div",{className:i.default.info,children:[(0,o.jsxs)("div",{className:i.default.main,children:[(0,o.jsx)(s.TextClamp,{TypographyComponent:l.Headline,level:"2",className:i.default.title,lines:2,children:_}),!!p&&(0,o.jsx)(l.Subhead,{className:i.default.subtitle,dangerouslySetInnerHTML:{__html:p}}),!!m&&(0,o.jsx)(l.Subhead,{className:i.default.subtitle,dangerouslySetInnerHTML:{__html:m}})]}),h&&(0,o.jsx)(c.IconButton,{"data-testid":"video_list_item_more",className:(0,d.getColorClass)("color_icon_tertiary"),onClick:t=>{t.preventDefault(),t.stopPropagation(),e?.(t)},children:(0,o.jsx)(r.Icon24MoreHorizontal,{})}),v&&(0,o.jsx)("div",{className:i.default.endAdornment,children:v})]})]})})}},372637:(e,t,a)=>{a.r(t),a.d(t,{VideoPreview:()=>x});var o=a(474848),r=a(296540),i=a(8520),n=a(205504),s=a(556118),l=a(753457),c=a(196067),d=a(220757),u=a(490868),_=a(529019),p=a(208298),m=a(48876),g=a(210389),S=a(722163),v=a(863211),h=a(54172),C=a(320830),f=a(175712),I=a(234337),E=a(52975),k=a(521023),y=a(874741),T=a(422495),A=a(610989),R=a(89128),L=a(476726);const b=["waiting","started"];function x(e){const{video:t,itemUrl:a,mode:x="regular",ratio:O,withTimeline:w=!1,withPlayBtn:N=!1,fullWidth:M=!1,onItemClick:P,onButtonClick:V}=e,{restriction:B,image:D=[]}=t,j=(0,E.useWindowWidth)(),G=(0,k.useVideoThumbRatio)(O),[F,U]=(0,r.useState)(!1),H=(0,h.useAppearanceDetector)(),$=(0,r.useMemo)((()=>{let e=D.filter((e=>!e.with_padding));return e.length||(e=D),(0,i.getPhotoSize)(e,(0,n.getImageMinWidth)(M?j:250))}),[D,M,j]);(0,r.useEffect)((()=>{$?.url&&U(!1)}),[$?.url]);const z=(0,r.useCallback)((e=>P?.(e,t)),[P,t]),W=Boolean(t.processing),K="upcoming"===t.live_status,Y=(0,s.isBasePrivacyLimited)(t?.privacy_view),q=(0,T.isLiveVideo)(t),Q="by_link"==t?.privacy_view?.category,Z=B&&Boolean(B.blur),X=!Z&&!B&&Boolean(t.duration),J=Boolean(t.interactive_info),ee=J&&(0,L.partConfigEnabled)("interactive_video_redesign_badge_mvk"),te=!X&&q&&b.some((e=>e===t.live_status)),ae=Boolean(B?.can_play&&B?.mute_info_link);let oe=0;w&&t.viewed_duration&&t.duration&&!J&&(oe=100*t.viewed_duration/t.duration);const re=J?"compact"===x?"":A.getLang("video_interactive_label"):t.platform;return(0,o.jsxs)(l.Tappable,{"data-testid":"video_preview",Component:a?"a":"div",hasHover:!1,href:a,className:(0,i.classNames)(R.default.video,{[R.default.videoRounded]:!M,[R.default.videoPage]:M,[R.default.videoBlur]:Z}),style:{paddingBottom:`${G}%`},onClick:z,children:[$&&!F?(0,o.jsx)("img",{onError:()=>U(!0),className:(0,i.classNames)(R.default.videoImage,{[R.default.videoImageBlur]:Z}),loading:"lazy",src:$.url,width:$.width,height:$.height}):!B&&(0,o.jsx)("div",{className:R.default.previewFailed,children:(0,o.jsx)(c.Icon56VideoOutline,{})}),Y&&!W?(0,o.jsx)(C.TextTooltip,{placement:"top",text:(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:A.getLang("profile_user_content_videos_is_privacy_locked")}}),appearance:"black",children:(0,o.jsx)("div",{className:(0,i.classNames)(R.default.cornerIcon,R.default.cornerIconPrivacy),children:Q?(0,o.jsx)(d.Icon16ChainOutline,{}):(0,o.jsx)(u.Icon16Lock,{})})}):null,N?(0,o.jsx)("div",{className:R.default.playBtn,children:(0,o.jsx)(_.Icon28Play,{})}):null,ae?(0,o.jsx)("div",{className:R.default.playBtn,children:(0,o.jsx)(p.Icon24Mute,{})}):null,W||K?(0,o.jsx)("div",{className:R.default.cornerIcon,children:(0,o.jsx)(m.Icon16ClockOutline,{})}):null,X||J?(0,o.jsx)(l.AppearanceProvider,{value:ee?"dark":H,children:(0,o.jsxs)("span",{className:(0,i.classNames)(R.default.videoDuration,{[R.default.videoInteractive]:ee}),children:[ee&&(0,o.jsx)("div",{className:R.default.interactiveIcon,children:(0,o.jsx)(g.Icon12HandPointUp,{})}),(0,o.jsx)(f.Join,{separator:" · ",children:[re,X&&(0,i.formatDuration)(t?.duration||0)]})]})}):null,te?(0,o.jsx)("div",{className:R.default.videoLive,children:(0,o.jsx)(S.Icon20LiveBadge,{})}):null,K?(0,o.jsx)("div",{className:(0,i.classNames)(R.default.videoLive,R.default.videoUpcomingLive),children:(0,o.jsx)(v.IconLiveText20h,{className:(0,I.getColorClass)("color_icon_contrast")})}):null,!!oe&&(0,o.jsx)("div",{className:R.default.progressBar,children:(0,o.jsx)("div",{className:R.default.progress,style:{width:`${oe}%`}})}),(0,o.jsx)(y.VideoPreviewOverlay,{video:t,mode:x,fullWidth:M,className:R.default.overlay,onClick:V})]})}},874741:(e,t,a)=>{a.d(t,{VideoPreviewOverlay:()=>S});var o=a(474848),r=a(967e3),i=a(8520),n=a(753457),s=a(636023),l=a(347231),c=a(334523),d=a(462659),u=a(340447),_=a(380118),p=a(923594),m=a(533048),g=a(680811);const S=e=>{const{video:t,className:a,mode:S="regular",fullWidth:v=!1,onClick:h}=e,{restriction:C,converting:f,live_status:I}=t,{getLang:E}=(0,r.useLangContext)(),{viewWidth:k=n.ViewWidth.SMALL_MOBILE}=(0,n.useAdaptivityWithJSMediaQueries)(),y=k<n.ViewWidth.MOBILE,T=Boolean(f),A="upcoming"===I,R=C&&Boolean(C.blur),L="regular"===S,b=!v&&L||!L,x=Boolean(C?.icon_name),O=Boolean(C?.can_play&&C?.mute_info_link),w=b?_.Subhead:_.Text;if(C&&!O&&x){const e=b?28:56,t=(0,i.getPhotoSize)(C.card_icon,e*window.devicePixelRatio),{title:r,text:n,button:l}=C,c=Boolean(L&&r),d=Boolean(v&&n),u=Boolean(C.can_play&&h&&v&&l),S=Boolean(t&&!c&&!u&&!d),f=t&&!(c&&d&&u&&y);return(0,o.jsx)("div",{className:(0,i.classNames)(g.default.overlay,{[g.default.blur]:R},a),children:(0,o.jsx)(p.Placeholder,{icon:f&&(0,o.jsx)(s.MaskIcon,{className:(0,i.classNames)(g.default.icon,{[g.default.center]:S}),src:t.url,size:e}),header:c&&(0,o.jsx)(w,{Component:"span",className:g.default.title,children:r}),action:u&&(0,o.jsx)(m.Button,{mode:"secondary",size:"s",appearance:"overlay",onClick:h,children:l?.title}),noPadding:!0,children:d&&(0,o.jsx)(_.Footnote,{Component:"span",className:g.default.text,children:n})})})}if(T){const e=!L,t=b?l.Icon28RecentOutline:c.Icon56RecentOutline;return(0,o.jsx)("div",{className:(0,i.classNames)(g.default.overlay,{[g.default.blur]:R},a),children:(0,o.jsx)(p.Placeholder,{icon:(0,o.jsx)(t,{className:(0,i.classNames)(g.default.icon,{[g.default.center]:e})}),header:L&&(0,o.jsx)(w,{Component:"span",className:g.default.title,children:E("profile_user_content_videos_video_is_processing")}),noPadding:!0})})}if(A){const e=!L,t=b?d.Icon28LiveClockBadgeOutline:u.Icon56LiveClockBadgeOutline;return(0,o.jsx)("div",{className:(0,i.classNames)(g.default.overlay,{[g.default.blur]:R},a),children:(0,o.jsx)(p.Placeholder,{icon:(0,o.jsx)(t,{className:(0,i.classNames)(g.default.icon,{[g.default.center]:e})}),header:L&&(0,o.jsx)(w,{Component:"span",className:g.default.title,children:E("mobile_video_live_start_soon")}),noPadding:!0})})}return null}},868260:(e,t,a)=>{a.d(t,{FRIENDS_STATUS:()=>r,FRIENDS_STATUS_REQUEST:()=>o});const o={REQUEST:1,ADDED:2,REPEAT:4},r={NOT_FRIEND:0,OUTCOMING_REQUEST:1,INCOMING_REQUEST:2,IS_FRIENDS:3}},535149:(e,t,a)=>{a.d(t,{getImageIsomorphic:()=>r});var o=a(402463);const r=({images:e,width:t=0,height:a,isRetina:r=!1})=>{if(!e||0===e.length)return"";const i=r?2:1,n=t*i,s=("number"==typeof a?a:t)*i,l=[...e];(0,o.sort)(l,((e,t)=>e.height<t.height?-1:e.height>t.height?1:e.width<t.width?-1:e.width>t.width?1:0));for(let e=0;e<l.length;e++)if(l[e].width>=n&&l[e].height>=s)return l[e];return l[l.length-1]}},402463:(e,t,a)=>{function o(e,t){return e.sort(t)}a.d(t,{sort:()=>o})},769924:(e,t,a)=>{a.d(t,{useIntersectionObserver:()=>n});var o=a(296540),r=a(287841),i=a(515029);const n=({triggerOnce:e=!1,rootMargin:t,threshold:a=1,delay:n=200})=>{const[s,l]=(0,o.useState)(null),c=1-a,[d,u]=(0,o.useState)(!1),{top:_=0,bottom:p=0,left:m=0,right:g=0}=(0,o.useMemo)((()=>(e=>{if(!e)return{};if(!/^[-+]?\d+px [-+]?\d+px [-+]?\d+px [-+]?\d+px$/.test(e))throw new Error(`useIntersectionObserver: unsupported rootMargin format: ${e}`);const[t,a,o,r]=e.split(" ").map(parseFloat);return{top:t,right:a,bottom:o,left:r}})(t)),[t]);return(0,o.useEffect)((()=>{if((0,i.isIntersectionObserverSupported)()&&s){const t=new IntersectionObserver((([a])=>{u(a.isIntersecting),e&&a.isIntersecting&&t.disconnect()}),{threshold:a,rootMargin:`${_}px ${g}px ${p}px ${m}px`});return t.observe(s),()=>t.disconnect()}}),[a,e,_,p,g,m,s]),(0,o.useEffect)((()=>{if(!(0,i.isIntersectionObserverSupported)()&&s&&(!d||!e)){const e=(0,r.throttle)((()=>{const e=s.getBoundingClientRect();u(e.top+c*e.height>=-_&&e.bottom-c*e.height<=window.innerHeight+p&&e.left+c*e.width>=-m&&e.right-c*e.width<=window.innerWidth+g)}),n);return e(),document.addEventListener("scroll",e,{passive:!0,capture:!0}),()=>document.removeEventListener("scroll",e,{capture:!0})}}),[d,e,_,p,g,m,a,n,s]),[l,d]}},521023:(e,t,a)=>{a.d(t,{MAX_RATIO:()=>r,MIN_RATIO:()=>i,useVideoThumbRatio:()=>n});var o=a(296540);const r=56.25,i=112.54,n=(e=0)=>(0,o.useMemo)((()=>e?e<r?r:e>i?i:+e.toFixed(2):r),[e])},52975:(e,t,a)=>{a.d(t,{useWindowWidth:()=>i});var o=a(296540),r=a(8520);const i=()=>{const[e,t]=(0,o.useState)(window.innerWidth);return(0,o.useEffect)((()=>{const e=()=>t(window.innerWidth);return(0,r.debounce)(e,700),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),e}},967e3:(e,t,a)=>{a.d(t,{useLangContext:()=>n});var o=a(296540);function r(){console.warn("This is default implementation. Please use platform specific lang context")}const i=(0,o.createContext)({getLang:e=>(r(),e),langSex:(e,t)=>(r(),`${t}`),langNumeric:(e,t)=>(r(),t.join("")),langDate:e=>(r(),String(e)),langReplace:e=>(r(),String(e))}),n=()=>(0,o.useContext)(i)},68455:(e,t,a)=>{a.d(t,{KEY:()=>i,checkEvent:()=>r.checkEvent,isMainClick:()=>o.isMainClick,preventLinkOpening:()=>n});var o=a(527703),r=a(222558);const i={LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:8,TAB:9,RETURN:13,ENTER:13,ESC:27,PAGEUP:33,PAGEDOWN:34,SPACE:32,CTRL:17,ALT:18,SHIFT:16,META_LEFT:91,META_RIGHT:93},n=e=>new Promise((t=>{(0,o.isMainClick)(e instanceof MouseEvent?e:e.nativeEvent)&&(e.stopPropagation(),e.preventDefault(),t())}))},832782:(e,t,a)=>{a.d(t,{initPostAttachmentBlock:()=>n});var o=a(299134),r=a(8520),i=a(823875);function n(e,t){(0,i.tq)().setStartupHandler("PostAttachmentsBlock/init",(({payload:a})=>{if(!a.target)throw new Error("PostAttachmentsBlock: Missing target");if(!a.target.isConnected)return;const{item:i,profiles:n,groups:s,attachmentsExpanded:l,feedV3Redesign:c}=(0,r.decodeHTMLEntitiesDeep)(a.data),d=a.target,u=(0,o.createReactInitiator)(e,d,{destroyAfterNavigation:!1}),_=()=>{u.isMounted()||u.render({item:i,ownerId:window.vk.id,profiles:n,groups:s,attachmentsExpanded:l,feedV3Redesign:c,root:d})};_(),t?.(u,_)}))}},331614:(e,t,a)=>{a.d(t,{getPostRawId:()=>o.getPostRawId,initPostAttachmentBlock:()=>r.initPostAttachmentBlock});var o=a(334911),r=a(832782)},334911:(e,t,a)=>{a.d(t,{getPostRawId:()=>r});var o=a(112268);const r=({id:e,item_id:t,owner_id:a})=>{const r=e||t;return a&&r?(0,o.joinRawId)({ownerId:a,itemId:r}):""}},636023:(e,t,a)=>{a.d(t,{MaskIcon:()=>i});var o=a(474848),r=a(8520);function i({src:e,size:t,className:a,style:i,...n}){return(0,o.jsx)("div",{className:(0,r.classNames)("MaskIcon",`MaskIcon--${t}`,a),style:{...i,maskImage:`url("${e}")`,WebkitMaskImage:`url("${e}")`,width:`${t}px`,height:`${t}px`},...n})}},10747:(e,t,a)=>{a.d(t,{$isMouseActive:()=>o.$isMouseActive,$selectedItemIndex:()=>o.$selectedItemIndex,fireDownSelectionIndex:()=>o.fireDownSelectionIndex,fireResetItemsIndex:()=>o.fireResetItemsIndex,fireResetSelectionIndex:()=>o.fireResetSelectionIndex,fireSetItemIndex:()=>o.fireSetItemIndex,fireSetSelectionIndexByItem:()=>o.fireSetSelectionIndexByItem,fireUpSelectionIndex:()=>o.fireUpSelectionIndex});var o=a(583945)},583945:(e,t,a)=>{a.d(t,{$isMouseActive:()=>r,$itemsIndex:()=>n,$selectedIndex:()=>i,$selectedItemIndex:()=>s,fireDownSelectionIndex:()=>d,fireResetItemsIndex:()=>p,fireResetSelectionIndex:()=>_,fireSetItemIndex:()=>u,fireSetSelectionIndexByItem:()=>l,fireUpSelectionIndex:()=>c});const o=(0,a(32489).createDomain)("SEARCH_TOP/MODAL"),r=o.createStore(!0,{name:"isMouseActive"}),i=o.createStore(-1,{name:"selectedIndex"}),n=o.createStore([],{name:"maxItemsIndex"}),s=o.createStore(null,{name:"selectedItemIndex"}),l=o.createEvent("fire/SetSelectionIndexByItem"),c=o.createEvent("fire/UpSelectionIndex"),d=o.createEvent("fire/DownSelectionIndex"),u=o.createEvent("fire/SetItemIndex"),_=(o.createEvent("fire/SetItemIndex"),o.createEvent("fire/ResetSelectionIndex")),p=o.createEvent("fire/ResetItemsIndex")},946709:(e,t,a)=>{a.d(t,{checkIfVideoShouldBeLoadedAsClip:()=>h,checkStopActionOnEventOnShortVideo:()=>m,formatNumberTranslation:()=>g,getThumb:()=>_,hashtagReplaceReact:()=>u,isLockedVideo:()=>p});var o=a(474848),r=a(8520),i=a(765668),n=a(542701),s=a(610989),l=a(705744),c=a(423212),d=a(476726);function u(e,t,a,r){return(0,o.jsx)(i.Link,{href:`/clips/hashtag/${encodeURIComponent(a.slice(1))}`,onClick:r,"data-testid":"hashtag",children:t},e)}function _(e,t,a){const o=e.filter((e=>!e.with_padding)),i=a&&(0,r.isRetina)()?2:1,n=((0,r.isNumber)(t)?t:t.width||0)*i,s=((0,r.isNumber)(t)?0:t.height||0)*i;return(0,r.getPhotoSize)(o.length?o:e,n,s)?.url}function p(e,t){return Boolean(t?.userIsAdmin)&&Boolean(e.privacyView&&!function(e){return function(e,t){return!e.category||!t.length||t.includes(e.category)}(e,["all","any"])&&0===(e?.excludedCategory?.length||0)&&0===(e?.lists?.allowed?.length||0)&&0===(e?.lists?.excluded?.length||0)&&0===(e?.owners?.allowed?.length||0)&&0===(e?.owners?.excluded?.length||0)}(e.privacyView))}const m=e=>{const t=e?.target,a=new RegExp(`^https?:\\/\\/${l.VK_HOST_REGEX_UNSAFE.source}\\/clip(-?\\d+_\\d+)$`);return!!t?.href&&a.test(t.href)};function g(e,t){return`${(0,n.formatCount)(e)} ${(0,s.langNumeric)(e>=1e3?1e3:e,t)}`}const S=1,v=60;async function h(e,t){if(t?.is_closed)return!1;const a=await(0,c.getVideoMetadata)(e),o=(0,d.getConfigValue)("short_video_publish_video_to_clips_duration_min")??S,r=(0,d.getConfigValue)("short_video_publish_video_to_clips_duration_max")??v;return null!==a&&a.duration<r&&a.duration>o&&a.height>=a.width}},27995:(e,t,a)=>{a.d(t,{isVKUserAnonymous:()=>r});var o=a(388078);const r=()=>o.Ranges.isZeroOwner(window.vk.id)},987601:(e,t,a)=>{a.d(t,{getAPIErrorMessage:()=>r,isRequestAbortError:()=>i});var o=a(610989);const r=e=>e.error_text||e.error_msg||o.getLang("global_unknown_error"),i=e=>e instanceof DOMException&&(20===e.code||"AbortError"===e.name)},556118:(e,t,a)=>{a.d(t,{isBasePrivacyLimited:()=>o});const o=e=>!(e=>!e||((e,t)=>!e?.category||!t?.length||t.includes(e.category))(e,["all","any"])&&0===(e?.excluded_category?.length||0)&&0===(e?.lists?.allowed?.length||0)&&0===(e?.lists?.excluded?.length||0)&&0===(e?.owners?.allowed?.length||0)&&0===(e?.owners?.excluded?.length||0))(e)},271192:(e,t,a)=>{a.d(t,{encodeUrlSearchParams:()=>o});const o=(e,t="")=>{const a=Object.entries(e).filter((([,e])=>Boolean(e||0===e))).map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)).join("&");return a?`${t}${a}`:""}},522591:(e,t,a)=>{a.d(t,{formatDateTime:()=>i});var o=a(610989),r=a(7144);const i=(e=0,t=!1)=>{if(!e)return"";const a=3600,i=1e3*e,n=new Date(i),s=new Date,l=(Date.now()-n.getTime())/1e3,c=n.getFullYear(),d=n.getMonth();if(l<5)return o.getLang("mobile_profile_status_just_now");if(l<60)return o.getLang("mobile_profile_status_secs_ago",Math.ceil(l));if(l<a){const e=Math.ceil(l/60),t=o.getLang("mobile_profile_status_word_mins_ago","raw");return(0,r.isArray)(t)&&e<t.length?t[e]:(0,o.langNumeric)(e,o.getLang("mobile_profile_status_mins_ago","raw"))}if(l/a<5){const e=Math.ceil(l/a),t=o.getLang("mobile_profile_status_word_hours_ago","raw");return(0,r.isArray)(t)&&e<t.length?t[e]:(0,o.langNumeric)(e,o.getLang("mobile_profile_status_hours_ago","raw"))}const u=s.getFullYear(),_=s.getMonth(),p=t?o.getLang("months_of","raw"):o.getLang("months_sm_of","raw");return c<u&&(_>1||d<9||u-c>=2)?(0,o.langDate)(i,o.getLang("global_date","raw"),0,p):(0,o.langDate)(i,o.getLang("global_short_date_time","raw"),0,p)}},743478:(e,t,a)=>{a.d(t,{formatViews:()=>r});var o=a(610989);const r=(e=0,t=!1)=>{if(e<=1e3)return t?o.getLang("video_N_views_list",e):e.toString();let a=1;const r=e>1e6?"M":"K",i=e>1e6?1e6:1e3,n=e/i;n.toFixed(a).endsWith("0")&&(a=0);const s=(n.toFixed(a)+r).replace(".",",");if(t){const e=Math.trunc(n)*i;return o.getLang("video_N_views_list",e).replace(e.toString(),s)}return s}},3931:(e,t,a)=>{a.d(t,{getOwnerAvatar:()=>i});var o=a(535149),r=a(7144);const i=e=>{if(e){if("photo"in e){if((0,r.isArray)(e.photo)){const t=(0,o.getImageIsomorphic)({images:e.photo,width:50,isRetina:(0,r.isRetina)()});return t&&t.url||""}return e.photo||""}if("photo_100"in e&&"photo_100"in e)return(0,r.isRetina)()?e.photo_100||e.photo_50||"":e.photo_50||""}return""}},769876:(e,t,a)=>{a.d(t,{CLIP_UPLOAD_MAX_FILE_SIZE_IN_GB:()=>c,SHORT_VIDEO_UPLOAD_EXTS:()=>r,SHORT_VIDEO_UPLOAD_INPUT_ACCEPT:()=>n,VIDEO_DEFAULT_THUMB_ID:()=>g,VIDEO_UPLOAD_CHUNK_MAX_RETRY_NUMBER:()=>_,VIDEO_UPLOAD_CHUNK_SIZE:()=>d,VIDEO_UPLOAD_EXTS:()=>i,VIDEO_UPLOAD_FILE_THREAD_NUMBER:()=>u,VIDEO_UPLOAD_INPUT_ACCEPT:()=>s,VIDEO_UPLOAD_MAX_FILE_SIZE_IN_GB:()=>l,VIDEO_UPLOAD_SUBTITLES_DISABLED:()=>p,VIDEO_UPLOAD_SUBTITLES_USER_LANG:()=>m});const o=e=>["video/*",...e.map((e=>`.${e}`))].join(","),r="avi mp4 3gp mpeg mov flv f4v wmv mkv webm vob rm rmvb m4v mpg ogv ts m2ts mts mxf".split(" "),i=[...r,"torrent"],n=o(r),s=o(i),l=5,c=8,d=4194304,u=4,_=10,p=-1,m=-2,g="0_0"},423212:(e,t,a)=>{a.d(t,{checkFileType:()=>d,getUploadErrorInfo:()=>_,getUploadErrorText:()=>u,getVideoMetadata:()=>l,getVideoSize:()=>c,sendVideoMetadataStatsBeforeUpload:()=>p});var o,r=a(610989),i=a(769876),n=a(581903),s=a(695290);function l(e){return new Promise((t=>{try{const a=document.createElement("video");a.preload="metadata",a.onloadedmetadata=()=>{const e=a.duration||0,o=a.videoWidth,r=a.videoHeight;t({duration:e,width:o,height:r})},a.onerror=()=>t(null),a.src=window.URL.createObjectURL(e)}catch(e){t(null)}}))}function c(e){return e.size}function d(e,t){const a=(e.name.split(".").pop()||"").toLowerCase(),o=(t||i.VIDEO_UPLOAD_EXTS).includes(a);return!!(e.type&&e.type.match(/^video/i)||o)}function u(e,t){switch(e){case 100:return r.getLang("video_upload_encode_error_too_short_1s");case 101:return r.getLang("video_upload_encode_error_too_long");case 20:return r.getLang("video_upload_error_uploading");case-1:return r.getLang("video_upload_error_incorrect_publish_date");case-2:return r.getLang("video_upload_error_limit_postpone_posts");case-3:return r.getLang("video_upload_error_day_limit_postpone_posts");case-4:return r.getLang("video_upload_error_same_publish_date");case-5:return r.getLang("video_upload_error_day_limit_posts");default:return t||r.getLang("global_unknown_error")}}function _(e){switch(e){case-2:return r.getLang("video_upload_error_info_limit_postpone_posts");case-3:return r.getLang("video_upload_error_info_day_limit_postpone_posts");case-4:return r.getLang("video_upload_error_info_same_publish_date")}}!function(e){e[e.SHORT_VIDEO_TOO_SHORT=100]="SHORT_VIDEO_TOO_SHORT",e[e.SHORT_VIDEO_TOO_LONG=101]="SHORT_VIDEO_TOO_LONG",e[e.INCORRECT_PUBLISH_DATE=-1]="INCORRECT_PUBLISH_DATE",e[e.LIMIT_POSTPONE_POSTS=-2]="LIMIT_POSTPONE_POSTS",e[e.LIMIT_POSTPONE_POSTS_PER_DAY=-3]="LIMIT_POSTPONE_POSTS_PER_DAY",e[e.SAME_POSTPONE_POST_DATE=-4]="SAME_POSTPONE_POST_DATE",e[e.LIMIT_POSTS_PER_DAY=-5]="LIMIT_POSTS_PER_DAY",e[e.SHORT_VIDEO_CONVERT=20]="SHORT_VIDEO_CONVERT"}(o||(o={}));const p=async(e,t,a)=>{const o=await l(e);o?.duration&&o?.width&&n.videoUploadStatsCollector.logEvent({event_type:s.VideoUploadActionEventTypes.DECODE_VIDEO_METAINFO,video_owner_id:t,video_id:a,decode_metainfo:JSON.stringify({width:o.width,height:o.height,video_duration:o.duration,format:(e.name.split(".").pop()||"").toLowerCase()})})}},320933:(e,t,a)=>{e.exports=a.p+"icons/d1289e257c576849dc79.png"},126468:(e,t,a)=>{e.exports=a.p+"icons/eb34a7ce93575efa8ea2.png"},981600:(e,t,a)=>{e.exports=a.p+"icons/f68633b3226eb80eb0e5.png"},369916:(e,t,a)=>{e.exports=a.p+"icons/a625f522850d3f05797b.png"},912796:(e,t,a)=>{e.exports=a.p+"icons/0654607bdbf008505a06.png"},785249:(e,t,a)=>{e.exports=a.p+"icons/acc6ee2b3c635581063c.png"},2847:(e,t,a)=>{e.exports=a.p+"icons/c7c5be0c7d1faaddf81f.png"},47221:(e,t,a)=>{e.exports=a.p+"icons/6711bd23dfd967f8a731.png"},626779:(e,t,a)=>{e.exports=a.p+"icons/64afafc2bd775171824f.png"},67091:(e,t,a)=>{e.exports=a.p+"icons/38fb3e6ad503a0508315.png"},246847:(e,t,a)=>{e.exports=a.p+"icons/eab5042deef6df307b90.png"},105234:(e,t,a)=>{e.exports=a.p+"icons/2deee7db7450c083eddc.png"},33986:(e,t,a)=>{e.exports=a.p+"icons/bd20c22243725074fb22.png"},501762:(e,t,a)=>{e.exports=a.p+"icons/930b0232a5df1e2f9407.png"},125554:(e,t,a)=>{e.exports=a.p+"icons/648415de00ca6898ab3b.png"},988705:(e,t,a)=>{e.exports=a.p+"icons/9da0ad79ea4f455a20bf.png"},246705:(e,t,a)=>{e.exports=a.p+"icons/2d13d920dad2c04c6880.png"},22500:(e,t,a)=>{e.exports=a.p+"icons/5bf1a7625b67535607ca.png"},280616:(e,t,a)=>{e.exports=a.p+"icons/9e43c8c90eb7213b5fd6.png"},674976:(e,t,a)=>{e.exports=a.p+"icons/48af32969c7a5f8e504e.png"},734252:(e,t,a)=>{e.exports=a.p+"icons/67c4202e52d2565da2cd.png"},140094:(e,t,a)=>{a.d(t,{observe:()=>c,useInView:()=>d});var o=a(296540);const r=new Map,i=new WeakMap;let n,s=0;function l(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return`${t}_${"root"===t?(a=e.root,a?(i.has(a)||(s+=1,i.set(a,s.toString())),i.get(a)):"0"):e[t]}`;var a})).toString()}function c(e,t,a={},o=n){if(void 0===window.IntersectionObserver&&void 0!==o){const r=e.getBoundingClientRect();return t(o,{isIntersecting:o,target:e,intersectionRatio:"number"==typeof a.threshold?a.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),()=>{}}const{id:i,observer:s,elements:c}=function(e){let t=l(e),a=r.get(t);if(!a){const o=new Map;let i;const n=new IntersectionObserver((t=>{t.forEach((t=>{var a;const r=t.isIntersecting&&i.some((e=>t.intersectionRatio>=e));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=r),null==(a=o.get(t.target))||a.forEach((e=>{e(r,t)}))}))}),e);i=n.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),a={id:t,observer:n,elements:o},r.set(t,a)}return a}(a);let d=c.get(e)||[];return c.has(e)||c.set(e,d),d.push(t),s.observe(e),function(){d.splice(d.indexOf(t),1),0===d.length&&(c.delete(e),s.unobserve(e)),0===c.size&&(s.disconnect(),r.delete(i))}}o.Component;function d({threshold:e,delay:t,trackVisibility:a,rootMargin:r,root:i,triggerOnce:n,skip:s,initialInView:l,fallbackInView:d,onChange:u}={}){var _;const[p,m]=o.useState(null),g=o.useRef(),[S,v]=o.useState({inView:!!l,entry:void 0});g.current=u,o.useEffect((()=>{if(s||!p)return;let o;return o=c(p,((e,t)=>{v({inView:e,entry:t}),g.current&&g.current(e,t),t.isIntersecting&&n&&o&&(o(),o=void 0)}),{root:i,rootMargin:r,threshold:e,trackVisibility:a,delay:t},d),()=>{o&&o()}}),[Array.isArray(e)?e.toString():e,p,i,r,n,s,a,d,t]);const h=null==(_=S.entry)?void 0:_.target,C=o.useRef();p||!h||n||s||C.current===h||(C.current=h,v({inView:!!l,entry:void 0}));const f=[m,S.inView,S.entry];return f.ref=f[0],f.inView=f[1],f.entry=f[2],f}}}]);try{stManager.done("dist/web/chunks/85a7110a.926e20d1.js")}catch(e){}