/*! For license information please see f89c9c71.815b597f.js.LICENSE.txt */
"use strict";(self.webpackChunkvkweb=self.webpackChunkvkweb||[]).push([[8209],{565046:(e,n,t)=>{function r(e,n){return e(n={exports:{}},n.exports),n.exports}t.d(n,{createCommonjsModule:()=>r})},148788:(e,n,t)=>{t.d(n,{default:()=>o});var r=t(677519);function o(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,(0,r.default)(e,n)}},677519:(e,n,t)=>{function r(e,n){return r=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},r(e,n)}t.d(n,{default:()=>r})},94542:(e,n,t)=>{function r(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(n,t){return e.indexOf(t)<0&&n.push(t),n}),[])}t.d(n,{difference:()=>r})},618719:(e,n,t)=>{t.d(n,{decodeHTMLEntities:()=>s});var r=t(972982),o={"amp;":"&","lt;":"<","gt;":">","quot;":'"',"apos;":"'"},a=String.fromCharCode(65533),c=/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g;function s(e){return function(e,n){return"string"==typeof e&&e?e.replace(c,(function(e){if("#"===e[1]){if(e.length<=3)return e;var t=e.charAt(2),o="x"===t||"X"===t?parseInt(e.substr(3).toLowerCase(),16):parseInt(e.substr(2));return o>=1114111?a:o>65535?(0,r.fromCodePoint)(o):String.fromCharCode(r.numericUnicodeMap[o]||o)}return n[e.slice(1)]||e})):""}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:o)}},972982:(e,n,t)=>{t.d(n,{fromCodePoint:()=>o,numericUnicodeMap:()=>r});var r={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},o=function(){return String.fromCodePoint||function(e){return String.fromCharCode(Math.floor((e-65536)/1024)+55296,(e-65536)%1024+56320)}}()},154087:(e,n,t)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.d(n,{default:()=>o});var o=(0,t(565046).createCommonjsModule)((function(e){!function(){var n={}.hasOwnProperty;function t(){for(var e=[],o=0;o<arguments.length;o++){var a=arguments[o];if(a){var c=r(a);if("string"===c||"number"===c)e.push(a);else if(Array.isArray(a)&&a.length){var s=t.apply(null,a);s&&e.push(s)}else if("object"===c)for(var i in a)n.call(a,i)&&a[i]&&e.push(i)}}return e.join(" ")}e.exports?(t.default=t,e.exports=t):window.classNames=t}()}))},516410:(e,n,t)=>{function r(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===t&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}t.d(n,{default:()=>r})},102323:(e,n,t)=>{function r(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}t.d(n,{__rest:()=>r}),"function"==typeof SuppressedError&&SuppressedError},946966:(e,n,t)=>{t.d(n,{default:()=>o});var r=t(516410),o={wrapper:"EcosystemMultiAccounts_wrapper__VILBt",userCell:"EcosystemMultiAccounts_userCell__CT-qt",notifyNotOkWrapper:"EcosystemMultiAccounts_notifyNotOkWrapper__wy6A4",notifyNotOk:"EcosystemMultiAccounts_notifyNotOk__3Wtk5",inaccessible:"EcosystemMultiAccounts_inaccessible__6uj-m",addCell:"EcosystemMultiAccounts_addCell__y9cDW",hasAccountStyling:"EcosystemMultiAccounts_hasAccountStyling__QSCSh",avatarIcon:"EcosystemMultiAccounts_avatarIcon__dYsx7",addAvatar:"EcosystemMultiAccounts_addAvatar__JM6dy",userAvatarBadge:"EcosystemMultiAccounts_userAvatarBadge__enVoj",userAvatarBadgeEverBlocked:"EcosystemMultiAccounts_userAvatarBadgeEverBlocked__Ypb-4",userAvatarBadgeUnauth:"EcosystemMultiAccounts_userAvatarBadgeUnauth__WAKGJ",userAvatarBadgeBlocked:"EcosystemMultiAccounts_userAvatarBadgeBlocked__2g7kc",loadingAvatar:"EcosystemMultiAccounts_loadingAvatar__QUe6n",loadingAvatarSpinner:"EcosystemMultiAccounts_loadingAvatarSpinner__9ej2G",newLogo:"EcosystemMultiAccounts_newLogo__g6eUu",newLogoText:"EcosystemMultiAccounts_newLogoText__SiwI9",reload:"EcosystemMultiAccounts_reload__D6jC1"};(0,r.default)('.EcosystemMultiAccounts_wrapper__VILBt {\n  --macc_switcher--width: 300px;\n  --macc_backdrop_background: var(--vkui--color_background_content);\n  --macc_cell_background--hover: var(--vkui--color_background_secondary);\n\n  width: var(--macc_switcher--width);\n}\n\n.EcosystemMultiAccounts_wrapper__VILBt[data-is-ecoplate="true"] .EcosystemMultiAccounts_userCell__CT-qt {\n  padding: 0 16px;\n  padding: 0 var(--vkui--size_base_padding_horizontal--regular);\n}\n\n.EcosystemMultiAccounts_userCell__CT-qt {\n  padding: 0 16px;\n  font-size: 15px;\n  line-height: 20px;\n  -webkit-border-radius: 0;\n     -moz-border-radius: 0;\n          border-radius: 0;\n}\n\n.EcosystemMultiAccounts_userCell__CT-qt:hover {\n  background-color: var(--macc_cell_background--hover);\n}\n\n.EcosystemMultiAccounts_userCell__CT-qt .vkuiSimpleCell__subtitle {\n  white-space: normal;\n  color: #818c99;\n  color: var(--vkui--color_text_secondary);\n}\n\n.EcosystemMultiAccounts_notifyNotOkWrapper__wy6A4 {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  min-width: 24px;\n  min-height: 24px;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n     -moz-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n     -moz-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n\n.EcosystemMultiAccounts_notifyNotOk__3Wtk5 {\n  display: none;\n  padding: 12px;\n  color: #b8c1cc;\n  color: var(--vkui--color_icon_tertiary);\n  cursor: pointer;\n}\n\n.EcosystemMultiAccounts_notifyNotOk__3Wtk5.EcosystemMultiAccounts_inaccessible__6uj-m {\n  display: block;\n}\n\n.EcosystemMultiAccounts_notifyNotOk__3Wtk5:hover {\n  color: #818c99;\n  color: var(--vkui--color_icon_medium);\n}\n\n.EcosystemMultiAccounts_addCell__y9cDW {\n  min-height: 56px;\n  color: #2688eb;\n  color: var(--vkui--color_text_accent);\n}\n\n.EcosystemMultiAccounts_hasAccountStyling__QSCSh.EcosystemMultiAccounts_addCell__y9cDW {\n  min-height: revert;\n  color: #000;\n  color: var(--vkui--color_text_primary);\n}\n\n.EcosystemMultiAccounts_avatarIcon__dYsx7 {\n  color: #2688eb;\n  color: var(--vkui--color_icon_accent);\n}\n\n.EcosystemMultiAccounts_addAvatar__JM6dy {\n  background: #f5f5f5;\n  background: var(--vkui--color_background_secondary);\n}\n\n.EcosystemMultiAccounts_userCell__CT-qt:hover .EcosystemMultiAccounts_addAvatar__JM6dy {\n  background: var(--macc_backdrop_background);\n  color: #fff;\n  color: var(--vkui--color_background_content);\n}\n\n.EcosystemMultiAccounts_userAvatarBadge__enVoj {\n  background: var(--macc_backdrop_background);\n}\n\n.EcosystemMultiAccounts_userCell__CT-qt:hover .EcosystemMultiAccounts_notifyNotOk__3Wtk5 {\n  display: block;\n}\n\n.EcosystemMultiAccounts_userAvatarBadgeEverBlocked__Ypb-4 {\n  color: #e64646;\n  color: var(--vkui--color_background_negative);\n}\n\n.EcosystemMultiAccounts_userAvatarBadgeUnauth__WAKGJ {\n  color: #ffa000;\n  color: var(--vkui--color_accent_orange);\n}\n\n.EcosystemMultiAccounts_userAvatarBadgeBlocked__2g7kc {\n  color: #e64646;\n  color: var(--vkui--color_background_negative);\n}\n\n.EcosystemMultiAccounts_loadingAvatar__QUe6n {\n  width: 40px;\n  height: 40px;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n     -moz-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n     -moz-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-right: 12px;\n}\n\n.EcosystemMultiAccounts_loadingAvatarSpinner__9ej2G {\n  color: #2688eb;\n  color: var(--vkui--color_icon_accent);\n}\n\n.EcosystemMultiAccounts_newLogo__g6eUu {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n     -moz-box-orient: vertical;\n     -moz-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n     -moz-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n     -moz-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-border-radius: 12px;\n     -moz-border-radius: 12px;\n          border-radius: 12px;\n  background: #2688eb;\n  background: var(--vkui--color_background_accent, #2688EB);\n}\n\n.EcosystemMultiAccounts_newLogoText__SiwI9 {\n  color: #fff;\n  color: var(--vkui--color_text_contrast);\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: 18px;\n  padding: 2px 6px;\n}\n\n.EcosystemMultiAccounts_reload__D6jC1 {\n  -webkit-border-radius: 0;\n     -moz-border-radius: 0;\n          border-radius: 0;\n  min-height: 56px;\n}\n')},255115:(e,n,t)=>{t.d(n,{EcosystemMultiAccounts:()=>M});var r=t(102323),o=t(474848),a=t(94542),c=t(753457),s=t(296540),i=t(526966),u=t(595630),l=t(939049),_=t(285318),d=t(803491),v=t(430226),k=t(340399),f=t(566217),p=t(208839),m=t(661762),h=t(825782),g=t(711475),y=t(713013),b=t(780910),A=t(336078),E=t(87819),x=t(946966),w={hasAvatar:!0,hasName:!0,hasContactInfo:!0,hasTopSeparator:!0,hasBottomSeparator:!1,hasNewLabel:!1,maxAccounts:2},C={width:"300px",cellHoverBackground:"var(--vkui--color_transparent--hover)",backdropBackground:"var(--vkui--color_background_modal)",hasAccountStyling:!1,insideNewEcosystemMenu:!1},S=function(e){var n,t,r,_=(0,b.useApiRequestProviderContext)(),v=_.data,m=_.loading,y=_.apiRequest,E=_.fetchData,S=_.failed,M=(0,k.useQueueProviderContextInterface)(),N=M.handleUsersUpdate,T=M.handlePageRefresh,I=(0,s.useState)(m),D=I[0],P=I[1],U=(0,s.useState)([]),j=U[0],R=U[1],L=(0,s.useState)(!1),O=L[0],B=L[1],z=(0,g.useTabBroadcast)({name:"multiaccounts",handleMessage:function(n){var t,r,o,a,c,s;n&&(null===(t=e.config)||void 0===t?void 0:t.userId)&&n.user_id!==e.config.userId&&((null===(r=e.config)||void 0===r?void 0:r.afterAccountChange)&&(null===(o=e.config)||void 0===o||o.afterAccountChange()),(null===(a=e.config)||void 0===a?void 0:a.afterAccountChangeHref)?(null===(c=e.config)||void 0===c?void 0:c.redirectTo)&&((0,l.shouldSkipRedirect)(null===(s=e.config)||void 0===s?void 0:s.redirectTo)?window.location.reload():window.location.replace(e.config.afterAccountChangeHref)):window.location.reload())}}),F=z.postMessage,X=Object.assign(Object.assign({},w),e.config),V=Object.assign(Object.assign({},C),e.styles),H={"--macc_switcher--width":V.width,"--macc_backdrop_background":V.backdropBackground,"--macc_cell_background--hover":V.cellHoverBackground},q=!X.hasAvatar,K=!X.hasName,G=!X.hasContactInfo,Q=(0,d.useEcosystemMultiAccountsNotificationsProviderContext)().notifications;(0,s.useEffect)((function(){var n;(null===(n=e.config)||void 0===n?void 0:n.userId)&&F({user_id:e.config.userId})}),[null===(n=e.config)||void 0===n?void 0:n.userId]),(0,s.useEffect)((function(){P(m||e.disabled)}),[m,e.disabled]),(0,s.useEffect)((function(){m||R((null==v?void 0:v.response)||[])}),[v,m]);var W=(0,s.useCallback)((function(n){P(!0),e.onAccountClick(n)}),[P,e.onAccountClick]);(0,s.useEffect)((function(){var e=null==v?void 0:v.response,n=(0,f.isLoginError)(e);if(B(n),n&&X.onSwitcherFail&&(null==X||X.onSwitcherFail()),!n&&(0,a.difference)(null==v?void 0:v.response,j)&&e){var t=[];e.forEach((function(e){e.status!==f.UserStatuses.OK||e.is_ads_account||t.push({userId:e.user_id,accessToken:e.access_token})}));N(t,(function(){E(!1)})),T(t)}}),[v]);var Y=(0,s.useCallback)((function(n){P(!0);var t={user_hash:n.user_hash,user_id:n.user_id};return y("remove_account",t).then((function(){var r=(0,h.makeParams)(t),o=X.vkDomain?"https://"+X.vkDomain+"/login":p.VK_LOGIN_HOST;fetch(o+"?act=remove_account&"+r,{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(){R(j.filter((function(e){return e.user_id!==n.user_id}))),e.onAccountDelete&&e.onAccountDelete(n)})).catch((function(e){console.log(e)})).finally((function(){P(!1)}))})).catch((function(e){console.log(e)})).finally((function(){P(!1)}))}),[j,e.onAccountDelete,R]);return(0,o.jsxs)("div",{style:H,className:x.default.wrapper,"data-is-ecoplate":null===(t=null==e?void 0:e.styles)||void 0===t?void 0:t.insideNewEcosystemMenu,children:[X.hasTopSeparator&&function(){var n;return(null===(n=e.styles)||void 0===n?void 0:n.insideNewEcosystemMenu)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.Separator,{}),j&&j.length>0?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(c.Header,{children:(0,o.jsx)(A.default,{lang:"vkconnect_sak_ecoplate_multiaccount_section_title"})})}):(0,o.jsx)(c.Spacing,{size:5})]}):(0,o.jsx)(c.Spacing,{size:16,children:(0,o.jsx)(c.Separator,{})})}(),function(){var n,t,r,a,s,l;return m?(0,o.jsxs)(o.Fragment,{children:[(null===(n=e.styles)||void 0===n?void 0:n.insideNewEcosystemMenu)&&(0,o.jsx)(u.EcosystemMultiAccountSectionSkeleton,{}),!(null===(t=e.styles)||void 0===t?void 0:t.insideNewEcosystemMenu)&&(0,o.jsx)(u.EcosystemMultiAccountSkeleton,{}),(0,o.jsx)(u.EcosystemMultiAccountSkeleton,{insideEcoPlate:null===(r=e.styles)||void 0===r?void 0:r.insideNewEcosystemMenu}),(0,o.jsx)(u.EcosystemMultiAccountSkeleton,{insideEcoPlate:null===(a=e.styles)||void 0===a?void 0:a.insideNewEcosystemMenu})]}):O||S?(0,o.jsx)(c.CellButton,{centered:!0,className:x.default.reload,onClick:function(){return E()},children:(0,o.jsx)(A.default,{lang:"vkconnect_sak_ecosystem_menu_vkconnect_retry"})}):(0,o.jsxs)(o.Fragment,{children:[j&&j.map((function(e){return(0,o.jsx)(i.EcosystemMultiAccount,{notifications:Q[e.user_id],user:e,hideAvatar:q,hideName:K,hideContactInfo:G,onAccountClick:W,onAccountDelete:Y,isDisabled:D},e.user_id)})),(!j||j.length<X.maxAccounts)&&(0,o.jsx)(i.EcosystemMultiAccountAdd,{onAccountAdd:e.onAccountAdd,isDisabled:D,isLoading:e.isLoading,hasNewLabel:X.hasNewLabel,hasAccountStyling:(null===(s=e.styles)||void 0===s?void 0:s.hasAccountStyling)&&0===j.length,isNewEcoPlate:null===(l=e.styles)||void 0===l?void 0:l.insideNewEcosystemMenu})]})}(),X.hasBottomSeparator&&!((null===(r=e.styles)||void 0===r?void 0:r.hasAccountStyling)&&0===j.length)&&(0,o.jsx)(c.Spacing,{size:16,children:(0,o.jsx)(c.Separator,{})})]})},M=function(e){var n=e.appId,t=e.onLoginRequest,a=e.onApiRequest,c=e.getLang,s=e.config,i=(0,r.__rest)(e,["appId","onLoginRequest","onApiRequest","getLang","config"]);return(0,o.jsx)(y.ApiRequestProvider,{apiMethod:"get_accounts",apiRequest:t,appId:n,children:(0,o.jsx)(v.QueueProvider,{onApiRequest:a,userId:Number(null==s?void 0:s.userId),afterChangeLink:null==s?void 0:s.afterAccountChangeHref,isDev:null==s?void 0:s.isDev,children:(0,o.jsx)(_.EcosystemMultiAccountsNotificationsProvider,{children:(0,o.jsx)(E.default,{getLang:c||m.getEcosystemMultiAccountsLangs,children:(0,o.jsx)(S,Object.assign({config:s},i))})})})})};M.defaultProps={config:w,styles:C,getLang:m.getEcosystemMultiAccountsLangs}},526966:(e,n,t)=>{t.d(n,{EcosystemMultiAccount:()=>k,EcosystemMultiAccountAdd:()=>f});var r=t(474848),o=t(105997),a=t(884945),c=t(618719),s=t(753457),i=t(296540),u=t(822195),l=t(867446),_=t(208839),d=t(336078),v=t(946966),k=(0,i.memo)((function(e){var n,t=e.user,a=e.hideAvatar,d=e.hideName,k=e.hideContactInfo,f=e.onAccountClick,p=e.onAccountDelete,m=e.notifications,h=e.isDisabled,g=t.first_name,y=t.last_name,b=t.is_celebrity,A=t.status_description,E=t.status,x=t.photo,w=g+" "+y,C=t.masked_login.replace(/&nbsp;/g," ").replace(/\*/g,"·");b&&(w=g,n=(0,r.jsx)(o.Icon12Verified,{}));var S=_.MULTIACCOUNT_UNACCESIBLE_STATUSES.includes(E)?"removable":"simple",M=(0,i.useCallback)((function(){"simple"===S&&f(t)}),[t,f]),N=(0,i.useCallback)((function(e){e.stopPropagation(),p(t)}),[t,p]);return(0,r.jsx)(s.SimpleCell,{hasActive:"removable"!==S,hasHover:!1,badgeAfterTitle:!d&&n,before:!a&&(0,r.jsx)(l.EcosystemMultiAccountAvatar,{src:x,userStatus:E}),subtitle:(0,r.jsx)(s.Caption,{level:"1",children:!k&&((0,c.decodeHTMLEntities)(A)||C)}),onClick:M,className:v.default.userCell,after:(0,r.jsx)(u.EcosystemMultiAccountNotify,{onDelete:N,cellMode:S,count:m,userStatus:E,isDisabled:h}),disabled:h,children:!d&&w})})),f=(0,i.memo)((function(e){var n,t=e.onAccountAdd,o=e.isDisabled,c=e.isLoading,i=e.hasNewLabel,u=e.hasAccountStyling,l=e.isNewEcoPlate;return(0,r.jsx)(s.SimpleCell,{hasHover:!1,className:(0,s.classNames)(v.default.userCell,(n={},n[v.default.hasAccountStyling]=u,n),v.default.addCell),before:u?c?(0,r.jsx)(s.Spinner,{}):(0,r.jsx)(a.Icon28AddOutline,{}):c?(0,r.jsx)("div",{className:v.default.loadingAvatar,children:(0,r.jsx)(s.Spinner,{className:v.default.loadingAvatarSpinner,size:"regular"})}):(0,r.jsx)(s.Avatar,{size:40,noBorder:l,className:v.default.addAvatar,children:(0,r.jsx)(a.Icon28AddOutline,{className:v.default.avatarIcon,width:22,height:22})}),after:i?(0,r.jsx)("div",{className:v.default.newLogo,children:(0,r.jsx)("span",{className:v.default.newLogoText,children:"New"})}):null,onClick:function(){t()},disabled:o||c,children:(0,r.jsx)(d.default,{lang:"vkconnect_sak_multiacc_add_account"})})}))},822195:(e,n,t)=>{t.d(n,{EcosystemMultiAccountNotify:()=>_});var r=t(474848),o=t(423332),a=t(753457),c=t(154087),s=t(296540),i=t(566217),u=t(87819),l=t(946966),_=(0,s.memo)((function(e){var n,t=e.count,s=e.userStatus,_=e.onDelete,d=e.isDisabled,v=e.cellMode,k=(0,u.useLangProviderContext)().getLang;return s===i.UserStatuses.OK?t?(0,r.jsx)(a.Counter,{size:"s",mode:"prominent",children:t>99?"99+":t}):null:(0,r.jsx)("div",{className:l.default.notifyNotOkWrapper,children:(0,r.jsx)(a.IconButton,{hasHover:!1,hasActive:!1,className:(0,c.default)(l.default.notifyNotOk,(n={},n[l.default.inaccessible]="removable"===v,n)),onClick:_,disabled:d,"aria-label":k("vkconnect_sak_multiacc_delete_account"),children:(0,r.jsx)(o.Icon20Clear,{width:20,height:20})})})}))},867446:(e,n,t)=>{t.d(n,{EcosystemMultiAccountAvatar:()=>_});var r=t(474848),o=t(807566),a=t(370095),c=t(272216),s=t(753457),i=t(296540),u=t(566217),l=t(946966),_=(0,i.memo)((function(e){var n=e.src,t=null;switch(e.userStatus){case u.UserStatuses.DEACTIVATED:case u.UserStatuses.DEACTIVATED_FULL:case u.UserStatuses.BANNED:case u.UserStatuses.BANNED_FOREVER:t=(0,r.jsx)(o.Icon12Block,{className:l.default.userAvatarBadgeBlocked,width:12,height:12});break;case u.UserStatuses.NEED_REAUTH:t=(0,r.jsx)(a.Icon12ErrorCircleFillYellow,{className:l.default.userAvatarBadgeUnauth,width:12,height:12});break;default:t=null}return n?(0,r.jsx)(s.Avatar,{src:n,size:40,children:t&&(0,r.jsx)(s.Avatar.Badge,{className:l.default.userAvatarBadge,background:"stroke",children:t})}):(0,r.jsxs)(s.Avatar,{size:40,children:[t&&(0,r.jsx)(s.Avatar.Badge,{className:l.default.userAvatarBadge,background:"stroke",children:t}),(0,r.jsx)(c.Icon24User,{})]})}))},208027:(e,n,t)=>{t.d(n,{default:()=>o});var r=t(516410),o={skeletonCell:"EcosystemMultiAccountSkeleton_skeletonCell__4RdGE",skeletonSection:"EcosystemMultiAccountSkeleton_skeletonSection__a1XPZ",skeleton:"EcosystemMultiAccountSkeleton_skeleton__s5xnr","skeleton-blink":"EcosystemMultiAccountSkeleton_skeleton-blink__Dm9eD",skeletonAvatar:"EcosystemMultiAccountSkeleton_skeletonAvatar__XYKXR",skeletonContent:"EcosystemMultiAccountSkeleton_skeletonContent__xahxI",skeletonUserName:"EcosystemMultiAccountSkeleton_skeletonUserName__XLs6f",skeletonDescription:"EcosystemMultiAccountSkeleton_skeletonDescription__23hwG",skeletonNotify:"EcosystemMultiAccountSkeleton_skeletonNotify__QAZiv"};(0,r.default)('@-webkit-keyframes EcosystemMultiAccountSkeleton_skeleton-blink__Dm9eD {\n  0% {\n    -webkit-transform: translateX(-100%);\n            transform: translateX(-100%);\n  }\n\n  60% {\n    -webkit-transform: translateX(-100%);\n            transform: translateX(-100%);\n  }\n\n  100% {\n    -webkit-transform: translateX(100%);\n            transform: translateX(100%);\n  }\n}\n\n@-moz-keyframes EcosystemMultiAccountSkeleton_skeleton-blink__Dm9eD {\n  0% {\n    -moz-transform: translateX(-100%);\n         transform: translateX(-100%);\n  }\n\n  60% {\n    -moz-transform: translateX(-100%);\n         transform: translateX(-100%);\n  }\n\n  100% {\n    -moz-transform: translateX(100%);\n         transform: translateX(100%);\n  }\n}\n\n@-o-keyframes EcosystemMultiAccountSkeleton_skeleton-blink__Dm9eD {\n  0% {\n    -o-transform: translateX(-100%);\n       transform: translateX(-100%);\n  }\n\n  60% {\n    -o-transform: translateX(-100%);\n       transform: translateX(-100%);\n  }\n\n  100% {\n    -o-transform: translateX(100%);\n       transform: translateX(100%);\n  }\n}\n\n@keyframes EcosystemMultiAccountSkeleton_skeleton-blink__Dm9eD {\n  0% {\n    -webkit-transform: translateX(-100%);\n       -moz-transform: translateX(-100%);\n         -o-transform: translateX(-100%);\n            transform: translateX(-100%);\n  }\n\n  60% {\n    -webkit-transform: translateX(-100%);\n       -moz-transform: translateX(-100%);\n         -o-transform: translateX(-100%);\n            transform: translateX(-100%);\n  }\n\n  100% {\n    -webkit-transform: translateX(100%);\n       -moz-transform: translateX(100%);\n         -o-transform: translateX(100%);\n            transform: translateX(100%);\n  }\n}\n\n.EcosystemMultiAccountSkeleton_skeletonCell__4RdGE {\n  position: relative;\n  overflow: hidden;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 0 16px;\n  padding: 0 var(--vkui--size_base_padding_horizontal--regular,16px);\n  height: 56px;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n     -moz-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n\n.EcosystemMultiAccountSkeleton_skeletonCell__4RdGE.EcosystemMultiAccountSkeleton_skeletonSection__a1XPZ {\n  height: 36px;\n}\n\n.EcosystemMultiAccountSkeleton_skeleton__s5xnr {\n  top: 0;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  background: -webkit-gradient(linear, left top, right top, from(transparent), color-stop(#fff), to(transparent));\n  background: -webkit-gradient(linear, left top, right top, from(transparent), color-stop(var(--vkui--color_background_content)), to(transparent));\n  background: -webkit-linear-gradient(left, transparent, #fff, transparent);\n  background: -webkit-linear-gradient(left, transparent, var(--vkui--color_background_content), transparent);\n  background: -moz-linear-gradient(left, transparent, #fff, transparent);\n  background: -moz-linear-gradient(left, transparent, var(--vkui--color_background_content), transparent);\n  background: -o-linear-gradient(left, transparent, #fff, transparent);\n  background: -o-linear-gradient(left, transparent, var(--vkui--color_background_content), transparent);\n  background: linear-gradient(90deg, transparent, #fff, transparent);\n  background: linear-gradient(90deg, transparent, var(--vkui--color_background_content), transparent);\n  -webkit-animation: EcosystemMultiAccountSkeleton_skeleton-blink__Dm9eD 2s cubic-bezier(0.4, 0, 0.2, 1) infinite;\n     -moz-animation: EcosystemMultiAccountSkeleton_skeleton-blink__Dm9eD 2s cubic-bezier(0.4, 0, 0.2, 1) infinite;\n       -o-animation: EcosystemMultiAccountSkeleton_skeleton-blink__Dm9eD 2s cubic-bezier(0.4, 0, 0.2, 1) infinite;\n          animation: EcosystemMultiAccountSkeleton_skeleton-blink__Dm9eD 2s cubic-bezier(0.4, 0, 0.2, 1) infinite;\n  opacity: 0.7;\n  z-index: 1;\n}\n\n.EcosystemMultiAccountSkeleton_skeletonAvatar__XYKXR {\n  aspect-ratio: 1/1;\n  width: 40px;\n  height: 40px;\n  margin-right: 12px;\n  -webkit-border-radius: 50%;\n     -moz-border-radius: 50%;\n          border-radius: 50%;\n  background-color: #f5f5f5;\n  background-color: var(--vkui--color_background_secondary);\n}\n\n.EcosystemMultiAccountSkeleton_skeletonContent__xahxI {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -moz-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n     -moz-box-orient: vertical;\n     -moz-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  padding: 13px 0;\n  margin-right: 12px;\n  -webkit-box-flex: 1;\n  -webkit-flex-grow: 1;\n     -moz-box-flex: 1;\n      -ms-flex-positive: 1;\n          flex-grow: 1;\n}\n\n.EcosystemMultiAccountSkeleton_skeletonSection__a1XPZ.EcosystemMultiAccountSkeleton_skeletonUserName__XLs6f {\n  margin-bottom: 0;\n}\n\n.EcosystemMultiAccountSkeleton_skeletonUserName__XLs6f {\n  width: 140px;\n  height: 12px;\n  margin-bottom: 10px;\n  -webkit-border-radius: 4px;\n     -moz-border-radius: 4px;\n          border-radius: 4px;\n  background-color: #f5f5f5;\n  background-color: var(--vkui--color_background_secondary);\n}\n\n.EcosystemMultiAccountSkeleton_skeletonDescription__23hwG {\n  width: 100px;\n  height: 8px;\n  background-color: #f5f5f5;\n  background-color: var(--vkui--color_background_secondary);\n  -webkit-border-radius: 3px;\n     -moz-border-radius: 3px;\n          border-radius: 3px;\n}\n\n.EcosystemMultiAccountSkeleton_skeletonNotify__QAZiv {\n  aspect-ratio: 1/1;\n  width: 20px;\n  height: 20px;\n  -webkit-border-radius: 50%;\n     -moz-border-radius: 50%;\n          border-radius: 50%;\n  background-color: #f5f5f5;\n  background-color: var(--vkui--color_background_secondary);\n}\n\n.EcosystemMultiAccountSkeleton_skeletonCell__4RdGE[data-is-ecoplate="true"] .EcosystemMultiAccountSkeleton_skeletonNotify__QAZiv {\n  display: none;\n}\n')},595630:(e,n,t)=>{t.d(n,{EcosystemMultiAccountSectionSkeleton:()=>s,EcosystemMultiAccountSkeleton:()=>c});var r=t(474848),o=t(753457),a=t(208027),c=function(e){var n=e.insideEcoPlate;return(0,r.jsxs)("div",{className:a.default.skeletonCell,"data-is-ecoplate":n,children:[(0,r.jsx)("div",{className:a.default.skeleton}),(0,r.jsx)("div",{className:a.default.skeletonAvatar}),(0,r.jsxs)("div",{className:a.default.skeletonContent,children:[(0,r.jsx)("div",{className:a.default.skeletonUserName}),(0,r.jsx)("div",{className:a.default.skeletonDescription})]}),(0,r.jsx)("div",{className:a.default.skeletonNotify})]})},s=function(){return(0,r.jsx)("div",{className:(0,o.classNames)(a.default.skeletonSection,a.default.skeletonCell),children:(0,r.jsx)("div",{className:(0,o.classNames)(a.default.skeletonSection,a.default.skeletonUserName)})})}},939049:(e,n,t)=>{t.d(n,{addMainUserToQueue:()=>o,getCookieByName:()=>r,shouldSkipRedirect:()=>a});var r=function(e,n){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)")),r=t?t[2]:"";if(r.length&&n){var o=new RegExp(n+".*$","g");r=r.replace(o,""),console.log(r)}return r},o=function(e,n,t){return n&&!t?[].concat(e,[{userId:n,accessToken:""}]):[].concat(e)},a=function(e){var n=!1,t=new URL(location.href);return null==e||e.every((function(e){return!t.pathname.includes(e)||(n=!0,!1)})),n}},285318:(e,n,t)=>{t.d(n,{EcosystemMultiAccountsNotificationsProvider:()=>u});var r=t(474848),o=t(296540),a=t(803491),c=t(340399),s=t(566217),i=t(780910),u=function(e){var n=e.children,t=e.disabled,u=(0,o.useState)({}),l=u[0],_=u[1],d=(0,o.useState)(!0),v=d[0],k=d[1],f=(0,i.useApiRequestProviderContext)(),p=f.data,m=f.apiRequest,h=(0,c.useQueueProviderContextInterface)().handleCountersUpdate;function g(){return m("get_unread_notifications",{from:"switcher"}).then((function(e){_(e);var n=[];null==p||p.response.forEach((function(e){e.status!==s.UserStatuses.OK||e.is_ads_account||n.push({userId:e.user_id,accessToken:e.access_token})}));return n.length&&h(n,(function(e){e!==l&&_((function(n){return Object.assign(Object.assign({},n),e)}))})),Promise.resolve()})).catch((function(e){return console.error(e),Promise.reject()}))}function y(){k("visible"===document.visibilityState)}return(0,o.useEffect)((function(){(null==p?void 0:p.response.length)&&g()}),[p]),(0,o.useEffect)((function(){return document.addEventListener("visibilitychange",y),function(){document.removeEventListener("visibilitychange",y)}}),[v,t]),(0,r.jsx)(a.EcosystemMultiAccountsNotificationsProviderContext.Provider,{value:{fetchNotifications:g,notifications:l},children:n})}},803491:(e,n,t)=>{t.d(n,{EcosystemMultiAccountsNotificationsProviderContext:()=>o,useEcosystemMultiAccountsNotificationsProviderContext:()=>a});var r=t(296540),o=(0,r.createContext)({notifications:{},fetchNotifications:function(){return Promise.resolve()}});function a(){return(0,r.useContext)(o)}},430226:(e,n,t)=>{t.d(n,{QueueProvider:()=>l});var r=t(474848),o=t(296540),a=t(939049),c=t(340399),s=t(313273),i=t(566217),u=t(780910),l=function(e){var n,t=(0,o.useRef)({}),l=(0,o.useRef)(!1),_=(0,o.useRef)(!1),d=(0,o.useRef)([]),v=(0,o.useRef)({}),k=(0,u.useApiRequestProviderContext)(),f=k.data,p=k.fetchData,m=function(){_.current=!1,d.current.forEach((function(e){t.current[e.userId].statusActive=!1,n&&n()}))},h=function(e){var r=t.current[e],o=r.ts,a=r.baseUrl,c=r.key;return n=function(){!function(e){var n=t.current[e],r=n.ts,o=n.baseUrl,a=n.key;fetch(o+"?act=a_release&key="+a+"&id="+e+"&ts="+r+"&wait=30").catch((function(e){return console.warn("[QueueProvider]: caught on unsubscribe",e)}))}(e),n=function(){}},fetch(a+"?act=a_check&key="+c+"&id="+e+"&ts="+o+"&wait=30").then((function(e){return e.json()})).catch((function(){_.current=!1}))},g=function(e){if(e){var n=v.current[s.EventTypes.UPDATE_COUNTER],t=v.current[s.EventTypes.PAGE_REFRESH];"counter"in e&&null!=e.counter&&n&&(n.counters[e.userId]=e.counter,n.setCounters(n.counters)),"http_referer"in e&&null!==e.http_referer&&t&&t.pageRefresh({unauth_id:e.unauth_id,http_referer:e.http_referer})}else{var r=v.current[s.EventTypes.UPDATE_ACCOUNT_INFO];r&&r.setAccountInfo()}},y=function e(n){h(n).then((function(r){if(!t.current[n]||t.current[n].statusActive){if(!(null==r?void 0:r.ts))return m(),void console.info("No next ts");t.current[n].ts=r.ts,e(n);var o=r.events;if(o.length){var a=r.events[o.length-1].data;switch(a.type){case s.EventTypes.UPDATE_COUNTER:g({userId:n,counter:a.value});break;case s.EventTypes.UPDATE_ACCOUNT_INFO:g();break;case s.EventTypes.PAGE_REFRESH:g({unauth_id:a.unauth_id,http_referer:a.http_referer});break;default:console.error("Event type not exist")}}}}))},b=function(){if(_.current)return Promise.resolve();var n=[];return d.current.forEach((function(r){var o=r.userId,a=r.accessToken;t.current[o]&&t.current[o].statusActive||(t.current[o]={},n.push(e.onApiRequest("queue.subscribe",{queue_ids:"multiaccount_"+o},Object.assign({grouping:!1},a?{accessToken:a}:{})).then((function(e){var n=e.base_url,r=e.queues,a=r&&r[0];if(!a)throw new Error("No queue to subscribe");return t.current[o].baseUrl=n,t.current[o].key=a.key,t.current[o].ts=a.timestamp,y(o),t.current[o].statusActive=!0,!0})).catch((function(n){e.userId===o&&5===n.error.error_code&&(e.afterChangeLink?window.location.replace(e.afterChangeLink):window.location.reload()),t.current[o].statusActive=!1,console.error(n),_.current=!1}))))})),Promise.all(n).then((function(){_.current=!0})).catch((function(e){throw d.current.length=0,e}))},A=function(e){var n;return d.current.length?Promise.resolve():((n=d.current).push.apply(n,e),b().catch((function(e){throw e})))},E=function(e){if(d.current.length){var n=function(){_.current||(m(),b().catch((function(n){if(5===n.error.error_code)return e().then((function(e){A(e)}))})))};l.current||(l.current=!0,window.addEventListener("online",n),setInterval(n,15e3))}},x=function(){return p().then((function(){var n=[];return null==f||f.response.forEach((function(e){e.status!==i.UserStatuses.OK||e.is_ads_account||n.push({userId:e.user_id,accessToken:e.access_token})})),e.userId&&n.push({userId:e.userId,accessToken:""}),n}))},w=function(e,n){switch(e){case s.EventTypes.UPDATE_COUNTER:v.current[s.EventTypes.UPDATE_COUNTER]={counters:{},setCounters:n};break;case s.EventTypes.UPDATE_ACCOUNT_INFO:v.current[s.EventTypes.UPDATE_ACCOUNT_INFO]={setAccountInfo:n};break;case s.EventTypes.PAGE_REFRESH:v.current[s.EventTypes.PAGE_REFRESH]={pageRefresh:n};break;default:console.warn("[QueueProvider]: Event type not handled",e)}},C=function(e){var n,t,r;switch(e){case s.EventTypes.UPDATE_COUNTER:return!(null===(n=v.current[s.EventTypes.UPDATE_COUNTER])||void 0===n?void 0:n.setCounters);case s.EventTypes.UPDATE_ACCOUNT_INFO:return!(null===(t=v.current[s.EventTypes.UPDATE_ACCOUNT_INFO])||void 0===t?void 0:t.setAccountInfo);case s.EventTypes.PAGE_REFRESH:return!(null===(r=v.current[s.EventTypes.PAGE_REFRESH])||void 0===r?void 0:r.pageRefresh);default:console.warn("[QueueProvider]: Event type not handled",e)}};return(0,r.jsx)(c.QueueProviderContext.Provider,{value:{handleCountersUpdate:function n(t,r,o){if(!e.isDev){C(s.EventTypes.UPDATE_COUNTER)&&w(s.EventTypes.UPDATE_COUNTER,r);var c=(0,a.addMainUserToQueue)(t,e.userId,o);A(c).then((function(){E(x)})).catch((function(e){5===e.error.error_code&&x().then((function(e){n(e,r,!0)}))}))}},handleUsersUpdate:function n(t,r,o){if(!e.isDev){C(s.EventTypes.UPDATE_ACCOUNT_INFO)&&w(s.EventTypes.UPDATE_ACCOUNT_INFO,r);var c=(0,a.addMainUserToQueue)(t,e.userId,o);A(c).then((function(){E(x)})).catch((function(e){5===e.error.error_code&&x().then((function(e){n(e,r,!0)}))}))}},handlePageRefresh:function n(t,r){if(!e.isDev){C(s.EventTypes.PAGE_REFRESH)&&w(s.EventTypes.PAGE_REFRESH,(function(n){var t=(0,a.getCookieByName)("remixstlid","_");t&&t===n.unauth_id&&location.origin!==n.http_referer&&(e.afterChangeLink?window.location.replace(e.afterChangeLink):window.location.reload())}));var o=(0,a.addMainUserToQueue)(t,e.userId,r);A(o).then((function(){E(x)})).catch((function(e){5===e.error.error_code&&x().then((function(e){n(e,!0)}))}))}}},children:e.children})}},340399:(e,n,t)=>{t.d(n,{QueueProviderContext:()=>o,useQueueProviderContextInterface:()=>a});var r=t(296540),o=(0,r.createContext)({handleCountersUpdate:function(){console.log("Counters Handler is undefined")},handleUsersUpdate:function(){console.log("Users Update Handler is undefined")},handlePageRefresh:function(){console.log("Page Refresh Handler is undefined")}});function a(){return(0,r.useContext)(o)}},313273:(e,n,t)=>{var r;t.d(n,{EventTypes:()=>r}),function(e){e.UPDATE_COUNTER="update_counter",e.UPDATE_ACCOUNT_INFO="update_account_info",e.PAGE_REFRESH="update_switcher"}(r||(r={}))},566217:(e,n,t)=>{var r;function o(e){return!!(e&&e.type&&["network_error","login_error"].includes(e.type))}t.d(n,{UserStatuses:()=>r,isLoginError:()=>o}),function(e){e[e.OK=0]="OK",e[e.NEED_REAUTH=1]="NEED_REAUTH",e[e.DEACTIVATED=2]="DEACTIVATED",e[e.DEACTIVATED_FULL=3]="DEACTIVATED_FULL",e[e.BANNED=4]="BANNED",e[e.BANNED_FOREVER=5]="BANNED_FOREVER"}(r||(r={}))},208839:(e,n,t)=>{t.d(n,{BASE_DOMAIN:()=>c,DEFAULT_TAB_BROADCAST_PREFIX:()=>u,MAX_INT32:()=>a,MULTIACCOUNT_UNACCESIBLE_STATUSES:()=>i,VK_API_VERSION:()=>o,VK_LOGIN_HOST:()=>s});var r=t(566217),o="5.163",a=2147483647,c="vk.com",s="https://"+c+"/login",i=[r.UserStatuses.BANNED_FOREVER,r.UserStatuses.DEACTIVATED_FULL],u="vkid"},661762:(e,n,t)=>{t.d(n,{getCuaLangs:()=>c,getEcoPlateLangs:()=>r,getEcosystemMultiAccountsLangs:()=>a,getEcosystemServicesNavigationLangs:()=>o});var r=function(e){switch(e){case"vkconnect_sak_ecoplate_vkid_control":return"Управление аккаунтом";case"vkconnect_sak_ecoplate_account_security_warning":return"Есть рекомендации по защите аккаунта";case"vkconnect_sak_ecoplate_account_security_danger":return"Защитите свой аккаунт";case"vkconnect_sak_ecoplate_menu_retry":return"Обновить";case"vkconnect_sak_ecoplate_load_error":return"Ошибка загрузки"}return""},o=function(e){switch(e){case"vkconnect_sak_ecosystem_nav_services_title":return"Сервисы VK";case"vkconnect_sak_ecosystem_nav_more":return"Ещё";case"vkconnect_sak_ecosystem_menu_vkconnect_retry":return"Повторить попытку"}return""},a=function(e){switch(e){case"vkconnect_sak_multiacc_add_account":return"Добавить аккаунт";case"vkconnect_sak_multiacc_delete_account":return"Удалить аккаунт из свитчера";case"vkconnect_sak_ecosystem_menu_vkconnect_retry":return"Повторить попытку";case"vkconnect_sak_ecoplate_multiaccount_section_title":return"Другие аккаунты VK ID";default:return""}},c=function(e){switch(e){case"vkconnect_sak_cua_change_method":return"Подтвердить другим способом";case"vkconnect_sak_cua_code_retry":return"Отправить код еще раз";case"vkconnect_sak_cua_nav_to_set_phone":return"Подтвердить по номеру телефона";case"vkconnect_sak_cua_methods_title_desktop":return"Выберите способ подтверждения";case"vkconnect_sak_cua_methods_title_mobile":return"Способы подтверждения";case"vkconnect_sak_cua_methods_description":return"Для защиты аккаунта необходимо убедиться, что совершить важное действие пытаетесь именно вы";case"vkconnect_sak_cua_methods_cell_push_title":return"Уведомление на устройство";case"vkconnect_sak_cua_methods_cell_push_description":return"Получить push-уведомление на привязанное устройство";case"vkconnect_sak_cua_methods_cell_email_title":return"Электронная почта";case"vkconnect_sak_cua_methods_cell_email_description":return"Получить код на почту {value}";case"vkconnect_sak_cua_methods_cell_phone_title":return"Номер телефона";case"vkconnect_sak_cua_methods_cell_phone_description":return"Получить SMS или звонок-сброс на номер {value}";case"vkconnect_sak_cua_methods_cell_password_title":return"Пароль";case"vkconnect_sak_cua_methods_cell_password_description":return"Ввести пароль от аккаунта";case"vkconnect_sak_cua_code_call_title":return"Вам поступит звонок-сброс для подтверждения";case"vkconnect_sak_cua_code_call_description":return"Введите <b>последние 4 цифры номера</b>, с которого поступит звонок-сброс";case"vkconnect_sak_cua_code_call_timer":return"Звонок поступит в течение {timer}";case"vkconnect_sak_cua_code_retry_send":return"Запросить повторно";case"vkconnect_sak_cua_code_retry_send_call_reset":return"Запросить повторный звонок-сброс";case"vkconnect_sak_cua_code_sms_title":return"Введите код из SMS для подтверждения ";case"vkconnect_sak_cua_code_sms_description":return"SMS-сообщение отправлено на номер";case"vkconnect_sak_cua_phone_aria_label":return"начинающийся на {begin} и заканчивающийся на {end}";case"vkconnect_sak_cua_code_sms_timer":return"SMS придёт в течение {timer}";case"vkconnect_sak_cua_code_push_title":return"Введите код из уведомления для подтверждения";case"vkconnect_sak_cua_code_push_description":return"Push-уведомление отправлено на ваше устройство";case"vkconnect_sak_cua_code_push_timer":return"Код придёт в течение {timer}";case"vkconnect_sak_cua_code_push_description_aria_label":return"Пуш-уведомление отправлено на ваше устройство";case"vkconnect_sak_cua_code_email_title":return"Введите код из письма для подтверждения";case"vkconnect_sak_cua_code_email_description":return"Письмо отправлено на почту {email}";case"vkconnect_sak_cua_code_email_timer":return"Письмо с кодом придёт в течение {timer}";case"vkconnect_sak_cua_email_aria_label":return"начинающуюся на {begin} и заканчивающийся на {end}";case"vkconnect_sak_cua_password_title":return"Введите пароль для подтверждения";case"vkconnect_sak_cua_password_description_email":return"Пароль от аккаунта VK ID с почтой {email}";case"vkconnect_sak_cua_password_description_login":return"Пароль от аккаунта VK ID с логином {login}";case"vkconnect_sak_cua_password_description_phone":return"Пароль от аккаунта VK ID с номером {phone}";case"vkconnect_sak_cua_password_next_btn":case"vkconnect_sak_cua_set_phone_next_btn":case"vkconnect_sak_cua_set_email_next_btn":case"vkconnect_sak_cua_set_password_next_btn":return"Продолжить";case"vkconnect_sak_cua_password_restore":return"Забыли пароль?";case"vkconnect_sak_cua_password_view_aria_label":return"Показать пароль";case"vkconnect_sak_cua_password_hide_aria_label":return"Скрыть пароль";case"vkconnect_sak_cua_set_phone_title":return"Привяжите номер телефона для защиты аккаунта";case"vkconnect_sak_cua_set_phone_description":return"Введите <b>номер телефона</b>, который хотите привязать к своему аккаунту";case"vkconnect_sak_cua_set_email_title":return"Привяжите почту для защиты аккаунта";case"vkconnect_sak_cua_set_email_description":return"Введите почту, чтобы получать уведомления от сервисов VK и восстановить доступ к аккаунту при необходимости";case"vkconnect_sak_cua_set_email_input_placeholder":return"Введите почту";case"vkconnect_sak_cua_set_password_title":return"Придумайте новый пароль";case"vkconnect_sak_cua_set_password_description":return"Или используйте пароль, предложенный устройством";case"vkconnect_sak_cua_set_password_input_placeholder":return"Введите новый пароль";case"vkconnect_sak_cua_set_password_input_description":return"Минимум 8 символов — заглавные и строчные буквы, цифры и спецсимволы (! “ # $ % ‘ () *)";case"vkconnect_sak_cua_set_password_confirm_input_placeholder":return"Повторите новый пароль";case"vkconnect_sak_cua_set_password_checkbox_label":return"Выйти на всех устройствах, кроме текущего";case"vkconnect_sak_cua_set_password_weak_password_title":return"Слабый пароль";case"vkconnect_sak_cua_set_password_fair_password_title":return"Неплохой пароль";case"vkconnect_sak_cua_set_password_secure_password_title":return"Надёжный пароль";case"vkconnect_sak_cua_set_password_different_passwords_error":return"Пароли не совпадают";case"vkconnect_sak_cua_error_incorrect_code":return"Неверный код";case"vkconnect_sak_cua_error_incorrect_password":return"Неверный пароль";case"vkconnect_sak_cua_error_default_btn_text":return"Закрыть";case"vkconnect_sak_cua_error_internal_header":case"vkconnect_sak_cua_error_phone_validate_used_last_bind_header":return"Ошибка";case"vkconnect_sak_cua_error_internal_text":return"Что-то пошло не так.";case"vkconnect_sak_cua_error_flood_header":case"vkconnect_sak_cua_error_try_resend_header":return"Лимит запросов исчерпан";case"vkconnect_sak_cua_error_flood_text":case"vkconnect_sak_cua_error_try_resend_text":return"Вы запросили или ввели код слишком много раз подряд. Попробуйте снова позже.";case"vkconnect_sak_cua_error_password_flood_header":return"Исчерпан лимит попыток ввода пароля";case"vkconnect_sak_cua_error_password_flood_text":return"Вы ввели неверный пароль слишком много раз подряд. Повторите попытку позже.";case"vkconnect_sak_cua_error_password_minimum_length":return"Пароль должен быть не короче 6 символов";case"vkconnect_sak_cua_error_password_bad_passwword":return"Указан неверный пароль";case"vkconnect_sak_cua_error_password_compromised_password":return"Ваш пароль был скомпрометирован";case"vkconnect_sak_cua_error_password_numeric_password":return"Пароль слишком простой";case"vkconnect_sak_cua_error_password_long_password":return"Пароль должен быть не более 1024 символов";case"vkconnect_sak_cua_error_password_not_herdening":return"Этот пароль небезопасен";case"vkconnect_sak_cua_error_password_used_in_another_profile":return"Этот пароль не может быть использован";case"vkconnect_sak_cua_error_password_security_header":return"Ошибка доступа";case"vkconnect_sak_cua_error_password_security_text":return"Доступ запрещен";case"vkconnect_sak_cua_error_password_db_fail_header":return"Произошла ошибка";case"vkconnect_sak_cua_error_password_db_fail_text":return"Повторите операцию позже";case"vkconnect_sak_cua_error_password_alreadey_set_header":return"Этот пароль найден в открытом доступе";case"vkconnect_sak_cua_error_password_alreadey_set_text":return"Такой пароль небезопасен — его могут использовать злоумышленники. Установите другой.";case"vkconnect_sak_cua_error_password_alreadey_set_btn_text":return"Понятно";case"vkconnect_sak_cua_error_phone_validate_release_restristed_user_header":return"Невозможно изменить номер телефона";case"vkconnect_sak_cua_error_phone_validate_release_restristed_user_text":return"Обратитесь в поддержку, чтобы изменить номер, привязанный к вашему аккаунту";case"vkconnect_sak_cua_error_phone_validate_release_restristed_user_btn_use_phone":case"vkconnect_sak_cua_error_phone_validate_release_restristed_btn_use_phone":return"Использовать другой номер";case"vkconnect_sak_cua_error_phone_validate_release_restristed_user_btn_support":case"vkconnect_sak_cua_error_phone_validate_release_restristed_btn_support":return"Написать в поддержку";case"vkconnect_sak_cua_error_phone_validate_release_restristed_header":return"Номер заблокирован";case"vkconnect_sak_cua_error_phone_validate_release_restristed_text":return"Невозможно изменить номер. Обратитесь в поддержку, чтобы изменить номер, привязанный к вашему аккаунту";case"vkconnect_sak_cua_error_phone_otp_enabled_header":return"Номер уже используется в другом аккаунте с 2FA";case"vkconnect_sak_cua_error_phone_otp_enabled_text":return"Чтобы привязать номер, перейдите в аккаунт, где этот номер уже используется, и отключите двухфакторную аутентификацию";case"vkconnect_sak_cua_error_phone_otp_enabled_btn_use_phone":case"vkconnect_sak_cua_error_phone_validate_occupied_btn_use_phone":return"Указать другой номер";case"vkconnect_sak_cua_error_phone_otp_enabled_btn_support":return"Как освободить этот номер";case"vkconnect_sak_cua_error_phone_validate_incorrect_phone_header":return"Номер не найден";case"vkconnect_sak_cua_error_phone_validate_incorrect_phone_text":return"Этот номер не существует или указан неправильно. \nУбедитесь, что ввели его без ошибок, и попробуйте снова.";case"vkconnect_sak_cua_error_phone_validate_incorrect_phone_text_btn_use_phone":return"Повторить попытку";case"vkconnect_sak_cua_error_phone_validate_current_phone_activated_header":return"К VK ID уже привязан номер";case"vkconnect_sak_cua_error_phone_validate_current_phone_activated_text":return"К вашему аккаунту VK ID уже привязан номер";case"vkconnect_sak_cua_error_phone_validate_user_already_activated_today_header":case"vkconnect_sak_cua_error_phone_validate_already_used_today_header":return"Вы уже привязали номер";case"vkconnect_sak_cua_error_phone_validate_user_already_activated_today_text":case"vkconnect_sak_cua_error_phone_validate_already_used_today_text":return"Исчерпан дневной лимит на привязку номеров.\nПопробуйте снова завтра.";case"vkconnect_sak_cua_error_phone_validate_used_last_bind_text":return"Номер {phone} уже недавно привязывался к другому аккаунту ВКонтакте. Страницу можно привязать к другому номеру или попробовать использовать этот номер позже.";case"vkconnect_sak_cua_error_phone_validate_banned_header":return"Аккаунт или номер заблокированы";case"vkconnect_sak_cua_error_phone_validate_banned_text":return"Дождитесь разблокировки и попробуйте снова";case"vkconnect_sak_cua_error_phone_validate_unknown_error_header":return"Возникла ошибка";case"vkconnect_sak_cua_error_phone_validate_unknown_error_text":return"Не удалось привязать номер из-за системной ошибки";case"vkconnect_sak_cua_error_phone_validate_already_phone_owner_header":return"Номер уже привязан";case"vkconnect_sak_cua_error_phone_validate_already_phone_owner_text":return"Этот номер уже привязан к вашему аккаунту VK ID";case"vkconnect_sak_cua_error_phone_validate_occupied_header":return"Номер занят";case"vkconnect_sak_cua_error_phone_validate_occupied_text":return"Этот номер уже используется в другом аккаунте VK ID. \nУкажите другой.";case"vkconnect_sak_cua_number_verification":return"Верификация номера...";case"vkconnect_sak_cua_number_verification_wait":return"Подождите немного, \n не закрывая это окно";default:return""}}},604581:(e,n,t)=>{t.d(n,{attemptJsonParse:()=>o});var r=t(913643);function o(e){try{return JSON.parse(e)}catch(n){(0,r.errorLogger)("[parseJsonMessage] Got invalid JSON data:",e)}}},913643:(e,n,t)=>{t.d(n,{errorLogger:()=>r});var r=function(){}},825782:(e,n,t)=>{function r(e){return Object.keys(e).map((function(n){var t=e[n];return(n=encodeURIComponent(n||""))+"="+(t=encodeURIComponent(t||""))})).join("&")}t.d(n,{makeParams:()=>r})},401103:(e,n,t)=>{t.d(n,{useBroadcastChannel:()=>a});var r=t(296540),o=t(604581);function a(e,n){var t=(0,r.useRef)(new BroadcastChannel(e)),a=function(e){return n((0,o.attemptJsonParse)(e.data))};return(0,r.useEffect)((function(){return t.current.addEventListener("message",a),function(){return t.current.removeEventListener("message",a)}}),[e,n]),{postMessage:function(e){var n=JSON.stringify(e);t.current.postMessage(n)},close:function(){t.current.removeEventListener("message",a),t.current.close()}}}},839370:(e,n,t)=>{t.d(n,{useLocalStorageChannel:()=>a});var r=t(296540),o=t(604581);function a(e,n){var t=function(t){t.storageArea===localStorage&&t.key===e&&null!==t.newValue&&n((0,o.attemptJsonParse)(t.newValue))};return(0,r.useEffect)((function(){return window.addEventListener("storage",t),function(){return window.removeEventListener("storage",t)}}),[e,n]),{postMessage:function(n){var t=JSON.stringify(n);localStorage.setItem(e,t),localStorage.removeItem(e);var r=new StorageEvent("storage",{key:e,newValue:t});window.dispatchEvent(r)},close:function(){return window.removeEventListener("storage",t)}}}},711475:(e,n,t)=>{t.d(n,{useTabBroadcast:()=>c});var r=t(208839),o=t(401103),a=t(839370);function c(e){var n=e.name,t=e.prefix,c=void 0===t?r.DEFAULT_TAB_BROADCAST_PREFIX:t,s=e.handleMessage,i=c+":"+n;return"BroadcastChannel"in window?(0,o.useBroadcastChannel)(i,s):(0,a.useLocalStorageChannel)(i,s)}},713013:(e,n,t)=>{t.d(n,{ApiRequestProvider:()=>i});var r=t(474848),o=t(296540),a=t(208839),c=t(913643),s=t(780910),i=function(e){var n=e.children,t=e.apiMethod,i=e.fetchOnMount,u=e.apiRequest,l=e.appId,_=(0,o.useState)(),d=_[0],v=_[1],k=(0,o.useState)(!0),f=k[0],p=k[1],m=(0,o.useState)(!1),h=m[0],g=m[1],y=(0,o.useCallback)((function(e){void 0===e&&(e=!0),e&&p(!0),g(!1);var n={app_id:l,v:a.VK_API_VERSION};return u(t,n).then((function(e){return p(!1),g(!1),v({response:e}),{response:e}})).catch((function(e){p(!1),g(!0),(0,c.errorLogger)(e)}))}),[t,u]);return(0,o.useEffect)((function(){i&&y().catch(c.errorLogger)}),[]),(0,r.jsx)(s.ApiRequestProviderContext.Provider,{value:{fetchData:y,data:d,loading:f,failed:h,appId:l,apiRequest:u},children:n})};i.defaultProps={fetchOnMount:!0}},780910:(e,n,t)=>{t.d(n,{ApiRequestProviderContext:()=>o,useApiRequestProviderContext:()=>a});var r=t(296540),o=(0,r.createContext)({fetchData:function(){return Promise.resolve()},appId:0,apiRequest:function(){return Promise.reject("ApiRequestProviderContext is undefined")}});function a(){return(0,r.useContext)(o)}},336078:(e,n,t)=>{t.d(n,{default:()=>u,langReplaceVar:()=>s});var r=t(148788),o=t(474848),a=t(296540),c=t(676184),s=function(e,n,t){var r=e.split("{"+n+"}");return(0,o.jsxs)(a.Fragment,{children:[r[0],t,r[1]]})},i=function(e){function n(){var n;return(n=e.apply(this,arguments)||this).contentRef=(0,a.createRef)(),n}(0,r.default)(n,e);var t=n.prototype;return t.componentDidMount=function(){var e=this.props.langContext.getLang,n=Object.keys(this.props).reduce((function(e,n){return"lang"===n||(e[n]='<span data-key="'+n+'"></span>'),e}),{});if(this.contentRef.current){var t=e(this.props.lang,n);this.contentRef.current.innerHTML=this.props.replaceFn?this.props.replaceFn(t):t,this.updateKeys()}},t.componentDidUpdate=function(){this.updateKeys()},t.updateKeys=function(){var e=this;if(this.contentRef.current){var n=this.contentRef.current.querySelectorAll("[data-key]");n.length&&[].slice.call(n).map((function(e){return[e,e.getAttribute("data-key")]})).forEach((function(n){var t=n[0],r=n[1];t.textContent=e.props[r]}))}},t.render=function(){return(0,o.jsx)("span",{ref:this.contentRef})},n}(a.Component),u=(0,c.withLangProviderContext)(i)},87819:(e,n,t)=>{t.d(n,{default:()=>c,useLangProviderContext:()=>s});var r=t(474848),o=t(296540),a=t(207108);function c(e){var n={getLang:e.getLang};return(0,r.jsx)(a.LangProviderContext.Provider,{value:n,children:e.children})}function s(){return(0,o.useContext)(a.LangProviderContext)}},207108:(e,n,t)=>{t.d(n,{LangProviderContext:()=>r});var r=(0,t(296540).createContext)({getLang:function(){return""}})},676184:(e,n,t)=>{t.d(n,{withLangProviderContext:()=>a});var r=t(474848),o=t(87819),a=function(e){return function(n){var t=(0,o.useLangProviderContext)();return(0,r.jsx)(e,Object.assign({},n,{langContext:t}))}}},685962:(e,n,t)=>{t.d(n,{Auth:()=>s});var r=t(411423),o=t(772902),a=t(537071),c=t(919507);class s{static login(e){return e.redirectUrl&&o.Config.init({...o.Config.get(),redirectUrl:e.redirectUrl}),e?.entry&&(e.entry=(0,a.makeInitStatsInfo)(e.entry)),r.Auth.login(e),o.Config.get().mode===c.ConfigAuthMode.InNewTab?new Promise((e=>{const n=setInterval((()=>{const t=r.Auth.dataService;void 0!==t&&(clearInterval(n),e(t))}),100)})):Promise.resolve()}}},537071:(e,n,t)=>{function r(e){return e?btoa(JSON.stringify(e)):""}t.d(n,{makeInitStatsInfo:()=>r})},807566:(e,n,t)=>{t.d(n,{Icon12Block:()=>r});var r=(0,t(844990).makeIcon)("Icon12Block","block_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 12" id="block_12"><path fill="currentColor" fill-rule="evenodd" d="M12 6A6 6 0 1 1 0 6a6 6 0 0 1 12 0M8.607 9.668A4.5 4.5 0 0 1 6 10.5a4.5 4.5 0 0 1-3.668-7.107zm1.061-1.06L3.393 2.331A4.5 4.5 0 0 1 6 1.5 4.5 4.5 0 0 1 10.5 6a4.5 4.5 0 0 1-.832 2.607Z" clip-rule="evenodd" /></symbol>',12,12,!1,void 0)},370095:(e,n,t)=>{t.d(n,{Icon12ErrorCircleFillYellow:()=>r});var r=(0,t(844990).makeIcon)("Icon12ErrorCircleFillYellow","error_circle_fill_yellow_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 12" id="error_circle_fill_yellow_12"><path fill="url(#error_circle_fill_yellow_12_a)" fill-rule="evenodd" d="M6 12c-3.312 0-6-2.688-6-6s2.688-6 6-6 6 2.688 6 6-2.688 6-6 6" clip-rule="evenodd" /><path fill="#fff" fill-rule="evenodd" d="M6 3a.75.75 0 0 0-.75.75v2.5a.75.75 0 0 0 1.5 0v-2.5A.75.75 0 0 0 6 3m0 5a.75.75 0 1 0 0 1.5A.75.75 0 0 0 6 8" clip-rule="evenodd" /><defs><linearGradient id="error_circle_fill_yellow_12_a" x1="-6" x2="6" y1="6" y2="18" gradientUnits="userSpaceOnUse"><stop stop-color="#FFB73D" /><stop offset="1" stop-color="#FFA000" /></linearGradient></defs></symbol>',12,12,!1,void 0)},423332:(e,n,t)=>{t.d(n,{Icon20Clear:()=>r});var r=(0,t(844990).makeIcon)("Icon20Clear","clear_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="clear_20"><path fill="currentColor" fill-rule="evenodd" d="M20 10c0-5.523-4.477-10-10-10S0 4.477 0 10s4.477 10 10 10 10-4.477 10-10M7.707 6.293a1 1 0 0 0-1.414 1.414L8.586 10l-2.293 2.293a1 1 0 1 0 1.414 1.414L10 11.414l2.293 2.293a1 1 0 0 0 1.414-1.414L11.414 10l2.293-2.293a1 1 0 0 0-1.414-1.414L10 8.586z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},787315:(e,n,t)=>{t.d(n,{VK_WEB_AUTH_APP_ID:()=>o,initVkId:()=>a});var r=t(772902);const o=7913379;function a(){const{loginDomain:e,connectDomain:n}=window.vk.apiConfigDomains;r.Config.init({appId:o,loginDomain:e,connectDomain:n})}},580555:(e,n,t)=>{t.d(n,{EcosystemMultiAccountComponent:()=>m});var r=t(474848),o=t(255115),a=t(610989),c=t(933052),s=t(105352),i=t(685962),u=t(216147),l=t(832813),_=t(296540),d=t(935037),v=t(705744),k=t(26020),f=t(331876),p=t(377803);function m(e){const{multiaccId:n,userId:t,isInsideEcoPlate:m=!1}=e,h=(0,_.useContext)(f.EcoPlateAnalyticsContext),[g,y]=(0,_.useState)(!1),[b,A]=(0,_.useState)(!1),E="profile",x={maxAccounts:2,hasNewLabel:!1,afterAccountChange:()=>{sessionStorage.setItem(d.NOTIFY_SWITCH_KEY,"should")},userId:String(t),afterAccountChangeHref:location.origin+"/feed",vkDomain:window.vk?.apiConfigDomains?.domain??(0,v.getHostName)(),onSwitcherFail:()=>{h?.logSwitcherError()},redirectTo:e.redirectTo};localStorage.setItem("userId",String(t));return(0,r.jsx)(o.EcosystemMultiAccounts,{appId:s.VK_WEB_APP_ID,onApiRequest:c.api,onLoginRequest:c.login,disabled:g,onAccountAdd:()=>{A(!0),y(!0),localStorage.setItem(d.NOTIFY_SWITCH_KEY,"0"),h?.logMultiaccAddAnotherTap(),(0,l.logSwitcherAddAnotherTapEvent)(n,E);const r=(0,k.shouldSkipRedirect)(e.redirectTo)?location.href:location.origin+"/feed";let o=u.ColorSchemeName[u.colorScheme.isDarkScheme()?"Dark":"Light"];const a=u.colorScheme.subscribe((()=>{o=u.colorScheme.isDarkScheme()?u.ColorSchemeName.Dark:u.ColorSchemeName.Light,a()})),c={redirectUrl:r,scheme:o,source:"switcher"};c.action={name:"multi_account_flow",params:{flow_name:"add_to_switcher",user_id:t}},i.Auth.login(c)},onAccountClick:r=>{h?.logMultaccSwitchAccountTap(),(0,l.logSwitchAccountTapEvent)(n,E),(0,l.prepareLogSwitchAccountEvent)(),localStorage.setItem(d.NOTIFY_SWITCH_KEY,"0"),localStorage.setItem(d.LOG_ACC_SWITCH_KEY,String(t)),sessionStorage.setItem(d.NOTIFY_SWITCH_KEY,"should");const o={user_hash:r.user_hash,to_user_id:r.user_id,to:(0,k.shouldSkipRedirect)(e.redirectTo)?btoa(location.href):btoa(location.origin+"/feed")};y(!0),A(!0),(0,c.login)("change_account",o).then((e=>{if(!e.url)return Promise.reject(e);location.href=e.url})).catch((e=>(y(!1),A(!1),Promise.reject(e))))},onAccountDelete:()=>{(0,l.logSwitcherDropAccount)(n,E),h?.logMultaccDropAccountTap()},isLoading:b,getLang:a.getLang,config:x,styles:{cellHoverBackground:"var(--vkui--vkontakte_background_hover_alpha)",backdropBackground:p.default.colorBackgroundModal.normal.value,insideNewEcosystemMenu:m}})}},26020:(e,n,t)=>{t.d(n,{shouldSkipRedirect:()=>r});const r=e=>{let n=!1;const t=new URL(location.href);return e?.every((e=>!t.pathname.includes(e)||(n=!0,!1))),n}}}]);try{stManager.done("dist/web/chunks/f89c9c71.815b597f.js")}catch(e){}